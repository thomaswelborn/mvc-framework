var MVC=MVC||{};MVC.Constants={},MVC.CONST=MVC.Constants,MVC.Constants.Events={},MVC.CONST.EV=MVC.Constants.Events,MVC.Utils={},MVC.Utils.addPropertiesToObject=function(){var t;switch(arguments.length){case 2:var e=arguments[0];for(var[s,i]of(t=arguments[1],Object.entries(e)))t[s]=i;break;case 3:var r=arguments[0],a=arguments[1];(t=arguments[2])[r]=a}return t},MVC.Utils.isArray=function(t){return Array.isArray(t)},MVC.Utils.isObject=function(t){return!Array.isArray(t)&&"object"==typeof t},MVC.Utils.isEqualType=function(t,e){return t===e},MVC.Utils.isHTMLElement=function(t){return t instanceof HTMLElement},MVC.Utils.objectQuery=function(t,e){var s=MVC.Utils.objectQuery.parseNotation(t);return"@"===s[0]&&s.splice(0,1),s.length?(e=MVC.Utils.isObject(e)?Object.entries(e):e,s.reduce((t,e,s,i)=>{var r=[];for(var[a,n]of(e=MVC.Utils.objectQuery.parseFragment(e),t))a.match(e)&&(r=s===i.length-1?r.concat([[a,n]]):r.concat(Object.entries(n)));return t=r},e)):e},MVC.Utils.objectQuery.parseNotation=function(t){return t="["===t.charAt(0)&&"]"==t.charAt(t.length-1)?t.slice(1,-1).split("]["):t.split(".")},MVC.Utils.objectQuery.parseFragment=function(t){return"/"===t.charAt(0)&&"/"==t.charAt(t.length-1)&&(t=t.slice(1,-1),t=new RegExp("^".concat(t,"$"))),t},MVC.Utils.paramsToObject=function(t){t=t.split("&");var e={};return t.forEach(t=>{t=t.split("="),e[t[0]]=decodeURIComponent(t[1]||"")}),JSON.parse(JSON.stringify(e))},MVC.Utils.toggleEventsForTargetObjects=function(t,e,s,i){for(var[r,a]of Object.entries(e)){var n=r.split(" "),l=n[0],h=n[1],o=MVC.Utils.objectQuery(l,s);for(var[c,b]of o=MVC.Utils.isArray(o)?o:[["@",o]]){var v="on"===t?b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"addEventListener":"on":b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"removeEventListener":"off",d=MVC.Utils.objectQuery(a,i)[0][1];if(b instanceof NodeList)for(var u of b)u[v](h,d);else HTMLElement,b[v](h,d)}}},MVC.Utils.bindEventsToTargetObjects=function(){this.toggleEventsForTargetObjects("on",...arguments)},MVC.Utils.unbindEventsFromTargetObjects=function(){this.toggleEventsForTargetObjects("off",...arguments)},MVC.Utils.typeOf=function(t){switch(typeof t){case"object":return MVC.Utils.isArray(t)?"array":MVC.Utils.isObject(t)?"object":null===t?"null":void 0;case"string":case"number":case"boolean":case"undefined":case"function":return typeof t}},MVC.Utils.validateDataSchema=function(t,e){if(!e)throw MVC.TMPL;switch(MVC.Utils.typeOf(t)){case"array":var s=[];if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(s)))for(var[i,r]of(console.log(e.name),Object.entries(t)))s.push(this.validateDataSchema(r));return s;case"object":var a={};if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(a)))for(var[n,l]of(console.log(e.name),Object.entries(t)))a[n]=this.validateDataSchema(l,e[n]);return a;case"string":case"number":case"boolean":if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return console.log(e.name),t;throw MVC.TMPL;case"null":if(MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return t;break;case"undefined":case"function":throw MVC.TMPL}},MVC.Events=class{constructor(){}get _events(){return this.events=this.events?this.events:{},this.events}eventCallbacks(t){return this._events[t]||{}}eventCallbackName(t){return t.name.length?t.name:"anonymousFunction"}eventCallbackGroup(t,e){return t[e]||[]}on(t,e){var s=this.eventCallbacks(t),i=this.eventCallbackName(e),r=this.eventCallbackGroup(s,i);r.push(e),s[i]=r,this._events[t]=s}off(){switch(arguments.length){case 1:var t=arguments[0];delete this._events[t];break;case 2:t=arguments[0];var e=arguments[1],s=this.eventCallbackName(e);delete this._events[t][s]}}emit(t,e){var s=this.eventCallbacks(t);for(var[i,r]of Object.entries(s))for(var a of r){a(e,...Object.values(arguments).splice(2)||[])}}},MVC.Channels=class{constructor(){}get _channels(){return this.channels=this.channels?this.channels:{},this.channels}channel(t){return this._channels[t]=this._channels[t]?this._channels[t]:new MVC.Channels.Channel,this._channels[t]}off(t){delete this._channels[t]}},MVC.Channels.Channel=class{constructor(){}get _responses(){return this.responses=this.responses?this.responses:{},this.responses}response(t,e){if(!e)return this._responses[response];this._responses[t]=e}request(t,e){if(this._responses[t])return this._responses[t](e)}off(t){if(t)delete this._responses[t];else for(var[e]of Object.keys(this._responses))delete this._responses[e]}},MVC.Base=class extends MVC.Events{constructor(t,e){super(),e&&(this._configuration=e),t&&(this._settings=t)}get _configuration(){return this.configuration=this.configuration?this.configuration:{},this.configuration}set _configuration(t){this.configuration=t}get _settings(){return this.settings=this.settings?this.settings:{},this.settings}set _settings(t){this.settings=MVC.Utils.addPropertiesToObject(t,this._settings)}get _emitters(){return this.emitters=this.emitters?this.emitters:{},this.emitters}set _emitters(t){this.emitters=MVC.Utils.addPropertiesToObject(t,this._emitters)}},MVC.Service=class extends MVC.Base{constructor(){super(...arguments)}get _defaults(){return this.defaults||{contentType:{"Content-Type":"application/json"},responseType:"json"}}get _responseTypes(){return["","arraybuffer","blob","document","json","text"]}get _responseType(){return this.responseType}set _responseType(t){this._xhr.responseType=this._responseTypes.find(e=>e===t)||this._defaults.responseType}get _type(){return this.type}set _type(t){this.type=t}get _url(){return this.url}set _url(t){this.url=t}get _headers(){return this.headers||[]}set _headers(t){this._headers.length=0,t.forEach(t=>{this._headers.push(t),t=Object.entries(t)[0],this._xhr.setRequestHeader(t[0],t[1])})}get _data(){return this.data}set _data(t){this.data=t}get _xhr(){return this.xhr=this.xhr?this.xhr:new XMLHttpRequest,this.xhr}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}request(t){return t=t||this.data||null,new Promise((e,s)=>{200===this._xhr.status&&this._xhr.abort(),this._xhr.open(this.type,this.url),this._headers=this.settings.headers||[this._defaults.contentType],this._xhr.onload=e,this._xhr.onerror=s,this._xhr.send(t)}).then(t=>(this.emit("xhr:resolve",{name:"xhr:resolve",data:t.currentTarget}),t))}enable(){var t=this.settings;return!this.enabled&&Object.keys(t).length&&(t.type&&(this._type=t.type),t.url&&(this._url=t.url),t.data&&(this._data=t.data||null),this.settings.responseType&&(this._responseType=this._settings.responseType),this._enabled=!0),this}disable(){var t=this.settings;return this.enabled&&Object.keys(t).length&&(delete this._type,delete this._url,delete this._data,delete this._headers,delete this._responseType,this._enabled=!1),this}},MVC.Model=class extends MVC.Base{constructor(){super(...arguments)}get _isSetting(){return this.isSetting}set _isSetting(t){this.isSetting=t}get _localStorage(){return this.localStorage}set _localStorage(t){this.localStorage=t}get _defaults(){return this.defaults}set _defaults(t){this.defaults=t}get _schema(){return this._schema}set _schema(t){this.schema=t}get _histiogram(){return this.histiogram||{length:1}}set _histiogram(t){this.histiogram=Object.assign(this._histiogram,t)}get _history(){return this.history=this.history?this.history:[],this.history}set _history(t){Object.keys(t).length&&this._histiogram.length&&(this._history.unshift(this.parse(t)),this._history.splice(this._histiogram.length))}get _db(){var t=localStorage.getItem(this.localStorage.endpoint);return this.db=t||"{}",JSON.parse(this.db)}set _db(t){t=JSON.stringify(t),localStorage.setItem(this.localStorage.endpoint,t)}get _data(){return this.data=this.data?this.data:{},this.data}get _dataEvents(){return this.dataEvents=this.dataEvents?this.dataEvents:{},this.dataEvents}set _dataEvents(t){this.dataEvents=MVC.Utils.addPropertiesToObject(t,this._dataEvents)}get _dataCallbacks(){return this.dataCallbacks=this.dataCallbacks?this.dataCallbacks:{},this.dataCallbacks}set _dataCallbacks(t){this.dataCallbacks=MVC.Utils.addPropertiesToObject(t,this._dataCallbacks)}get _services(){return this.services=this.services?this.services:{},this.services}set _services(t){this.services=MVC.Utils.addPropertiesToObject(t,this._services)}get _serviceEvents(){return this.serviceEvents=this.serviceEvents?this.serviceEvents:{},this.serviceEvents}set _serviceEvents(t){this.serviceEvents=MVC.Utils.addPropertiesToObject(t,this._serviceEvents)}get _serviceCallbacks(){return this.serviceCallbacks=this.serviceCallbacks?this.serviceCallbacks:{},this.serviceCallbacks}set _serviceCallbacks(t){this.serviceCallbacks=MVC.Utils.addPropertiesToObject(t,this._serviceCallbacks)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableServiceEvents(){MVC.Utils.bindEventsToTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}disableServiceEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}enableDataEvents(){MVC.Utils.bindEventsToTargetObjects(this.dataEvents,this,this.dataCallbacks)}disableDataEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.dataEvents,this,this.dataCallbacks)}setDefaults(){var t={};this.defaults&&Object.assign(t,this.defaults),this.localStorage&&Object.assign(t,this._db),Object.keys(t)&&this.set(t)}get(){var t=arguments[0];return this._data["_".concat(t)]}set(){switch(this._history=this.parse(),arguments.length){case 1:this._isSetting=!0;var t=Object.entries(arguments[0]);t.forEach((e,s)=>{var[i,r]=e;s===t.length-1&&(this._isSetting=!1),this.setDataProperty(i,r),this.localStorage&&this.setDB(i,r)});break;case 2:var e=arguments[0],s=arguments[1];this.setDataProperty(e,s),this.localStorage&&this.setDB(e,s)}return this}unset(){switch(this._history=this.parse(),arguments.length){case 0:for(var t of Object.keys(this._data))this.unsetDataProperty(t);break;case 1:var e=arguments[0];this.unsetDataProperty(e)}return this}setDB(){var t=this._db;switch(arguments.length){case 1:Object.entries(arguments[0]).forEach(e=>{var[s,i]=e;t[s]=i});break;case 2:var e=arguments[0],s=arguments[1];t[e]=s}this._db=t}unsetDB(){switch(arguments.length){case 0:delete this._db;break;case 1:var t=this._db;delete t[arguments[0]],this._db=t}}setDataProperty(t,e){if(!this._data["_".concat(t)]){var s=this;Object.defineProperties(this._data,{["_".concat(t)]:{configurable:!0,get(){return this[t]},set(e){this[t]=e;var i=["set",":",t].join("");s._isSetting||(s.emit(i,{name:i,data:{key:t,value:e}},s),s.emit("set",{name:"set",data:{key:t,value:e}},s))}}})}this._data["_".concat(t)]=e}unsetDataProperty(t){var e=["unset",":",t].join(""),s=this._data[t];delete this._data["_".concat(t)],delete this._data[t],this.emit(e,{name:e,data:{key:t,value:s}}),this.emit("unset",{name:"unset",data:{key:t,value:s}})}parse(t){return t=t||this._data,JSON.parse(JSON.stringify(Object.assign({},t)))}enable(){this.settings&&!this.enabled&&(this.settings.localStorage&&(this._localStorage=this.settings.localStorage),this.settings.histiogram&&(this._histiogram=this.settings.histiogram),this.settings.emitters&&(this._emitters=this.settings.emitters),this.settings.services&&(this._services=this.settings.services),this.settings.serviceCallbacks&&(this._serviceCallbacks=this.settings.serviceCallbacks),this.settings.serviceEvents&&(this._serviceEvents=this.settings.serviceEvents),this.settings.data&&this.set(this.settings.data),this.settings.dataCallbacks&&(this._dataCallbacks=this.settings.dataCallbacks),this.settings.dataEvents&&(this._dataEvents=this.settings.dataEvents),this.settings.schema&&(this._schema=this.settings.schema),this.settings.defaults&&(this._defaults=this.settings.defaults),this.services&&this.serviceEvents&&this.serviceCallbacks&&this.enableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.enableDataEvents(),this._enabled=!0)}disable(){this.settings&&!this.enabled&&(this.services&&this.serviceEvents&&this.serviceCallbacks&&this.disableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.disableDataEvents(),delete this._localStorage,delete this._histiogram,delete this._services,delete this._serviceCallbacks,delete this._serviceEvents,delete this._data,delete this._dataCallbacks,delete this._dataEvents,delete this._schema,delete this._emitters,this._enabled=!1)}},MVC.Emitter=class extends MVC.Model{constructor(){super(...arguments),this.settings&&this.settings.name&&(this._name=this.settings.name)}get _name(){return this.name}set _name(t){this.name=t}emission(){var t={name:this.name,data:this.data};return this.emit(this.name,t),t}},MVC.View=class extends MVC.Base{constructor(){super(...arguments)}get _elementName(){return this._element.tagName}set _elementName(t){this._element||(this._element=document.createElement(t))}get _element(){return this.element}set _element(t){t instanceof HTMLElement||t instanceof Document?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}get _attributes(){return this._element.attributes}set _attributes(t){for(var[e,s]of Object.entries(t))void 0===s?this._element.removeAttribute(e):this._element.setAttribute(e,s)}get _ui(){return this.ui=this.ui?this.ui:{},this.ui}set _ui(t){for(var[e,s]of(this._ui.$element||(this._ui.$element=this.element),Object.entries(t)))"string"==typeof s?this._ui[e]=this._element.querySelectorAll(s):(s instanceof HTMLElement||s instanceof Document)&&(this._ui[e]=s)}get _uiEvents(){return this.uiEvents}set _uiEvents(t){this.uiEvents=t}get _uiCallbacks(){return this.uiCallbacks=this.uiCallbacks?this.uiCallbacks:{},this.uiCallbacks}set _uiCallbacks(t){this.uiCallbacks=MVC.Utils.addPropertiesToObject(t,this._uiCallbacks)}get _observerCallbacks(){return this.observerCallbacks=this.observerCallbacks?this.observerCallbacks:{},this.observerCallbacks}set _observerCallbacks(t){this.observerCallbacks=MVC.Utils.addPropertiesToObject(t,this._observerCallbacks)}get elementObserver(){return this._elementObserver=this._elementObserver?this._elementObserver:new MutationObserver(this.elementObserve.bind(this)),this._elementObserver}get _insert(){return this.insert}set _insert(t){this.insert=t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _templates(){return this.templates=this.templates?this.templates:{},this.templates}set _templates(t){this.templates=MVC.Utils.addPropertiesToObject(t,this._templates)}elementObserve(t,e){for(var[s,i]of Object.entries(t))switch(i.type){case"childList":for(var r of["addedNodes","removedNodes"])i[r].length&&this.resetUI()}}autoInsert(){this.insert&&document.querySelectorAll(this.insert.element).forEach(t=>{t.insertAdjacentElement(this.insert.method,this.element)})}autoRemove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}enableElement(t){(t=t||this.settings).elementName&&(this._elementName=t.elementName),t.element&&(this._element=t.element),t.attributes&&(this._attributes=t.attributes),t.templates&&(this._templates=t.templates),t.insert&&(this._insert=t.insert)}disableElement(t){t=t||this.settings,this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element&&delete this.element,this.attributes&&delete this.attributes,this.templates&&delete this.templates,this.insert&&delete this.insert}resetUI(){this.disableUI(),this.enableUI()}enableUI(t){(t=t||this.settings).ui&&(this._ui=t.ui),t.uiCallbacks&&(this._uiCallbacks=t.uiCallbacks),t.uiEvents&&(this._uiEvents=t.uiEvents,this.enableUIEvents())}disableUI(t){(t=t||this.settings).uiEvents&&(this.disableUIEvents(),delete this._uiEvents),delete this.uiEvents,delete this.ui,delete this.uiCallbacks}enableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.bindEventsToTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}disableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.unbindEventsFromTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}enableEmitters(){this.settings.emitters&&(this._emitters=this.settings.emitters)}disableEmitters(){this._emitters&&delete this._emitters}enable(){var t=this.settings;if(t&&!this._enabled)return this.enableEmitters(),this.enableElement(t),this.enableUI(t),this._enabled=!0,this}disable(){var t=this.settings;if(t&&this._enabled)return this.disableUI(t),this.disableElement(t),this.disableEmitters(),this._enabled=!1,thiss}},MVC.Controller=class extends MVC.Base{constructor(){super(...arguments)}get _emitterCallbacks(){return this.emitterCallbacks=this.emitterCallbacks?this.emitterCallbacks:{},this.emitterCallbacks}set _emitterCallbacks(t){this.emitterCallbacks=MVC.Utils.addPropertiesToObject(t,this._emitterCallbacks)}get _modelCallbacks(){return this.modelCallbacks=this.modelCallbacks?this.modelCallbacks:{},this.modelCallbacks}set _modelCallbacks(t){this.modelCallbacks=MVC.Utils.addPropertiesToObject(t,this._modelCallbacks)}get _viewCallbacks(){return this.viewCallbacks=this.viewCallbacks?this.viewCallbacks:{},this.viewCallbacks}set _viewCallbacks(t){this.viewCallbacks=MVC.Utils.addPropertiesToObject(t,this._viewCallbacks)}get _controllerCallbacks(){return this.controllerCallbacks=this.controllerCallbacks?this.controllerCallbacks:{},this.controllerCallbacks}set _controllerCallbacks(t){this.controllerCallbacks=MVC.Utils.addPropertiesToObject(t,this._controllerCallbacks)}get _models(){return this.models=this.models?this.models:{},this.models}set _models(t){this.models=MVC.Utils.addPropertiesToObject(t,this._models)}get _views(){return this.views=this.views?this.views:{},this.views}set _views(t){this.views=MVC.Utils.addPropertiesToObject(t,this._views)}get _controllers(){return this.controllers=this.controllers?this.controllers:{},this.controllers}set _controllers(t){this.controllers=MVC.Utils.addPropertiesToObject(t,this._controllers)}get _routers(){return this.routers=this.routers?this.routers:{},this.routers}set _routers(t){this.routers=MVC.Utils.addPropertiesToObject(t,this._routers)}get _routerEvents(){return this.routerEvents=this.routerEvents?this.routerEvents:{},this.routerEvents}set _routerEvents(t){this.routerEvents=MVC.Utils.addPropertiesToObject(t,this._routerEvents)}get _routerCallbacks(){return this.routerCallbacks=this.routerCallbacks?this.routerCallbacks:{},this.routerCallbacks}set _routerCallbacks(t){this.routerCallbacks=MVC.Utils.addPropertiesToObject(t,this._routerCallbacks)}get _emitterEvents(){return this.emitterEvents=this.emitterEvents?this.emitterEvents:{},this.emitterEvents}set _emitterEvents(t){this.emitterEvents=MVC.Utils.addPropertiesToObject(t,this._emitterEvents)}get _modelEvents(){return this.modelEvents=this.modelEvents?this.modelEvents:{},this.modelEvents}set _modelEvents(t){this.modelEvents=MVC.Utils.addPropertiesToObject(t,this._modelEvents)}get _viewEvents(){return this.viewEvents=this.viewEvents?this.viewEvents:{},this.viewEvents}set _viewEvents(t){this.viewEvents=MVC.Utils.addPropertiesToObject(t,this._viewEvents)}get _controllerEvents(){return this.controllerEvents=this.controllerEvents?this.controllerEvents:{},this.controllerEvents}set _controllerEvents(t){this.controllerEvents=MVC.Utils.addPropertiesToObject(t,this._controllerEvents)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableModelEvents(){MVC.Utils.bindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}disableModelEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}enableViewEvents(){MVC.Utils.bindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}disableViewEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}enableControllerEvents(){MVC.Utils.bindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}disableControllerEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}enableEmitterEvents(){MVC.Utils.bindEventsToTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}disableEmitterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}enableRouterEvents(){MVC.Utils.bindEventsToTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}disableRouterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}enable(){var t=this.settings;t&&!this.enabled&&(t.modelCallbacks&&(this._modelCallbacks=t.modelCallbacks),t.viewCallbacks&&(this._viewCallbacks=t.viewCallbacks),t.controllerCallbacks&&(this._controllerCallbacks=t.controllerCallbacks),t.emitterCallbacks&&(this._emitterCallbacks=t.emitterCallbacks),t.routerCallbacks&&(this._routerCallbacks=t.routerCallbacks),t.models&&(this._models=t.models),t.views&&(this._views=t.views),t.controllers&&(this._controllers=t.controllers),t.emitters&&(this._emitters=t.emitters),t.routers&&(this._routers=t.routers),t.modelEvents&&(this._modelEvents=t.modelEvents),t.viewEvents&&(this._viewEvents=t.viewEvents),t.controllerEvents&&(this._controllerEvents=t.controllerEvents),t.emitterEvents&&(this._emitterEvents=t.emitterEvents),t.routerEvents&&(this._routerEvents=t.routerEvents),this.modelEvents&&this.models&&this.modelCallbacks&&this.enableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.enableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.enableControllerEvents(),this.routerEvents&&this.routers&&this.routerCallbacks&&this.enableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&this.enableEmitterEvents(),this._enabled=!0)}reset(){this.disable(),this.enable()}disable(){this.settings&&this.enabled&&(this.modelEvents&&this.models&&this.modelCallbacks&&this.disableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.disableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.disableControllerEvents()),this.routerEvents&&this.routers&&this.routerCallbacks&&this.disableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&(this.disableEmitterEvents(),delete this._modelCallbacks,delete this._viewCallbacks,delete this._controllerCallbacks,delete this._emitterCallbacks,delete this._routerCallbacks,delete this._models,delete this._views,delete this._controllers,delete this._emitters,delete this._routers,delete this._routerEvents,delete this._modelEvents,delete this._viewEvents,delete this._controllerEvents,delete this._emitterEvents,this._enabled=!1)}},MVC.Emitters={},MVC.Emitters.Navigate=class extends MVC.Emitter{constructor(){super(...arguments),this.addSettings(),this.enable()}addSettings(){this._name="navigate",this._schema={oldURL:String,newURL:String,currentRoute:String,currentController:String}}},MVC.Router=class extends MVC.Base{constructor(){super(...arguments)}get protocol(){return window.location.protocol}get hostname(){return window.location.hostname}get port(){return window.location.port}get path(){return window.location.pathname}get hash(){var t=window.location.href,e=t.indexOf("#");if(e>-1){var s,i=t.indexOf("?"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get params(){var t=window.location.href,e=t.indexOf("?");if(e>-1){var s,i=t.indexOf("#"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get _routeData(){var t={},e=this.path.split("/").filter(t=>t.length);e=e.length?e:["/"];var s=this.hash,i=s?s.split("/").filter(t=>t.length):null,r=this.params,a=r?MVC.Utils.paramsToObject(r):null;return this.protocol&&(t.protocol=this.protocol),this.hostname&&(t.hostname=this.hostname),this.port&&(t.port=this.port),this.path&&(t.path=this.path),s&&i&&(i=i.length?i:["/"],t.hash={path:s,fragments:i}),r&&a&&(t.params={path:r,data:a}),t.path={name:this.path,fragments:e},t.currentURL=this.currentURL,t=Object.assign(t,this._routeControllerData),this.routeData=t,this.routeData}get _routeControllerData(){var t={};return Object.entries(this.routes).forEach(e=>{var[s,i]=e,r=this.path.split("/").filter(t=>t.length);r=r.length?r:["/"];var a,n=s.split("/").filter((t,e)=>t.length);if(n=n.length?n:["/"],r.length&&r.length===n.length)return n.filter((e,l)=>{if((void 0===a||!0===a)&&(":"===e[0]?(t[e.replace(":","")]=r[l],e=this.fragmentIDRegExp):(e=e.replace(new RegExp("/","gi"),"\\/"),e=this.routeFragmentNameRegExp(e)),!0===(a=e.test(r[l]))&&l===r.length-1))return t.route={name:s,fragments:n},t.controller=i,i})[0]}),t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _routes(){return this.routes=this.routes?this.routes:{},this.routes}set _routes(t){this.routes=MVC.Utils.addPropertiesToObject(t,this._routes)}get _controller(){return this.controller}set _controller(t){this.controller=t}get _previousURL(){return this.previousURL}set _previousURL(t){this.previousURL=t}get _currentURL(){return this.currentURL}set _currentURL(t){this.currentURL&&(this._previousURL=this.currentURL),this.currentURL=t}get fragmentIDRegExp(){return new RegExp(/^([0-9A-Z\?\=\,\.\*\-\_\'\"\^\%\$\#\@\!\~\(\)\{\}\&\<\>\\\/])*$/,"gi")}routeFragmentNameRegExp(t){return new RegExp("^".concat(t,"$"))}enable(){this.settings&&!this.enabled&&(this.enableEmitters(),this.enableEvents(),this.enableRoutes(),this.routeChange(),this._enabled=!0)}disable(){this.settings&&this.enabled&&(this.disableEvents(),this.disableRoutes(),this.disableEmitters(),this._enabled=!1)}enableRoutes(){this.settings.controller&&(this._controller=this.settings.controller),this._routes=Object.entries(this.settings.routes).reduce((t,e,s,i)=>{var[r,a]=e;return t[r]=Object.assign(a,{callback:this.controller[a.callback].bind(this.controller)}),t},{})}enableEmitters(){this._emitters={navigateEmitter:new MVC.Emitters.Navigate}}disableEmitters(){delete this._emitters.navigateEmitter}disableRoutes(){delete this._routes,delete this._controller}enableEvents(){window.addEventListener("hashchange",this.routeChange.bind(this))}disableEvents(){window.removeEventListener("hashchange",this.routeChange.bind(this))}routeChange(){this._currentURL=window.location.href;var t=this._routeData;if(t.controller){var e=this.emitters.navigateEmitter;this.previousURL&&(t.previousURL=this.previousURL),e.unset().set(t),this.emit(e.name,e.emission()),t.controller.callback(e.emission())}}navigate(t){window.location.hash=t}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1WQy5qcyIsIkNvbnN0YW50cy5qcyIsIkV2ZW50cy5qcyIsImluZGV4LmpzIiwiYWRkUHJvcGVydGllc1RvT2JqZWN0LmpzIiwiaXMuanMiLCJvYmplY3RRdWVyeS5qcyIsInBhcmFtc1RvT2JqZWN0LmpzIiwidG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cy5qcyIsInR5cGVPZi5qcyIsInZhbGlkYXRlRGF0YVNjaGVtYS5qcyIsIkNoYW5uZWxzLmpzIiwiQ2hhbm5lbC5qcyIsIkJhc2UuanMiLCJTZXJ2aWNlLmpzIiwiTW9kZWwuanMiLCJFbWl0dGVyLmpzIiwiVmlldy5qcyIsIkNvbnRyb2xsZXIuanMiLCJOYXZpZ2F0ZS5qcyIsIlJvdXRlci5qcyJdLCJuYW1lcyI6WyJNVkMiLCJDb25zdGFudHMiLCJDT05TVCIsIkV2ZW50cyIsIkVWIiwiVXRpbHMiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QiLCJ0YXJnZXRPYmplY3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwcm9wZXJ0aWVzIiwiX3Byb3BlcnR5TmFtZSIsIl9wcm9wZXJ0eVZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInByb3BlcnR5TmFtZSIsInByb3BlcnR5VmFsdWUiLCJpc0FycmF5Iiwib2JqZWN0IiwiQXJyYXkiLCJpc09iamVjdCIsImlzRXF1YWxUeXBlIiwidmFsdWVBIiwidmFsdWVCIiwiaXNIVE1MRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwib2JqZWN0UXVlcnkiLCJzdHJpbmciLCJjb250ZXh0Iiwic3RyaW5nRGF0YSIsInBhcnNlTm90YXRpb24iLCJzcGxpY2UiLCJyZWR1Y2UiLCJmcmFnbWVudCIsImZyYWdtZW50SW5kZXgiLCJmcmFnbWVudHMiLCJwcm9wZXJ0eUtleSIsInBhcnNlRnJhZ21lbnQiLCJtYXRjaCIsImNvbmNhdCIsImNoYXJBdCIsInNsaWNlIiwic3BsaXQiLCJSZWdFeHAiLCJwYXJhbXNUb09iamVjdCIsInBhcmFtcyIsImZvckVhY2giLCJwYXJhbURhdGEiLCJkZWNvZGVVUklDb21wb25lbnQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ0b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzIiwidG9nZ2xlTWV0aG9kIiwiZXZlbnRzIiwidGFyZ2V0T2JqZWN0cyIsImNhbGxiYWNrcyIsImV2ZW50U2V0dGluZ3MiLCJldmVudENhbGxiYWNrTmFtZSIsImV2ZW50RGF0YSIsImV2ZW50VGFyZ2V0U2V0dGluZ3MiLCJldmVudE5hbWUiLCJldmVudFRhcmdldHMiLCJldmVudFRhcmdldE5hbWUiLCJldmVudFRhcmdldCIsImV2ZW50TWV0aG9kTmFtZSIsIk5vZGVMaXN0IiwiRG9jdW1lbnQiLCJldmVudENhbGxiYWNrIiwiX2V2ZW50VGFyZ2V0IiwiYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyIsInRoaXMiLCJ1bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyIsInR5cGVPZiIsImRhdGEiLCJ2YWxpZGF0ZURhdGFTY2hlbWEiLCJzY2hlbWEiLCJUTVBMIiwiYXJyYXkiLCJhcnJheUtleSIsImFycmF5VmFsdWUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsInB1c2giLCJvYmplY3RLZXkiLCJvYmplY3RWYWx1ZSIsIltvYmplY3QgT2JqZWN0XSIsIl9ldmVudHMiLCJldmVudENhbGxiYWNrcyIsImV2ZW50Q2FsbGJhY2tHcm91cCIsImV2ZW50Q2FsbGJhY2tHcm91cE5hbWUiLCJ2YWx1ZXMiLCJDaGFubmVscyIsIl9jaGFubmVscyIsImNoYW5uZWxzIiwiY2hhbm5lbE5hbWUiLCJDaGFubmVsIiwiX3Jlc3BvbnNlcyIsInJlc3BvbnNlcyIsInJlc3BvbnNlTmFtZSIsInJlc3BvbnNlQ2FsbGJhY2siLCJyZXNwb25zZSIsInJlcXVlc3REYXRhIiwiX3Jlc3BvbnNlTmFtZSIsImtleXMiLCJCYXNlIiwic2V0dGluZ3MiLCJjb25maWd1cmF0aW9uIiwic3VwZXIiLCJfY29uZmlndXJhdGlvbiIsIl9zZXR0aW5ncyIsIl9lbWl0dGVycyIsImVtaXR0ZXJzIiwiU2VydmljZSIsIl9kZWZhdWx0cyIsImRlZmF1bHRzIiwiY29udGVudFR5cGUiLCJDb250ZW50LVR5cGUiLCJyZXNwb25zZVR5cGUiLCJfcmVzcG9uc2VUeXBlcyIsIl9yZXNwb25zZVR5cGUiLCJfeGhyIiwiZmluZCIsInJlc3BvbnNlVHlwZUl0ZW0iLCJfdHlwZSIsInR5cGUiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiaGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsIl9kYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJfZW5hYmxlZCIsImVuYWJsZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXR1cyIsImFib3J0Iiwib3BlbiIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzZW5kIiwidGhlbiIsImVtaXQiLCJjdXJyZW50VGFyZ2V0IiwiTW9kZWwiLCJfaXNTZXR0aW5nIiwiaXNTZXR0aW5nIiwiX2xvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIl9zY2hlbWEiLCJfaGlzdGlvZ3JhbSIsImhpc3Rpb2dyYW0iLCJhc3NpZ24iLCJfaGlzdG9yeSIsImhpc3RvcnkiLCJ1bnNoaWZ0IiwiX2RiIiwiZGIiLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJzZXRJdGVtIiwiX2RhdGFFdmVudHMiLCJkYXRhRXZlbnRzIiwiX2RhdGFDYWxsYmFja3MiLCJkYXRhQ2FsbGJhY2tzIiwiX3NlcnZpY2VzIiwic2VydmljZXMiLCJfc2VydmljZUV2ZW50cyIsInNlcnZpY2VFdmVudHMiLCJfc2VydmljZUNhbGxiYWNrcyIsInNlcnZpY2VDYWxsYmFja3MiLCJzZXQiLCJwcm9wZXJ0eSIsIl9hcmd1bWVudHMiLCJfcmVmIiwiaW5kZXgiLCJrZXkiLCJ2YWx1ZSIsInNldERhdGFQcm9wZXJ0eSIsInNldERCIiwiX2tleSIsInVuc2V0RGF0YVByb3BlcnR5IiwiX3JlZjIiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY29uZmlndXJhYmxlIiwic2V0VmFsdWVFdmVudE5hbWUiLCJqb2luIiwidW5zZXRWYWx1ZUV2ZW50TmFtZSIsInVuc2V0VmFsdWUiLCJlbmFibGVTZXJ2aWNlRXZlbnRzIiwiZW5hYmxlRGF0YUV2ZW50cyIsImRpc2FibGVTZXJ2aWNlRXZlbnRzIiwiZGlzYWJsZURhdGFFdmVudHMiLCJFbWl0dGVyIiwiX25hbWUiLCJWaWV3IiwiX2VsZW1lbnROYW1lIiwiX2VsZW1lbnQiLCJ0YWdOYW1lIiwiZWxlbWVudE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImVsZW1lbnRPYnNlcnZlciIsIm9ic2VydmUiLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiX2F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlS2V5IiwiYXR0cmlidXRlVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJfdWkiLCJ1aSIsInVpS2V5IiwidWlWYWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdWlFdmVudHMiLCJ1aUV2ZW50cyIsIl91aUNhbGxiYWNrcyIsInVpQ2FsbGJhY2tzIiwiX29ic2VydmVyQ2FsbGJhY2tzIiwib2JzZXJ2ZXJDYWxsYmFja3MiLCJfZWxlbWVudE9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImVsZW1lbnRPYnNlcnZlIiwiYmluZCIsIl9pbnNlcnQiLCJpbnNlcnQiLCJfdGVtcGxhdGVzIiwidGVtcGxhdGVzIiwibXV0YXRpb25SZWNvcmRMaXN0Iiwib2JzZXJ2ZXIiLCJtdXRhdGlvblJlY29yZEluZGV4IiwibXV0YXRpb25SZWNvcmQiLCJtdXRhdGlvblJlY29yZENhdGVnb3J5IiwicmVzZXRVSSIsImluc2VydEFkamFjZW50RWxlbWVudCIsIm1ldGhvZCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImRpc2FibGVVSSIsImVuYWJsZVVJIiwiZW5hYmxlVUlFdmVudHMiLCJkaXNhYmxlVUlFdmVudHMiLCJlbmFibGVFbWl0dGVycyIsImVuYWJsZUVsZW1lbnQiLCJkaXNhYmxlRWxlbWVudCIsImRpc2FibGVFbWl0dGVycyIsInRoaXNzIiwiQ29udHJvbGxlciIsIl9lbWl0dGVyQ2FsbGJhY2tzIiwiZW1pdHRlckNhbGxiYWNrcyIsIl9tb2RlbENhbGxiYWNrcyIsIm1vZGVsQ2FsbGJhY2tzIiwiX3ZpZXdDYWxsYmFja3MiLCJ2aWV3Q2FsbGJhY2tzIiwiX2NvbnRyb2xsZXJDYWxsYmFja3MiLCJjb250cm9sbGVyQ2FsbGJhY2tzIiwiX21vZGVscyIsIm1vZGVscyIsIl92aWV3cyIsInZpZXdzIiwiX2NvbnRyb2xsZXJzIiwiY29udHJvbGxlcnMiLCJfcm91dGVycyIsInJvdXRlcnMiLCJfcm91dGVyRXZlbnRzIiwicm91dGVyRXZlbnRzIiwiX3JvdXRlckNhbGxiYWNrcyIsInJvdXRlckNhbGxiYWNrcyIsIl9lbWl0dGVyRXZlbnRzIiwiZW1pdHRlckV2ZW50cyIsIl9tb2RlbEV2ZW50cyIsIm1vZGVsRXZlbnRzIiwiX3ZpZXdFdmVudHMiLCJ2aWV3RXZlbnRzIiwiX2NvbnRyb2xsZXJFdmVudHMiLCJjb250cm9sbGVyRXZlbnRzIiwiZW5hYmxlTW9kZWxFdmVudHMiLCJlbmFibGVWaWV3RXZlbnRzIiwiZW5hYmxlQ29udHJvbGxlckV2ZW50cyIsImVuYWJsZVJvdXRlckV2ZW50cyIsImVuYWJsZUVtaXR0ZXJFdmVudHMiLCJkaXNhYmxlIiwiZW5hYmxlIiwiZGlzYWJsZU1vZGVsRXZlbnRzIiwiZGlzYWJsZVZpZXdFdmVudHMiLCJkaXNhYmxlQ29udHJvbGxlckV2ZW50cyIsImRpc2FibGVSb3V0ZXJFdmVudHMiLCJkaXNhYmxlRW1pdHRlckV2ZW50cyIsIkVtaXR0ZXJzIiwiTmF2aWdhdGUiLCJhZGRTZXR0aW5ncyIsIm9sZFVSTCIsIlN0cmluZyIsIm5ld1VSTCIsImN1cnJlbnRSb3V0ZSIsImN1cnJlbnRDb250cm9sbGVyIiwiUm91dGVyIiwicHJvdG9jb2wiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwicG9ydCIsInBhdGgiLCJwYXRobmFtZSIsImhhc2giLCJocmVmIiwiaGFzaEluZGV4IiwiaW5kZXhPZiIsInNsaWNlU3RvcCIsInBhcmFtSW5kZXgiLCJzbGljZVN0YXJ0IiwiX3JvdXRlRGF0YSIsInJvdXRlRGF0YSIsImZpbHRlciIsImhhc2hGcmFnbWVudHMiLCJjdXJyZW50VVJMIiwiX3JvdXRlQ29udHJvbGxlckRhdGEiLCJyb3V0ZXMiLCJyb3V0ZVBhdGgiLCJyb3V0ZVNldHRpbmdzIiwicGF0aEZyYWdtZW50cyIsInJvdXRlRnJhZ21lbnRzIiwicm91dGVGcmFnbWVudCIsInJvdXRlRnJhZ21lbnRJbmRleCIsInVuZGVmaW5lZCIsInJlcGxhY2UiLCJmcmFnbWVudElEUmVnRXhwIiwicm91dGVGcmFnbWVudE5hbWVSZWdFeHAiLCJ0ZXN0Iiwicm91dGUiLCJjb250cm9sbGVyIiwiX3JvdXRlcyIsIl9jb250cm9sbGVyIiwiX3ByZXZpb3VzVVJMIiwicHJldmlvdXNVUkwiLCJfY3VycmVudFVSTCIsImVuYWJsZUV2ZW50cyIsImVuYWJsZVJvdXRlcyIsInJvdXRlQ2hhbmdlIiwiZGlzYWJsZUV2ZW50cyIsImRpc2FibGVSb3V0ZXMiLCJyb3V0ZUluZGV4Iiwib3JpZ2luYWxSb3V0ZXMiLCJjYWxsYmFjayIsIm5hdmlnYXRlRW1pdHRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5zZXQiLCJlbWlzc2lvbiJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsSUFBTUEsS0FBTyxHQUNqQkEsSUFBSUMsVUFBWSxHQUNoQkQsSUFBSUUsTUFBUUYsSUFBSUMsVUFDaEJELElBQUlDLFVBQVVFLE9BQVMsR0FDdkJILElBQUlFLE1BQU1FLEdBQUtKLElBQUlDLFVBQVVFLE9BQzdCSCxJQUFJSyxNQUFRLEdBQ1pMLElBQUlLLE1BQU1DLHNCQUF3QixXQUNoQyxJQUFJQyxFQUVKLE9BQVFDLFVBQVVDLFFBQ2hCLEtBQUssRUFDSCxJQUFJQyxFQUFhRixVQUFVLEdBRzNCLElBQUssSUFBS0csRUFBZUMsS0FGekJMLEVBQWVD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NVIsS0FBS2tSLGNBQWF0QixFQUFVc0IsWUFBY2xSLEtBQUtrUixhQUNuRFUsRUFBZ0JHLFFBQVFyTCxJQUFJa0osR0FDNUI1UCxLQUFLNkUsS0FBSytNLEVBQWdCaFIsS0FBTWdSLEVBQWdCSSxZQUNoRHBDLEVBQVVrQixXQUFXYSxTQUFTQyxFQUFnQkksYUFJbERoUixTQUFTa08sR0FDUEosT0FBT0MsU0FBU0ssS0FBT0YiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTVZDID0gTVZDIHx8IHt9XHJcbiIsIk1WQy5Db25zdGFudHMgPSB7fVxuTVZDLkNPTlNUID0gTVZDLkNvbnN0YW50c1xuIiwiTVZDLkV2ZW50cyA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgZ2V0IF9ldmVudHMoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9ICh0aGlzLmV2ZW50cylcclxuICAgICAgPyB0aGlzLmV2ZW50c1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5ldmVudHNcclxuICB9XHJcbiAgZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKSB7IHJldHVybiB0aGlzLl9ldmVudHNbZXZlbnROYW1lXSB8fCB7fSB9XHJcbiAgZXZlbnRDYWxsYmFja05hbWUoZXZlbnRDYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIChldmVudENhbGxiYWNrLm5hbWUubGVuZ3RoKVxyXG4gICAgICA/IGV2ZW50Q2FsbGJhY2submFtZVxyXG4gICAgICA6ICdhbm9ueW1vdXNGdW5jdGlvbidcclxuICB9XHJcbiAgZXZlbnRDYWxsYmFja0dyb3VwKGV2ZW50Q2FsbGJhY2tzLCBldmVudENhbGxiYWNrTmFtZSkge1xyXG4gICAgcmV0dXJuIGV2ZW50Q2FsbGJhY2tzW2V2ZW50Q2FsbGJhY2tOYW1lXSB8fCBbXVxyXG4gIH1cclxuICBvbihldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spIHtcclxuICAgIGxldCBldmVudENhbGxiYWNrcyA9IHRoaXMuZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKVxyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tOYW1lID0gdGhpcy5ldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKVxyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tHcm91cCA9IHRoaXMuZXZlbnRDYWxsYmFja0dyb3VwKGV2ZW50Q2FsbGJhY2tzLCBldmVudENhbGxiYWNrTmFtZSlcclxuICAgIGV2ZW50Q2FsbGJhY2tHcm91cC5wdXNoKGV2ZW50Q2FsbGJhY2spXHJcbiAgICBldmVudENhbGxiYWNrc1tldmVudENhbGxiYWNrTmFtZV0gPSBldmVudENhbGxiYWNrR3JvdXBcclxuICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gZXZlbnRDYWxsYmFja3NcclxuICB9XHJcbiAgb2ZmKCkge1xyXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHZhciBldmVudE5hbWUgPSBhcmd1bWVudHNbMF1cclxuICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICAgIHZhciBldmVudENhbGxiYWNrID0gYXJndW1lbnRzWzFdXHJcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2tOYW1lID0gdGhpcy5ldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXVtldmVudENhbGxiYWNrTmFtZV1cclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuICBlbWl0KGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja3MgPSB0aGlzLmV2ZW50Q2FsbGJhY2tzKGV2ZW50TmFtZSlcclxuICAgIGZvcihsZXQgW2V2ZW50Q2FsbGJhY2tHcm91cE5hbWUsIGV2ZW50Q2FsbGJhY2tHcm91cF0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnRDYWxsYmFja3MpKSB7XHJcbiAgICAgIGZvcihsZXQgZXZlbnRDYWxsYmFjayBvZiBldmVudENhbGxiYWNrR3JvdXApIHtcclxuICAgICAgICBsZXQgYWRkaXRpb25hbEFyZ3VtZW50cyA9IE9iamVjdC52YWx1ZXMoYXJndW1lbnRzKS5zcGxpY2UoMikgfHwgW11cclxuICAgICAgICBldmVudENhbGxiYWNrKGV2ZW50RGF0YSwgLi4uYWRkaXRpb25hbEFyZ3VtZW50cylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJNVkMuRW1pdHRlcnMgPSB7fVxyXG4iLCJNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0ID0gZnVuY3Rpb24gYWRkUHJvcGVydGllc1RvT2JqZWN0KCkge1xyXG4gIGxldCB0YXJnZXRPYmplY3RcclxuICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgY2FzZSAyOlxyXG4gICAgICBsZXQgcHJvcGVydGllcyA9IGFyZ3VtZW50c1swXVxyXG4gICAgICB0YXJnZXRPYmplY3QgPSBhcmd1bWVudHNbMV1cclxuICAgICAgZm9yKGxldCBbcHJvcGVydHlOYW1lLCBwcm9wZXJ0eVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgIHRhcmdldE9iamVjdFtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZVxyXG4gICAgICB9XHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlIDM6XHJcbiAgICAgIGxldCBwcm9wZXJ0eU5hbWUgPSBhcmd1bWVudHNbMF1cclxuICAgICAgbGV0IHByb3BlcnR5VmFsdWUgPSBhcmd1bWVudHNbMV1cclxuICAgICAgdGFyZ2V0T2JqZWN0ID0gYXJndW1lbnRzWzJdXHJcbiAgICAgIHRhcmdldE9iamVjdFtwcm9wZXJ0eU5hbWVdID0gcHJvcGVydHlWYWx1ZVxyXG4gICAgICBicmVha1xyXG4gIH1cclxuICByZXR1cm4gdGFyZ2V0T2JqZWN0XHJcbn1cclxuIiwiTVZDLlV0aWxzLmlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KG9iamVjdCkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShvYmplY3QpIH1cclxuTVZDLlV0aWxzLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3Qob2JqZWN0KSB7XHJcbiAgcmV0dXJuICghQXJyYXkuaXNBcnJheShvYmplY3QpKVxyXG4gICAgPyB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0J1xyXG4gICAgOiBmYWxzZVxyXG59XHJcbk1WQy5VdGlscy5pc0VxdWFsVHlwZSA9IGZ1bmN0aW9uIGlzRXF1YWxUeXBlKHZhbHVlQSwgdmFsdWVCKSB7IHJldHVybiB2YWx1ZUEgPT09IHZhbHVlQiB9XHJcbk1WQy5VdGlscy5pc0hUTUxFbGVtZW50ID0gZnVuY3Rpb24gaXNIVE1MRWxlbWVudChvYmplY3QpIHtcclxuICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcclxufVxyXG4iLCJNVkMuVXRpbHMub2JqZWN0UXVlcnkgPSBmdW5jdGlvbiBvYmplY3RRdWVyeShcclxuICBzdHJpbmcsXHJcbiAgY29udGV4dFxyXG4pIHtcclxuICBsZXQgc3RyaW5nRGF0YSA9IE1WQy5VdGlscy5vYmplY3RRdWVyeS5wYXJzZU5vdGF0aW9uKHN0cmluZylcclxuICBpZihzdHJpbmdEYXRhWzBdID09PSAnQCcpIHN0cmluZ0RhdGEuc3BsaWNlKDAsIDEpXHJcbiAgaWYoIXN0cmluZ0RhdGEubGVuZ3RoKSByZXR1cm4gY29udGV4dFxyXG4gIGNvbnRleHQgPSAoTVZDLlV0aWxzLmlzT2JqZWN0KGNvbnRleHQpKVxyXG4gICAgPyBPYmplY3QuZW50cmllcyhjb250ZXh0KVxyXG4gICAgOiBjb250ZXh0XHJcbiAgcmV0dXJuIHN0cmluZ0RhdGEucmVkdWNlKChvYmplY3QsIGZyYWdtZW50LCBmcmFnbWVudEluZGV4LCBmcmFnbWVudHMpID0+IHtcclxuICAgIGxldCBwcm9wZXJ0aWVzID0gW11cclxuICAgIGZyYWdtZW50ID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlRnJhZ21lbnQoZnJhZ21lbnQpXHJcbiAgICBmb3IobGV0IFtwcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZV0gb2Ygb2JqZWN0KSB7XHJcbiAgICAgIGlmKHByb3BlcnR5S2V5Lm1hdGNoKGZyYWdtZW50KSkge1xyXG4gICAgICAgIGlmKGZyYWdtZW50SW5kZXggPT09IGZyYWdtZW50cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoW1twcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZV1dKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoT2JqZWN0LmVudHJpZXMocHJvcGVydHlWYWx1ZSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBvYmplY3QgPSBwcm9wZXJ0aWVzXHJcbiAgICByZXR1cm4gb2JqZWN0XHJcbiAgfSwgY29udGV4dClcclxufVxyXG5NVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VOb3RhdGlvbiA9IGZ1bmN0aW9uIHBhcnNlTm90YXRpb24oc3RyaW5nKSB7XHJcbiAgaWYoXHJcbiAgICBzdHJpbmcuY2hhckF0KDApID09PSAnWycgJiZcclxuICAgIHN0cmluZy5jaGFyQXQoc3RyaW5nLmxlbmd0aCAtIDEpID09ICddJ1xyXG4gICkge1xyXG4gICAgc3RyaW5nID0gc3RyaW5nXHJcbiAgICAgIC5zbGljZSgxLCAtMSlcclxuICAgICAgLnNwbGl0KCddWycpXHJcbiAgfSBlbHNlIHtcclxuICAgIHN0cmluZyA9IHN0cmluZ1xyXG4gICAgICAuc3BsaXQoJy4nKVxyXG4gIH1cclxuICByZXR1cm4gc3RyaW5nXHJcbn1cclxuTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlRnJhZ21lbnQgPSBmdW5jdGlvbiBwYXJzZUZyYWdtZW50KGZyYWdtZW50KSB7XHJcbiAgaWYoXHJcbiAgICBmcmFnbWVudC5jaGFyQXQoMCkgPT09ICcvJyAmJlxyXG4gICAgZnJhZ21lbnQuY2hhckF0KGZyYWdtZW50Lmxlbmd0aCAtIDEpID09ICcvJ1xyXG4gICkge1xyXG4gICAgZnJhZ21lbnQgPSBmcmFnbWVudC5zbGljZSgxLCAtMSlcclxuICAgIGZyYWdtZW50ID0gbmV3IFJlZ0V4cCgnXicuY29uY2F0KGZyYWdtZW50LCAnJCcpKVxyXG4gIH1cclxuICByZXR1cm4gZnJhZ21lbnRcclxufVxyXG4iLCJNVkMuVXRpbHMucGFyYW1zVG9PYmplY3QgPSBmdW5jdGlvbiBwYXJhbXNUb09iamVjdChwYXJhbXMpIHtcclxuICAgIHZhciBwYXJhbXMgPSBwYXJhbXMuc3BsaXQoJyYnKVxyXG4gICAgdmFyIG9iamVjdCA9IHt9XHJcbiAgICBwYXJhbXMuZm9yRWFjaCgocGFyYW1EYXRhKSA9PiB7XHJcbiAgICAgIHBhcmFtRGF0YSA9IHBhcmFtRGF0YS5zcGxpdCgnPScpXHJcbiAgICAgIG9iamVjdFtwYXJhbURhdGFbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhcmFtRGF0YVsxXSB8fCAnJylcclxuICAgIH0pXHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3QpKVxyXG59XHJcbiIsIk1WQy5VdGlscy50b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gdG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cyhcclxuICB0b2dnbGVNZXRob2QsXHJcbiAgZXZlbnRzLFxyXG4gIHRhcmdldE9iamVjdHMsXHJcbiAgY2FsbGJhY2tzXHJcbikge1xyXG4gIGZvcihsZXQgW2V2ZW50U2V0dGluZ3MsIGV2ZW50Q2FsbGJhY2tOYW1lXSBvZiBPYmplY3QuZW50cmllcyhldmVudHMpKSB7XHJcbiAgICBsZXQgZXZlbnREYXRhID0gZXZlbnRTZXR0aW5ncy5zcGxpdCgnICcpXHJcbiAgICBsZXQgZXZlbnRUYXJnZXRTZXR0aW5ncyA9IGV2ZW50RGF0YVswXVxyXG4gICAgbGV0IGV2ZW50TmFtZSA9IGV2ZW50RGF0YVsxXVxyXG4gICAgbGV0IGV2ZW50VGFyZ2V0cyA9IE1WQy5VdGlscy5vYmplY3RRdWVyeShcclxuICAgICAgZXZlbnRUYXJnZXRTZXR0aW5ncyxcclxuICAgICAgdGFyZ2V0T2JqZWN0c1xyXG4gICAgKVxyXG4gICAgZXZlbnRUYXJnZXRzID0gKCFNVkMuVXRpbHMuaXNBcnJheShldmVudFRhcmdldHMpKVxyXG4gICAgICA/IFtbJ0AnLCBldmVudFRhcmdldHNdXVxyXG4gICAgICA6IGV2ZW50VGFyZ2V0c1xyXG4gICAgZm9yKGxldCBbZXZlbnRUYXJnZXROYW1lLCBldmVudFRhcmdldF0gb2YgZXZlbnRUYXJnZXRzKSB7XHJcbiAgICAgIGxldCBldmVudE1ldGhvZE5hbWUgPSAodG9nZ2xlTWV0aG9kID09PSAnb24nKVxyXG4gICAgICA/IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdhZGRFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29uJ1xyXG4gICAgICA6IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdyZW1vdmVFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29mZidcclxuICAgICAgbGV0IGV2ZW50Q2FsbGJhY2sgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkoXHJcbiAgICAgICAgZXZlbnRDYWxsYmFja05hbWUsXHJcbiAgICAgICAgY2FsbGJhY2tzXHJcbiAgICAgIClbMF1bMV1cclxuICAgICAgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgIGZvcihsZXQgX2V2ZW50VGFyZ2V0IG9mIGV2ZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBfZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbk1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cygpIHtcclxuICB0aGlzLnRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMoJ29uJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbk1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyA9IGZ1bmN0aW9uIHVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzKCkge1xyXG4gIHRoaXMudG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cygnb2ZmJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbiIsIk1WQy5VdGlscy50eXBlT2YgPSAgZnVuY3Rpb24gdHlwZU9mKGRhdGEpIHtcclxuICBzd2l0Y2godHlwZW9mIGRhdGEpIHtcclxuICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgIGxldCBfb2JqZWN0XHJcbiAgICAgIGlmKE1WQy5VdGlscy5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgLy8gQXJyYXlcclxuICAgICAgICByZXR1cm4gJ2FycmF5J1xyXG4gICAgICB9IGVsc2UgaWYoXHJcbiAgICAgICAgTVZDLlV0aWxzLmlzT2JqZWN0KGRhdGEpXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE9iamVjdFxyXG4gICAgICAgIHJldHVybiAnb2JqZWN0J1xyXG4gICAgICB9IGVsc2UgaWYoXHJcbiAgICAgICAgZGF0YSA9PT0gbnVsbFxyXG4gICAgICApIHtcclxuICAgICAgICAvLyBOdWxsXHJcbiAgICAgICAgcmV0dXJuICdudWxsJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBfb2JqZWN0XHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgY2FzZSAnbnVtYmVyJzpcclxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgY2FzZSAndW5kZWZpbmVkJzpcclxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgcmV0dXJuIHR5cGVvZiBkYXRhXHJcbiAgICAgIGJyZWFrXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5VdGlscy52YWxpZGF0ZURhdGFTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZURhdGFTY2hlbWEoZGF0YSwgc2NoZW1hKSB7XHJcbiAgaWYoc2NoZW1hKSB7XHJcbiAgICBzd2l0Y2goTVZDLlV0aWxzLnR5cGVPZihkYXRhKSkge1xyXG4gICAgICBjYXNlICdhcnJheSc6XHJcbiAgICAgICAgbGV0IGFycmF5ID0gW11cclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGFycmF5KVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coc2NoZW1hLm5hbWUpXHJcbiAgICAgICAgICBmb3IobGV0IFthcnJheUtleSwgYXJyYXlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgYXJyYXkucHVzaChcclxuICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlRGF0YVNjaGVtYShhcnJheVZhbHVlKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgbGV0IG9iamVjdCA9IHt9XHJcbiAgICAgICAgc2NoZW1hID0gKE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgID8gc2NoZW1hKClcclxuICAgICAgICAgIDogc2NoZW1hXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICBNVkMuVXRpbHMuaXNFcXVhbFR5cGUoXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSxcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihvYmplY3QpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIGZvcihsZXQgW29iamVjdEtleSwgb2JqZWN0VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIG9iamVjdFtvYmplY3RLZXldID0gdGhpcy52YWxpZGF0ZURhdGFTY2hlbWEob2JqZWN0VmFsdWUsIHNjaGVtYVtvYmplY3RLZXldKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgICAgc2NoZW1hID0gKE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgID8gc2NoZW1hKClcclxuICAgICAgICAgIDogc2NoZW1hXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICBNVkMuVXRpbHMuaXNFcXVhbFR5cGUoXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSxcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihkYXRhKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coc2NoZW1hLm5hbWUpXHJcbiAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBNVkMuVE1QTFxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdudWxsJzpcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGRhdGEpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgTVZDLlRNUExcclxuICB9XHJcbn1cclxuIiwiTVZDLkNoYW5uZWxzID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBnZXQgX2NoYW5uZWxzKCkge1xyXG4gICAgdGhpcy5jaGFubmVscyA9ICh0aGlzLmNoYW5uZWxzKVxyXG4gICAgICA/IHRoaXMuY2hhbm5lbHNcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNcclxuICB9XHJcbiAgY2hhbm5lbChjaGFubmVsTmFtZSkge1xyXG4gICAgdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdID0gKHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXSlcclxuICAgICAgPyB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV1cclxuICAgICAgOiBuZXcgTVZDLkNoYW5uZWxzLkNoYW5uZWwoKVxyXG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gIH1cclxuICBvZmYoY2hhbm5lbE5hbWUpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV1cclxuICB9XHJcbn1cclxuIiwiTVZDLkNoYW5uZWxzLkNoYW5uZWwgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG4gIGdldCBfcmVzcG9uc2VzKCkge1xyXG4gICAgdGhpcy5yZXNwb25zZXMgPSAodGhpcy5yZXNwb25zZXMpXHJcbiAgICAgID8gdGhpcy5yZXNwb25zZXNcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VzXHJcbiAgfVxyXG4gIHJlc3BvbnNlKHJlc3BvbnNlTmFtZSwgcmVzcG9uc2VDYWxsYmFjaykge1xyXG4gICAgaWYocmVzcG9uc2VDYWxsYmFjaykge1xyXG4gICAgICB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXSA9IHJlc3BvbnNlQ2FsbGJhY2tcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VdXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcXVlc3QocmVzcG9uc2VOYW1lLCByZXF1ZXN0RGF0YSkge1xyXG4gICAgaWYodGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV0pIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdKHJlcXVlc3REYXRhKVxyXG4gICAgfVxyXG4gIH1cclxuICBvZmYocmVzcG9uc2VOYW1lKSB7XHJcbiAgICBpZihyZXNwb25zZU5hbWUpIHtcclxuICAgICAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IobGV0IFtyZXNwb25zZU5hbWVdIG9mIE9iamVjdC5rZXlzKHRoaXMuX3Jlc3BvbnNlcykpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJNVkMuQmFzZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkV2ZW50cyB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGNvbmZpZ3VyYXRpb24pIHtcclxuICAgIHN1cGVyKClcclxuICAgIGlmKGNvbmZpZ3VyYXRpb24pIHRoaXMuX2NvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uXHJcbiAgICBpZihzZXR0aW5ncykgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5nc1xyXG4gIH1cclxuICBnZXQgX2NvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSAodGhpcy5jb25maWd1cmF0aW9uKVxyXG4gICAgICA/IHRoaXMuY29uZmlndXJhdGlvblxyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uXHJcbiAgfVxyXG4gIHNldCBfY29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7IHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb24gfVxyXG4gIGdldCBfc2V0dGluZ3MoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gKHRoaXMuc2V0dGluZ3MpXHJcbiAgICAgID8gdGhpcy5zZXR0aW5nc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1xyXG4gIH1cclxuICBzZXQgX3NldHRpbmdzKHNldHRpbmdzKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcclxuICAgICAgc2V0dGluZ3MsIHRoaXMuX3NldHRpbmdzXHJcbiAgICApXHJcbiAgfVxyXG4gIGdldCBfZW1pdHRlcnMoKSB7XHJcbiAgICB0aGlzLmVtaXR0ZXJzID0gKHRoaXMuZW1pdHRlcnMpXHJcbiAgICAgID8gdGhpcy5lbWl0dGVyc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyc1xyXG4gIH1cclxuICBzZXQgX2VtaXR0ZXJzKGVtaXR0ZXJzKSB7XHJcbiAgICB0aGlzLmVtaXR0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcclxuICAgICAgZW1pdHRlcnMsIHRoaXMuX2VtaXR0ZXJzXHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5TZXJ2aWNlID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cyB8fCB7XG4gICAgY29udGVudFR5cGU6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSB9XG4gIGdldCBfcmVzcG9uc2VUeXBlcygpIHsgcmV0dXJuIFsnJywgJ2FycmF5YnVmZmVyJywgJ2Jsb2InLCAnZG9jdW1lbnQnLCAnanNvbicsICd0ZXh0J10gfVxuICBnZXQgX3Jlc3BvbnNlVHlwZSgpIHsgcmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlIH1cbiAgc2V0IF9yZXNwb25zZVR5cGUocmVzcG9uc2VUeXBlKSB7XG4gICAgdGhpcy5feGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZXMuZmluZChcbiAgICAgIChyZXNwb25zZVR5cGVJdGVtKSA9PiByZXNwb25zZVR5cGVJdGVtID09PSByZXNwb25zZVR5cGVcbiAgICApIHx8IHRoaXMuX2RlZmF1bHRzLnJlc3BvbnNlVHlwZVxuICB9XG4gIGdldCBfdHlwZSgpIHsgcmV0dXJuIHRoaXMudHlwZSB9XG4gIHNldCBfdHlwZSh0eXBlKSB7IHRoaXMudHlwZSA9IHR5cGUgfVxuICBnZXQgX3VybCgpIHsgcmV0dXJuIHRoaXMudXJsIH1cbiAgc2V0IF91cmwodXJsKSB7IHRoaXMudXJsID0gdXJsIH1cbiAgZ2V0IF9oZWFkZXJzKCkgeyByZXR1cm4gdGhpcy5oZWFkZXJzIHx8IFtdIH1cbiAgc2V0IF9oZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLl9oZWFkZXJzLmxlbmd0aCA9IDBcbiAgICBoZWFkZXJzLmZvckVhY2goKGhlYWRlcikgPT4ge1xuICAgICAgdGhpcy5faGVhZGVycy5wdXNoKGhlYWRlcilcbiAgICAgIGhlYWRlciA9IE9iamVjdC5lbnRyaWVzKGhlYWRlcilbMF1cbiAgICAgIHRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0pXG4gIH1cbiAgZ2V0IF9kYXRhKCkgeyByZXR1cm4gdGhpcy5kYXRhIH1cbiAgc2V0IF9kYXRhKGRhdGEpIHsgdGhpcy5kYXRhID0gZGF0YSB9XG4gIGdldCBfeGhyKCkge1xuICAgIHRoaXMueGhyID0gKHRoaXMueGhyKVxuICAgICAgPyB0aGlzLnhoclxuICAgICAgOiBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHJldHVybiB0aGlzLnhoclxuICB9XG4gIGdldCBfZW5hYmxlZCgpIHsgcmV0dXJuIHRoaXMuZW5hYmxlZCB8fCBmYWxzZSB9XG4gIHNldCBfZW5hYmxlZChlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgfVxuICByZXF1ZXN0KGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGEgfHwgbnVsbFxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZih0aGlzLl94aHIuc3RhdHVzID09PSAyMDApIHRoaXMuX3hoci5hYm9ydCgpXG4gICAgICB0aGlzLl94aHIub3Blbih0aGlzLnR5cGUsIHRoaXMudXJsKVxuICAgICAgdGhpcy5faGVhZGVycyA9IHRoaXMuc2V0dGluZ3MuaGVhZGVycyB8fCBbdGhpcy5fZGVmYXVsdHMuY29udGVudFR5cGVdXG4gICAgICB0aGlzLl94aHIub25sb2FkID0gcmVzb2x2ZVxuICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSByZWplY3RcbiAgICAgIHRoaXMuX3hoci5zZW5kKGRhdGEpXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgneGhyOnJlc29sdmUnLCB7XG4gICAgICAgIG5hbWU6ICd4aHI6cmVzb2x2ZScsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmN1cnJlbnRUYXJnZXQsXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgfSlcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgIXRoaXMuZW5hYmxlZCAmJlxuICAgICAgT2JqZWN0LmtleXMoc2V0dGluZ3MpLmxlbmd0aFxuICAgICkge1xuICAgICAgaWYoc2V0dGluZ3MudHlwZSkgdGhpcy5fdHlwZSA9IHNldHRpbmdzLnR5cGVcbiAgICAgIGlmKHNldHRpbmdzLnVybCkgdGhpcy5fdXJsID0gc2V0dGluZ3MudXJsXG4gICAgICBpZihzZXR0aW5ncy5kYXRhKSB0aGlzLl9kYXRhID0gc2V0dGluZ3MuZGF0YSB8fCBudWxsXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnJlc3BvbnNlVHlwZSkgdGhpcy5fcmVzcG9uc2VUeXBlID0gdGhpcy5fc2V0dGluZ3MucmVzcG9uc2VUeXBlXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgdGhpcy5lbmFibGVkICYmXG4gICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncykubGVuZ3RoXG4gICAgKSB7XG4gICAgICBkZWxldGUgdGhpcy5fdHlwZVxuICAgICAgZGVsZXRlIHRoaXMuX3VybFxuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9oZWFkZXJzXG4gICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VUeXBlXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiTVZDLk1vZGVsID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2lzU2V0dGluZygpIHsgcmV0dXJuIHRoaXMuaXNTZXR0aW5nIH1cbiAgc2V0IF9pc1NldHRpbmcoaXNTZXR0aW5nKSB7IHRoaXMuaXNTZXR0aW5nID0gaXNTZXR0aW5nIH1cbiAgZ2V0IF9sb2NhbFN0b3JhZ2UoKSB7IHJldHVybiB0aGlzLmxvY2FsU3RvcmFnZSB9XG4gIHNldCBfbG9jYWxTdG9yYWdlKGxvY2FsU3RvcmFnZSkgeyB0aGlzLmxvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZSB9XG4gIGdldCBfZGVmYXVsdHMoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzIH1cbiAgc2V0IF9kZWZhdWx0cyhkZWZhdWx0cykgeyB0aGlzLmRlZmF1bHRzID0gZGVmYXVsdHMgfVxuICBnZXQgX3NjaGVtYSgpIHsgcmV0dXJuIHRoaXMuX3NjaGVtYSB9XG4gIHNldCBfc2NoZW1hKHNjaGVtYSkgeyB0aGlzLnNjaGVtYSA9IHNjaGVtYSB9XG4gIGdldCBfaGlzdGlvZ3JhbSgpIHsgcmV0dXJuIHRoaXMuaGlzdGlvZ3JhbSB8fCB7XG4gICAgbGVuZ3RoOiAxXG4gIH0gfVxuICBzZXQgX2hpc3Rpb2dyYW0oaGlzdGlvZ3JhbSkge1xuICAgIHRoaXMuaGlzdGlvZ3JhbSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLl9oaXN0aW9ncmFtLFxuICAgICAgaGlzdGlvZ3JhbVxuICAgIClcbiAgfVxuICBnZXQgX2hpc3RvcnkoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gKHRoaXMuaGlzdG9yeSlcbiAgICAgID8gdGhpcy5oaXN0b3J5XG4gICAgICA6IFtdXG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeVxuICB9XG4gIHNldCBfaGlzdG9yeShkYXRhKSB7XG4gICAgaWYoXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGlmKHRoaXMuX2hpc3Rpb2dyYW0ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2hpc3RvcnkudW5zaGlmdCh0aGlzLnBhcnNlKGRhdGEpKVxuICAgICAgICB0aGlzLl9oaXN0b3J5LnNwbGljZSh0aGlzLl9oaXN0aW9ncmFtLmxlbmd0aClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IF9kYigpIHtcbiAgICBsZXQgZGIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmxvY2FsU3RvcmFnZS5lbmRwb2ludClcbiAgICB0aGlzLmRiID0gKGRiKVxuICAgICAgPyBkYlxuICAgICAgOiAne30nXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5kYilcbiAgfVxuICBzZXQgX2RiKGRiKSB7XG4gICAgZGIgPSBKU09OLnN0cmluZ2lmeShkYilcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmxvY2FsU3RvcmFnZS5lbmRwb2ludCwgZGIpXG4gIH1cbiAgZ2V0IF9kYXRhKCkge1xuICAgIHRoaXMuZGF0YSA9ICAodGhpcy5kYXRhKVxuICAgICAgPyB0aGlzLmRhdGFcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhXG4gIH1cbiAgZ2V0IF9kYXRhRXZlbnRzKCkge1xuICAgIHRoaXMuZGF0YUV2ZW50cyA9ICh0aGlzLmRhdGFFdmVudHMpXG4gICAgICA/IHRoaXMuZGF0YUV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmRhdGFFdmVudHNcbiAgfVxuICBzZXQgX2RhdGFFdmVudHMoZGF0YUV2ZW50cykge1xuICAgIHRoaXMuZGF0YUV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBkYXRhRXZlbnRzLCB0aGlzLl9kYXRhRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfZGF0YUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLmRhdGFDYWxsYmFja3MgPSAodGhpcy5kYXRhQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9kYXRhQ2FsbGJhY2tzKGRhdGFDYWxsYmFja3MpIHtcbiAgICB0aGlzLmRhdGFDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgZGF0YUNhbGxiYWNrcywgdGhpcy5fZGF0YUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3NlcnZpY2VzKCkge1xuICAgIHRoaXMuc2VydmljZXMgPSAgKHRoaXMuc2VydmljZXMpXG4gICAgICA/IHRoaXMuc2VydmljZXNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlc1xuICB9XG4gIHNldCBfc2VydmljZXMoc2VydmljZXMpIHtcbiAgICB0aGlzLnNlcnZpY2VzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHNlcnZpY2VzLCB0aGlzLl9zZXJ2aWNlc1xuICAgIClcbiAgfVxuICBnZXQgX3NlcnZpY2VFdmVudHMoKSB7XG4gICAgdGhpcy5zZXJ2aWNlRXZlbnRzID0gKHRoaXMuc2VydmljZUV2ZW50cylcbiAgICAgID8gdGhpcy5zZXJ2aWNlRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZUV2ZW50c1xuICB9XG4gIHNldCBfc2VydmljZUV2ZW50cyhzZXJ2aWNlRXZlbnRzKSB7XG4gICAgdGhpcy5zZXJ2aWNlRXZlbnRzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHNlcnZpY2VFdmVudHMsIHRoaXMuX3NlcnZpY2VFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuc2VydmljZUNhbGxiYWNrcyA9ICh0aGlzLnNlcnZpY2VDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuc2VydmljZUNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgfVxuICBzZXQgX3NlcnZpY2VDYWxsYmFja3Moc2VydmljZUNhbGxiYWNrcykge1xuICAgIHRoaXMuc2VydmljZUNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlQ2FsbGJhY2tzLCB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfZW5hYmxlZCgpIHsgcmV0dXJuIHRoaXMuZW5hYmxlZCB8fCBmYWxzZSB9XG4gIHNldCBfZW5hYmxlZChlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgfVxuICBlbmFibGVTZXJ2aWNlRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuc2VydmljZUV2ZW50cywgdGhpcy5zZXJ2aWNlcywgdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVTZXJ2aWNlRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLnNlcnZpY2VFdmVudHMsIHRoaXMuc2VydmljZXMsIHRoaXMuc2VydmljZUNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVEYXRhRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuZGF0YUV2ZW50cywgdGhpcywgdGhpcy5kYXRhQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVEYXRhRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmRhdGFFdmVudHMsIHRoaXMsIHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgfVxuICBzZXREZWZhdWx0cygpIHtcbiAgICBsZXQgX2RlZmF1bHRzID0ge31cbiAgICBpZih0aGlzLmRlZmF1bHRzKSBPYmplY3QuYXNzaWduKF9kZWZhdWx0cywgdGhpcy5kZWZhdWx0cylcbiAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgT2JqZWN0LmFzc2lnbihfZGVmYXVsdHMsIHRoaXMuX2RiKVxuICAgIGlmKE9iamVjdC5rZXlzKF9kZWZhdWx0cykpIHRoaXMuc2V0KF9kZWZhdWx0cylcbiAgfVxuICBnZXQoKSB7XG4gICAgbGV0IHByb3BlcnR5ID0gYXJndW1lbnRzWzBdXG4gICAgcmV0dXJuIHRoaXMuX2RhdGFbJ18nLmNvbmNhdChwcm9wZXJ0eSldXG4gIH1cbiAgc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aGlzLl9pc1NldHRpbmcgPSB0cnVlXG4gICAgICAgIGxldCBfYXJndW1lbnRzID0gT2JqZWN0LmVudHJpZXMoYXJndW1lbnRzWzBdKVxuICAgICAgICBfYXJndW1lbnRzLmZvckVhY2goKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZihpbmRleCA9PT0gKF9hcmd1bWVudHMubGVuZ3RoIC0gMSkpIHRoaXMuX2lzU2V0dGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5zZXREYXRhUHJvcGVydHkoa2V5LCB2YWx1ZSlcbiAgICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOlxuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1sxXVxuICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHVuc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKSkge1xuICAgICAgICAgIHRoaXMudW5zZXREYXRhUHJvcGVydHkoa2V5KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGxldCBrZXkgPSBhcmd1bWVudHNbMF1cbiAgICAgICAgdGhpcy51bnNldERhdGFQcm9wZXJ0eShrZXkpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgc2V0REIoKSB7XG4gICAgbGV0IGRiID0gdGhpcy5fZGJcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB2YXIgX2FyZ3VtZW50cyA9IE9iamVjdC5lbnRyaWVzKGFyZ3VtZW50c1swXSlcbiAgICAgICAgX2FyZ3VtZW50cy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBkYltrZXldID0gdmFsdWVcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICBsZXQgdmFsdWUgPSBhcmd1bWVudHNbMV1cbiAgICAgICAgZGJba2V5XSA9IHZhbHVlXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHRoaXMuX2RiID0gZGJcbiAgfVxuICB1bnNldERCKCkge1xuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9kYlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQgZGIgPSB0aGlzLl9kYlxuICAgICAgICBsZXQga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIGRlbGV0ZSBkYltrZXldXG4gICAgICAgIHRoaXMuX2RiID0gZGJcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgc2V0RGF0YVByb3BlcnR5KGtleSwgdmFsdWUpIHtcbiAgICBpZighdGhpcy5fZGF0YVsnXycuY29uY2F0KGtleSldKSB7XG4gICAgICBsZXQgY29udGV4dCA9IHRoaXNcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgICAgICB0aGlzLl9kYXRhLFxuICAgICAgICB7XG4gICAgICAgICAgWydfJy5jb25jYXQoa2V5KV06IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHsgcmV0dXJuIHRoaXNba2V5XSB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICAgIGxldCBzZXRWYWx1ZUV2ZW50TmFtZSA9IFsnc2V0JywgJzonLCBrZXldLmpvaW4oJycpXG4gICAgICAgICAgICAgIGxldCBzZXRFdmVudE5hbWUgPSAnc2V0J1xuICAgICAgICAgICAgICBpZighY29udGV4dC5faXNTZXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KFxuICAgICAgICAgICAgICAgICAgc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNldFZhbHVlRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KFxuICAgICAgICAgICAgICAgICAgc2V0RXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV0gPSB2YWx1ZVxuICB9XG4gIHVuc2V0RGF0YVByb3BlcnR5KGtleSkge1xuICAgIGxldCB1bnNldFZhbHVlRXZlbnROYW1lID0gWyd1bnNldCcsICc6Jywga2V5XS5qb2luKCcnKVxuICAgIGxldCB1bnNldEV2ZW50TmFtZSA9ICd1bnNldCdcbiAgICBsZXQgdW5zZXRWYWx1ZSA9IHRoaXMuX2RhdGFba2V5XVxuICAgIGRlbGV0ZSB0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV1cbiAgICBkZWxldGUgdGhpcy5fZGF0YVtrZXldXG4gICAgdGhpcy5lbWl0KFxuICAgICAgdW5zZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdW5zZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB1bnNldFZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICAgIHRoaXMuZW1pdChcbiAgICAgIHVuc2V0RXZlbnROYW1lLFxuICAgICAge1xuICAgICAgICBuYW1lOiB1bnNldEV2ZW50TmFtZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB1bnNldFZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG4gIHBhcnNlKGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLl9kYXRhXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSwgZGF0YSkpKVxuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5sb2NhbFN0b3JhZ2UpIHRoaXMuX2xvY2FsU3RvcmFnZSA9IHRoaXMuc2V0dGluZ3MubG9jYWxTdG9yYWdlXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW0pIHRoaXMuX2hpc3Rpb2dyYW0gPSB0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW1cbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZW1pdHRlcnMpIHRoaXMuX2VtaXR0ZXJzID0gdGhpcy5zZXR0aW5ncy5lbWl0dGVyc1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zZXJ2aWNlcykgdGhpcy5fc2VydmljZXMgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnNlcnZpY2VDYWxsYmFja3MpIHRoaXMuX3NlcnZpY2VDYWxsYmFja3MgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2VydmljZUV2ZW50cykgdGhpcy5fc2VydmljZUV2ZW50cyA9IHRoaXMuc2V0dGluZ3Muc2VydmljZUV2ZW50c1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kYXRhKSB0aGlzLnNldCh0aGlzLnNldHRpbmdzLmRhdGEpXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRhdGFDYWxsYmFja3MpIHRoaXMuX2RhdGFDYWxsYmFja3MgPSB0aGlzLnNldHRpbmdzLmRhdGFDYWxsYmFja3NcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZGF0YUV2ZW50cykgdGhpcy5fZGF0YUV2ZW50cyA9IHRoaXMuc2V0dGluZ3MuZGF0YUV2ZW50c1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zY2hlbWEpIHRoaXMuX3NjaGVtYSA9IHRoaXMuc2V0dGluZ3Muc2NoZW1hXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRlZmF1bHRzKSB0aGlzLl9kZWZhdWx0cyA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdHNcbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnNlcnZpY2VzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUV2ZW50cyAmJlxuICAgICAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZVNlcnZpY2VFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZGF0YUV2ZW50cyAmJlxuICAgICAgICB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZURhdGFFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYoXG4gICAgICAgIHRoaXMuc2VydmljZXMgJiZcbiAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVNlcnZpY2VFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZGF0YUV2ZW50cyAmJlxuICAgICAgICB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVEYXRhRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLl9sb2NhbFN0b3JhZ2VcbiAgICAgIGRlbGV0ZSB0aGlzLl9oaXN0aW9ncmFtXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZXNcbiAgICAgIGRlbGV0ZSB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX3NjaGVtYVxuICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5FbWl0dGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgaWYodGhpcy5zZXR0aW5ncykge1xyXG4gICAgICBpZih0aGlzLnNldHRpbmdzLm5hbWUpIHRoaXMuX25hbWUgPSB0aGlzLnNldHRpbmdzLm5hbWVcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0IF9uYW1lKCkgeyByZXR1cm4gdGhpcy5uYW1lIH1cclxuICBzZXQgX25hbWUobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lIH1cclxuICBlbWlzc2lvbigpIHtcclxuICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgZGF0YTogdGhpcy5kYXRhXHJcbiAgICB9XHJcbiAgICB0aGlzLmVtaXQoXHJcbiAgICAgIHRoaXMubmFtZSxcclxuICAgICAgZXZlbnREYXRhXHJcbiAgICApXHJcbiAgICByZXR1cm4gZXZlbnREYXRhXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5WaWV3ID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VsZW1lbnROYW1lKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC50YWdOYW1lIH1cbiAgc2V0IF9lbGVtZW50TmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmKCF0aGlzLl9lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50TmFtZSlcbiAgfVxuICBnZXQgX2VsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQgfVxuICBzZXQgX2VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmKFxuICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XG4gICAgICBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICApIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB9IGVsc2UgaWYodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIH0pXG4gIH1cbiAgZ2V0IF9hdHRyaWJ1dGVzKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC5hdHRyaWJ1dGVzIH1cbiAgc2V0IF9hdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IobGV0IFthdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgaWYodHlwZW9mIGF0dHJpYnV0ZVZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVLZXkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgX3VpKCkge1xuICAgIHRoaXMudWkgPSAodGhpcy51aSlcbiAgICAgID8gdGhpcy51aVxuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpXG4gIH1cbiAgc2V0IF91aSh1aSkge1xuICAgIGlmKCF0aGlzLl91aVsnJGVsZW1lbnQnXSkgdGhpcy5fdWlbJyRlbGVtZW50J10gPSB0aGlzLmVsZW1lbnRcbiAgICBmb3IobGV0IFt1aUtleSwgdWlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModWkpKSB7XG4gICAgICBpZih0eXBlb2YgdWlWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fdWlbdWlLZXldID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHVpVmFsdWUpXG4gICAgICB9IGVsc2UgaWYoXG4gICAgICAgIHVpVmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxuICAgICAgICB1aVZhbHVlIGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl91aVt1aUtleV0gPSB1aVZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfdWlFdmVudHMoKSB7IHJldHVybiB0aGlzLnVpRXZlbnRzIH1cbiAgc2V0IF91aUV2ZW50cyh1aUV2ZW50cykgeyB0aGlzLnVpRXZlbnRzID0gdWlFdmVudHMgfVxuICBnZXQgX3VpQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSAodGhpcy51aUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy51aUNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF91aUNhbGxiYWNrcyh1aUNhbGxiYWNrcykge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgdWlDYWxsYmFja3MsIHRoaXMuX3VpQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfb2JzZXJ2ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9ICh0aGlzLm9ic2VydmVyQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLm9ic2VydmVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX29ic2VydmVyQ2FsbGJhY2tzKG9ic2VydmVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBvYnNlcnZlckNhbGxiYWNrcywgdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IGVsZW1lbnRPYnNlcnZlcigpIHtcbiAgICB0aGlzLl9lbGVtZW50T2JzZXJ2ZXIgPSAodGhpcy5fZWxlbWVudE9ic2VydmVyKVxuICAgICAgPyB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgICAgIDogbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5lbGVtZW50T2JzZXJ2ZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgfVxuICBnZXQgX2luc2VydCgpIHsgcmV0dXJuIHRoaXMuaW5zZXJ0IH1cbiAgc2V0IF9pbnNlcnQoaW5zZXJ0KSB7IHRoaXMuaW5zZXJ0ID0gaW5zZXJ0IH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfdGVtcGxhdGVzKCkge1xuICAgIHRoaXMudGVtcGxhdGVzID0gKHRoaXMudGVtcGxhdGVzKVxuICAgICAgPyB0aGlzLnRlbXBsYXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlc1xuICB9XG4gIHNldCBfdGVtcGxhdGVzKHRlbXBsYXRlcykge1xuICAgIHRoaXMudGVtcGxhdGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHRlbXBsYXRlcywgdGhpcy5fdGVtcGxhdGVzXG4gICAgKVxuICB9XG4gIGVsZW1lbnRPYnNlcnZlKG11dGF0aW9uUmVjb3JkTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICBmb3IobGV0IFttdXRhdGlvblJlY29yZEluZGV4LCBtdXRhdGlvblJlY29yZF0gb2YgT2JqZWN0LmVudHJpZXMobXV0YXRpb25SZWNvcmRMaXN0KSkge1xuICAgICAgc3dpdGNoKG11dGF0aW9uUmVjb3JkLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICBsZXQgbXV0YXRpb25SZWNvcmRDYXRlZ29yaWVzID0gWydhZGRlZE5vZGVzJywgJ3JlbW92ZWROb2RlcyddXG4gICAgICAgICAgZm9yKGxldCBtdXRhdGlvblJlY29yZENhdGVnb3J5IG9mIG11dGF0aW9uUmVjb3JkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgaWYobXV0YXRpb25SZWNvcmRbbXV0YXRpb25SZWNvcmRDYXRlZ29yeV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXRVSSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF1dG9JbnNlcnQoKSB7XG4gICAgaWYodGhpcy5pbnNlcnQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnNlcnQuZWxlbWVudClcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMuaW5zZXJ0Lm1ldGhvZCwgdGhpcy5lbGVtZW50KVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgYXV0b1JlbW92ZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxuICBlbmFibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MuZWxlbWVudE5hbWUpIHRoaXMuX2VsZW1lbnROYW1lID0gc2V0dGluZ3MuZWxlbWVudE5hbWVcbiAgICBpZihzZXR0aW5ncy5lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gc2V0dGluZ3MuZWxlbWVudFxuICAgIGlmKHNldHRpbmdzLmF0dHJpYnV0ZXMpIHRoaXMuX2F0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzXG4gICAgaWYoc2V0dGluZ3MudGVtcGxhdGVzKSB0aGlzLl90ZW1wbGF0ZXMgPSBzZXR0aW5ncy50ZW1wbGF0ZXNcbiAgICBpZihzZXR0aW5ncy5pbnNlcnQpIHRoaXMuX2luc2VydCA9IHNldHRpbmdzLmluc2VydFxuICB9XG4gIGRpc2FibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVsZW1lbnQgJiZcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgKSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgaWYodGhpcy5lbGVtZW50KSBkZWxldGUgdGhpcy5lbGVtZW50XG4gICAgaWYodGhpcy5hdHRyaWJ1dGVzKSBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzXG4gICAgaWYodGhpcy50ZW1wbGF0ZXMpIGRlbGV0ZSB0aGlzLnRlbXBsYXRlc1xuICAgIGlmKHRoaXMuaW5zZXJ0KSBkZWxldGUgdGhpcy5pbnNlcnRcbiAgfVxuICByZXNldFVJKCkge1xuICAgIHRoaXMuZGlzYWJsZVVJKClcbiAgICB0aGlzLmVuYWJsZVVJKClcbiAgfVxuICBlbmFibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpKSB0aGlzLl91aSA9IHNldHRpbmdzLnVpXG4gICAgaWYoc2V0dGluZ3MudWlDYWxsYmFja3MpIHRoaXMuX3VpQ2FsbGJhY2tzID0gc2V0dGluZ3MudWlDYWxsYmFja3NcbiAgICBpZihzZXR0aW5ncy51aUV2ZW50cykge1xuICAgICAgdGhpcy5fdWlFdmVudHMgPSBzZXR0aW5ncy51aUV2ZW50c1xuICAgICAgdGhpcy5lbmFibGVVSUV2ZW50cygpXG4gICAgfVxuICB9XG4gIGRpc2FibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpRXZlbnRzKSB7XG4gICAgICB0aGlzLmRpc2FibGVVSUV2ZW50cygpXG4gICAgICBkZWxldGUgdGhpcy5fdWlFdmVudHNcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMudWlFdmVudHNcbiAgICBkZWxldGUgdGhpcy51aVxuICAgIGRlbGV0ZSB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgZW5hYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyhcbiAgICAgICAgdGhpcy51aUV2ZW50cyxcbiAgICAgICAgdGhpcy51aSxcbiAgICAgICAgdGhpcy51aUNhbGxiYWNrc1xuICAgICAgKVxuICAgIH1cbiAgfVxuICBkaXNhYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoXG4gICAgICAgIHRoaXMudWlFdmVudHMsXG4gICAgICAgIHRoaXMudWksXG4gICAgICAgIHRoaXMudWlDYWxsYmFja3NcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5lbWl0dGVycykgdGhpcy5fZW1pdHRlcnMgPSB0aGlzLnNldHRpbmdzLmVtaXR0ZXJzXG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGlmKHRoaXMuX2VtaXR0ZXJzKSBkZWxldGUgdGhpcy5fZW1pdHRlcnNcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLl9lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuZW5hYmxlRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMuZW5hYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5fZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLmRpc2FibGVFbGVtZW50KHNldHRpbmdzKVxuICAgICAgdGhpcy5kaXNhYmxlRW1pdHRlcnMoKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgICByZXR1cm4gdGhpc3NcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Db250cm9sbGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VtaXR0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gKHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5lbWl0dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICB9XG4gIHNldCBfZW1pdHRlckNhbGxiYWNrcyhlbWl0dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGVtaXR0ZXJDYWxsYmFja3MsIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbENhbGxiYWNrcygpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gKHRoaXMubW9kZWxDYWxsYmFja3MpXG4gICAgICA/IHRoaXMubW9kZWxDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbENhbGxiYWNrc1xuICB9XG4gIHNldCBfbW9kZWxDYWxsYmFja3MobW9kZWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsQ2FsbGJhY2tzLCB0aGlzLl9tb2RlbENhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdDYWxsYmFja3MoKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gKHRoaXMudmlld0NhbGxiYWNrcylcbiAgICAgID8gdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0NhbGxiYWNrc1xuICB9XG4gIHNldCBfdmlld0NhbGxiYWNrcyh2aWV3Q2FsbGJhY2tzKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdDYWxsYmFja3MsIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9ICh0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJDYWxsYmFja3MoY29udHJvbGxlckNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyQ2FsbGJhY2tzLCB0aGlzLl9jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxzKCkge1xuICAgIHRoaXMubW9kZWxzID0gKHRoaXMubW9kZWxzKVxuICAgICAgPyB0aGlzLm1vZGVsc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICB9XG4gIHNldCBfbW9kZWxzKG1vZGVscykge1xuICAgIHRoaXMubW9kZWxzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVscywgdGhpcy5fbW9kZWxzXG4gICAgKVxuICB9XG4gIGdldCBfdmlld3MoKSB7XG4gICAgdGhpcy52aWV3cyA9ICh0aGlzLnZpZXdzKVxuICAgICAgPyB0aGlzLnZpZXdzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld3NcbiAgfVxuICBzZXQgX3ZpZXdzKHZpZXdzKSB7XG4gICAgdGhpcy52aWV3cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3cywgdGhpcy5fdmlld3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVycygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gKHRoaXMuY29udHJvbGxlcnMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyc1xuICB9XG4gIHNldCBfY29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGNvbnRyb2xsZXJzLCB0aGlzLl9jb250cm9sbGVyc1xuICAgIClcbiAgfVxuICBnZXQgX3JvdXRlcnMoKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gKHRoaXMucm91dGVycylcbiAgICAgID8gdGhpcy5yb3V0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyc1xuICB9XG4gIHNldCBfcm91dGVycyhyb3V0ZXJzKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcnMsIHRoaXMuX3JvdXRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSAodGhpcy5yb3V0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMucm91dGVyRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9yb3V0ZXJFdmVudHMocm91dGVyRXZlbnRzKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyRXZlbnRzLCB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSAodGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9yb3V0ZXJDYWxsYmFja3Mocm91dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyQ2FsbGJhY2tzLCB0aGlzLl9yb3V0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9lbWl0dGVyRXZlbnRzKCkge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9ICh0aGlzLmVtaXR0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMuZW1pdHRlckV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXJFdmVudHNcbiAgfVxuICBzZXQgX2VtaXR0ZXJFdmVudHMoZW1pdHRlckV2ZW50cykge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBlbWl0dGVyRXZlbnRzLCB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxFdmVudHMoKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9ICh0aGlzLm1vZGVsRXZlbnRzKVxuICAgICAgPyB0aGlzLm1vZGVsRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMubW9kZWxFdmVudHNcbiAgfVxuICBzZXQgX21vZGVsRXZlbnRzKG1vZGVsRXZlbnRzKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBtb2RlbEV2ZW50cywgdGhpcy5fbW9kZWxFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF92aWV3RXZlbnRzKCkge1xuICAgIHRoaXMudmlld0V2ZW50cyA9ICh0aGlzLnZpZXdFdmVudHMpXG4gICAgICA/IHRoaXMudmlld0V2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnZpZXdFdmVudHNcbiAgfVxuICBzZXQgX3ZpZXdFdmVudHModmlld0V2ZW50cykge1xuICAgIHRoaXMudmlld0V2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3RXZlbnRzLCB0aGlzLl92aWV3RXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlckV2ZW50cygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSAodGhpcy5jb250cm9sbGVyRXZlbnRzKVxuICAgICAgPyB0aGlzLmNvbnRyb2xsZXJFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9jb250cm9sbGVyRXZlbnRzKGNvbnRyb2xsZXJFdmVudHMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgY29udHJvbGxlckV2ZW50cywgdGhpcy5fY29udHJvbGxlckV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlTW9kZWxFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5tb2RlbEV2ZW50cywgdGhpcy5tb2RlbHMsIHRoaXMubW9kZWxDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZU1vZGVsRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLm1vZGVsRXZlbnRzLCB0aGlzLm1vZGVscywgdGhpcy5tb2RlbENhbGxiYWNrcylcbiAgfVxuICBlbmFibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMudmlld0V2ZW50cywgdGhpcy52aWV3cywgdGhpcy52aWV3Q2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLnZpZXdFdmVudHMsIHRoaXMudmlld3MsIHRoaXMudmlld0NhbGxiYWNrcylcbiAgfVxuICBlbmFibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuY29udHJvbGxlckV2ZW50cywgdGhpcy5jb250cm9sbGVycywgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmNvbnRyb2xsZXJFdmVudHMsIHRoaXMuY29udHJvbGxlcnMsIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuZW1pdHRlckV2ZW50cywgdGhpcy5lbWl0dGVycywgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmVtaXR0ZXJFdmVudHMsIHRoaXMuZW1pdHRlcnMsIHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVSb3V0ZXJFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZVJvdXRlckV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy5tb2RlbENhbGxiYWNrcykgdGhpcy5fbW9kZWxDYWxsYmFja3MgPSBzZXR0aW5ncy5tb2RlbENhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mudmlld0NhbGxiYWNrcykgdGhpcy5fdmlld0NhbGxiYWNrcyA9IHNldHRpbmdzLnZpZXdDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLmNvbnRyb2xsZXJDYWxsYmFja3MpIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy5lbWl0dGVyQ2FsbGJhY2tzKSB0aGlzLl9lbWl0dGVyQ2FsbGJhY2tzID0gc2V0dGluZ3MuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mucm91dGVyQ2FsbGJhY2tzKSB0aGlzLl9yb3V0ZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLm1vZGVscykgdGhpcy5fbW9kZWxzID0gc2V0dGluZ3MubW9kZWxzXG4gICAgICBpZihzZXR0aW5ncy52aWV3cykgdGhpcy5fdmlld3MgPSBzZXR0aW5ncy52aWV3c1xuICAgICAgaWYoc2V0dGluZ3MuY29udHJvbGxlcnMpIHRoaXMuX2NvbnRyb2xsZXJzID0gc2V0dGluZ3MuY29udHJvbGxlcnNcbiAgICAgIGlmKHNldHRpbmdzLmVtaXR0ZXJzKSB0aGlzLl9lbWl0dGVycyA9IHNldHRpbmdzLmVtaXR0ZXJzXG4gICAgICBpZihzZXR0aW5ncy5yb3V0ZXJzKSB0aGlzLl9yb3V0ZXJzID0gc2V0dGluZ3Mucm91dGVyc1xuICAgICAgaWYoc2V0dGluZ3MubW9kZWxFdmVudHMpIHRoaXMuX21vZGVsRXZlbnRzID0gc2V0dGluZ3MubW9kZWxFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnZpZXdFdmVudHMpIHRoaXMuX3ZpZXdFdmVudHMgPSBzZXR0aW5ncy52aWV3RXZlbnRzXG4gICAgICBpZihzZXR0aW5ncy5jb250cm9sbGVyRXZlbnRzKSB0aGlzLl9jb250cm9sbGVyRXZlbnRzID0gc2V0dGluZ3MuY29udHJvbGxlckV2ZW50c1xuICAgICAgaWYoc2V0dGluZ3MuZW1pdHRlckV2ZW50cykgdGhpcy5fZW1pdHRlckV2ZW50cyA9IHNldHRpbmdzLmVtaXR0ZXJFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnJvdXRlckV2ZW50cykgdGhpcy5fcm91dGVyRXZlbnRzID0gc2V0dGluZ3Mucm91dGVyRXZlbnRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVNb2RlbEV2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy52aWV3RXZlbnRzICYmXG4gICAgICAgIHRoaXMudmlld3MgJiZcbiAgICAgICAgdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVWaWV3RXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVycyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMucm91dGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMucm91dGVycyAmJlxuICAgICAgICB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlUm91dGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmVtaXR0ZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5lbWl0dGVycyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kaXNhYmxlKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVZpZXdFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfX1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnJvdXRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLnJvdXRlcnMgJiZcbiAgICAgICAgdGhpcy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVSb3V0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZW1pdHRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJzICYmXG4gICAgICAgIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JvdXRlckNhbGxiYWNrc1xuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1xuICAgICAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlcnNcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3RXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5FbWl0dGVycy5OYXZpZ2F0ZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkVtaXR0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgdGhpcy5hZGRTZXR0aW5ncygpXHJcbiAgICB0aGlzLmVuYWJsZSgpXHJcbiAgfVxyXG4gIGFkZFNldHRpbmdzKCkge1xyXG4gICAgdGhpcy5fbmFtZSA9ICduYXZpZ2F0ZSdcclxuICAgIHRoaXMuX3NjaGVtYSA9IHtcclxuICAgICAgb2xkVVJMOiBTdHJpbmcsXHJcbiAgICAgIG5ld1VSTDogU3RyaW5nLFxyXG4gICAgICBjdXJyZW50Um91dGU6IFN0cmluZyxcclxuICAgICAgY3VycmVudENvbnRyb2xsZXI6IFN0cmluZyxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiTVZDLlJvdXRlciA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gIH1cbiAgZ2V0IHByb3RvY29sKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sIH1cbiAgZ2V0IGhvc3RuYW1lKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIH1cbiAgZ2V0IHBvcnQoKSB7IHJldHVybiB3aW5kb3cubG9jYXRpb24ucG9ydCB9XG4gIGdldCBwYXRoKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIH1cbiAgZ2V0IGhhc2goKSB7XG4gICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKVxuICAgIGlmKGhhc2hJbmRleCA+IC0xKSB7XG4gICAgICBsZXQgcGFyYW1JbmRleCA9IGhyZWYuaW5kZXhPZignPycpXG4gICAgICBsZXQgc2xpY2VTdGFydCA9IGhhc2hJbmRleCArIDFcbiAgICAgIGxldCBzbGljZVN0b3BcbiAgICAgIGlmKHBhcmFtSW5kZXggPiAtMSkge1xuICAgICAgICBzbGljZVN0b3AgPSAoaGFzaEluZGV4ID4gcGFyYW1JbmRleClcbiAgICAgICAgICA/IGhyZWYubGVuZ3RoXG4gICAgICAgICAgOiBwYXJhbUluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGljZVN0b3AgPSBocmVmLmxlbmd0aFxuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYuc2xpY2Uoc2xpY2VTdGFydCwgc2xpY2VTdG9wKVxuICAgICAgaWYoaHJlZi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGhyZWZcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG4gIGdldCBwYXJhbXMoKSB7XG4gICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCBwYXJhbUluZGV4ID0gaHJlZi5pbmRleE9mKCc/JylcbiAgICBpZihwYXJhbUluZGV4ID4gLTEpIHtcbiAgICAgIGxldCBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKVxuICAgICAgbGV0IHNsaWNlU3RhcnQgPSBwYXJhbUluZGV4ICsgMVxuICAgICAgbGV0IHNsaWNlU3RvcFxuICAgICAgaWYoaGFzaEluZGV4ID4gLTEpIHtcbiAgICAgICAgc2xpY2VTdG9wID0gKHBhcmFtSW5kZXggPiBoYXNoSW5kZXgpXG4gICAgICAgICAgPyBocmVmLmxlbmd0aFxuICAgICAgICAgIDogaGFzaEluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGljZVN0b3AgPSBocmVmLmxlbmd0aFxuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYuc2xpY2Uoc2xpY2VTdGFydCwgc2xpY2VTdG9wKVxuICAgICAgaWYoaHJlZi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGhyZWZcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG4gIGdldCBfcm91dGVEYXRhKCkge1xuICAgIGxldCByb3V0ZURhdGEgPSB7fVxuICAgIGxldCBwYXRoID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgIHBhdGggPSAocGF0aC5sZW5ndGgpXG4gICAgICA/IHBhdGhcbiAgICAgIDogWycvJ11cbiAgICBsZXQgaGFzaCA9IHRoaXMuaGFzaFxuICAgIGxldCBoYXNoRnJhZ21lbnRzID0gKGhhc2gpXG4gICAgICA/IGhhc2guc3BsaXQoJy8nKS5maWx0ZXIoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5sZW5ndGgpXG4gICAgICA6IG51bGxcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wYXJhbXNcbiAgICBsZXQgcGFyYW1EYXRhID0gKHBhcmFtcylcbiAgICAgID8gTVZDLlV0aWxzLnBhcmFtc1RvT2JqZWN0KHBhcmFtcylcbiAgICAgIDogbnVsbFxuICAgIGlmKHRoaXMucHJvdG9jb2wpIHJvdXRlRGF0YS5wcm90b2NvbCA9IHRoaXMucHJvdG9jb2xcbiAgICBpZih0aGlzLmhvc3RuYW1lKSByb3V0ZURhdGEuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lXG4gICAgaWYodGhpcy5wb3J0KSByb3V0ZURhdGEucG9ydCA9IHRoaXMucG9ydFxuICAgIGlmKHRoaXMucGF0aCkgcm91dGVEYXRhLnBhdGggPSB0aGlzLnBhdGhcbiAgICBpZihcbiAgICAgIGhhc2ggJiZcbiAgICAgIGhhc2hGcmFnbWVudHNcbiAgICApIHtcbiAgICAgIGhhc2hGcmFnbWVudHMgPSAoaGFzaEZyYWdtZW50cy5sZW5ndGgpXG4gICAgICA/IGhhc2hGcmFnbWVudHNcbiAgICAgIDogWycvJ11cbiAgICAgIHJvdXRlRGF0YS5oYXNoID0ge1xuICAgICAgICBwYXRoOiBoYXNoLFxuICAgICAgICBmcmFnbWVudHM6IGhhc2hGcmFnbWVudHMsXG4gICAgICB9XG4gICAgfVxuICAgIGlmKFxuICAgICAgcGFyYW1zICYmXG4gICAgICBwYXJhbURhdGFcbiAgICApIHtcbiAgICAgIHJvdXRlRGF0YS5wYXJhbXMgPSB7XG4gICAgICAgIHBhdGg6IHBhcmFtcyxcbiAgICAgICAgZGF0YTogcGFyYW1EYXRhLFxuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZURhdGEucGF0aCA9IHtcbiAgICAgIG5hbWU6IHRoaXMucGF0aCxcbiAgICAgIGZyYWdtZW50czogcGF0aCxcbiAgICB9XG4gICAgcm91dGVEYXRhLmN1cnJlbnRVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICByb3V0ZURhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgcm91dGVEYXRhLFxuICAgICAgdGhpcy5fcm91dGVDb250cm9sbGVyRGF0YVxuICAgIClcbiAgICB0aGlzLnJvdXRlRGF0YSA9IHJvdXRlRGF0YVxuICAgIHJldHVybiB0aGlzLnJvdXRlRGF0YVxuICB9XG4gIGdldCBfcm91dGVDb250cm9sbGVyRGF0YSgpIHtcbiAgICBsZXQgcm91dGVEYXRhID0ge31cbiAgICBPYmplY3QuZW50cmllcyh0aGlzLnJvdXRlcylcbiAgICAgIC5mb3JFYWNoKChbcm91dGVQYXRoLCByb3V0ZVNldHRpbmdzXSkgPT4ge1xuICAgICAgICBsZXQgcGF0aEZyYWdtZW50cyA9IHRoaXMucGF0aC5zcGxpdCgnLycpLmZpbHRlcigoZnJhZ21lbnQpID0+IGZyYWdtZW50Lmxlbmd0aClcbiAgICAgICAgcGF0aEZyYWdtZW50cyA9IChwYXRoRnJhZ21lbnRzLmxlbmd0aClcbiAgICAgICAgICA/IHBhdGhGcmFnbWVudHNcbiAgICAgICAgICA6IFsnLyddXG4gICAgICAgIGxldCByb3V0ZUZyYWdtZW50cyA9IHJvdXRlUGF0aC5zcGxpdCgnLycpLmZpbHRlcigoZnJhZ21lbnQsIGZyYWdtZW50SW5kZXgpID0+IGZyYWdtZW50Lmxlbmd0aClcbiAgICAgICAgcm91dGVGcmFnbWVudHMgPSAocm91dGVGcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgID8gcm91dGVGcmFnbWVudHNcbiAgICAgICAgICA6IFsnLyddXG4gICAgICAgIGlmKFxuICAgICAgICAgIHBhdGhGcmFnbWVudHMubGVuZ3RoICYmXG4gICAgICAgICAgcGF0aEZyYWdtZW50cy5sZW5ndGggPT09IHJvdXRlRnJhZ21lbnRzLmxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICBsZXQgbWF0Y2hcbiAgICAgICAgICByZXR1cm4gcm91dGVGcmFnbWVudHMuZmlsdGVyKChyb3V0ZUZyYWdtZW50LCByb3V0ZUZyYWdtZW50SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmKFxuICAgICAgICAgICAgICBtYXRjaCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIG1hdGNoID09PSB0cnVlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYocm91dGVGcmFnbWVudFswXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgcm91dGVEYXRhW3JvdXRlRnJhZ21lbnQucmVwbGFjZSgnOicsICcnKV0gPSBwYXRoRnJhZ21lbnRzW3JvdXRlRnJhZ21lbnRJbmRleF1cbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gdGhpcy5mcmFnbWVudElEUmVnRXhwXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm91dGVGcmFnbWVudCA9IHJvdXRlRnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCcvJywgJ2dpJyksICdcXFxcXFwvJylcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gdGhpcy5yb3V0ZUZyYWdtZW50TmFtZVJlZ0V4cChyb3V0ZUZyYWdtZW50KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1hdGNoID0gcm91dGVGcmFnbWVudC50ZXN0KHBhdGhGcmFnbWVudHNbcm91dGVGcmFnbWVudEluZGV4XSlcbiAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgbWF0Y2ggPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50SW5kZXggPT09IHBhdGhGcmFnbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByb3V0ZURhdGEucm91dGUgPSB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiByb3V0ZVBhdGgsXG4gICAgICAgICAgICAgICAgICBmcmFnbWVudHM6IHJvdXRlRnJhZ21lbnRzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZURhdGEuY29udHJvbGxlciA9IHJvdXRlU2V0dGluZ3NcbiAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVTZXR0aW5nc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlbMF1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICByZXR1cm4gcm91dGVEYXRhXG4gIH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfcm91dGVzKCkge1xuICAgIHRoaXMucm91dGVzID0gKHRoaXMucm91dGVzKVxuICAgICAgPyB0aGlzLnJvdXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnJvdXRlc1xuICB9XG4gIHNldCBfcm91dGVzKHJvdXRlcykge1xuICAgIHRoaXMucm91dGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcywgdGhpcy5fcm91dGVzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlcigpIHsgcmV0dXJuIHRoaXMuY29udHJvbGxlciB9XG4gIHNldCBfY29udHJvbGxlcihjb250cm9sbGVyKSB7IHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXIgfVxuICBnZXQgX3ByZXZpb3VzVVJMKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1VSTCB9XG4gIHNldCBfcHJldmlvdXNVUkwocHJldmlvdXNVUkwpIHsgdGhpcy5wcmV2aW91c1VSTCA9IHByZXZpb3VzVVJMIH1cbiAgZ2V0IF9jdXJyZW50VVJMKCkgeyByZXR1cm4gdGhpcy5jdXJyZW50VVJMIH1cbiAgc2V0IF9jdXJyZW50VVJMKGN1cnJlbnRVUkwpIHtcbiAgICBpZih0aGlzLmN1cnJlbnRVUkwpIHRoaXMuX3ByZXZpb3VzVVJMID0gdGhpcy5jdXJyZW50VVJMXG4gICAgdGhpcy5jdXJyZW50VVJMID0gY3VycmVudFVSTFxuICB9XG4gIGdldCBmcmFnbWVudElEUmVnRXhwKCkgeyByZXR1cm4gbmV3IFJlZ0V4cCgvXihbMC05QS1aXFw/XFw9XFwsXFwuXFwqXFwtXFxfXFwnXFxcIlxcXlxcJVxcJFxcI1xcQFxcIVxcflxcKFxcKVxce1xcfVxcJlxcPFxcPlxcXFxcXC9dKSokLywgJ2dpJykgfVxuICByb3V0ZUZyYWdtZW50TmFtZVJlZ0V4cChmcmFnbWVudCkgeyByZXR1cm4gbmV3IFJlZ0V4cCgnXicuY29uY2F0KGZyYWdtZW50LCAnJCcpKSB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5lbmFibGVFbWl0dGVycygpXG4gICAgICB0aGlzLmVuYWJsZUV2ZW50cygpXG4gICAgICB0aGlzLmVuYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLnJvdXRlQ2hhbmdlKClcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgIHRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlRXZlbnRzKClcbiAgICAgIHRoaXMuZGlzYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLmRpc2FibGVFbWl0dGVycygpXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbiAgZW5hYmxlUm91dGVzKCkge1xuICAgIGlmKHRoaXMuc2V0dGluZ3MuY29udHJvbGxlcikgdGhpcy5fY29udHJvbGxlciA9IHRoaXMuc2V0dGluZ3MuY29udHJvbGxlclxuICAgIHRoaXMuX3JvdXRlcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZ3Mucm91dGVzKS5yZWR1Y2UoXG4gICAgICAoXG4gICAgICAgIF9yb3V0ZXMsXG4gICAgICAgIFtyb3V0ZVBhdGgsIHJvdXRlU2V0dGluZ3NdLFxuICAgICAgICByb3V0ZUluZGV4LFxuICAgICAgICBvcmlnaW5hbFJvdXRlcyxcbiAgICAgICkgPT4ge1xuICAgICAgICBfcm91dGVzW3JvdXRlUGF0aF0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHJvdXRlU2V0dGluZ3MsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY29udHJvbGxlcltyb3V0ZVNldHRpbmdzLmNhbGxiYWNrXS5iaW5kKHRoaXMuY29udHJvbGxlciksXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBfcm91dGVzXG4gICAgICB9LFxuICAgICAge31cbiAgICApXG4gICAgcmV0dXJuXG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgdGhpcy5fZW1pdHRlcnMgPSB7XG4gICAgICBuYXZpZ2F0ZUVtaXR0ZXI6IG5ldyBNVkMuRW1pdHRlcnMuTmF2aWdhdGUoKSxcbiAgICB9XG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVycy5uYXZpZ2F0ZUVtaXR0ZXJcbiAgfVxuICBkaXNhYmxlUm91dGVzKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXNcbiAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlclxuICB9XG4gIGVuYWJsZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMucm91dGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgfVxuICBkaXNhYmxlRXZlbnRzKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5yb3V0ZUNoYW5nZS5iaW5kKHRoaXMpKVxuICB9XG4gIHJvdXRlQ2hhbmdlKCkge1xuICAgIHRoaXMuX2N1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCByb3V0ZURhdGEgPSB0aGlzLl9yb3V0ZURhdGFcbiAgICBpZihyb3V0ZURhdGEuY29udHJvbGxlcikge1xuICAgICAgbGV0IG5hdmlnYXRlRW1pdHRlciA9IHRoaXMuZW1pdHRlcnMubmF2aWdhdGVFbWl0dGVyXG4gICAgICBpZih0aGlzLnByZXZpb3VzVVJMKSByb3V0ZURhdGEucHJldmlvdXNVUkwgPSB0aGlzLnByZXZpb3VzVVJMXG4gICAgICBuYXZpZ2F0ZUVtaXR0ZXJcbiAgICAgICAgLnVuc2V0KClcbiAgICAgICAgLnNldChyb3V0ZURhdGEpXG4gICAgICB0aGlzLmVtaXQoXG4gICAgICAgIG5hdmlnYXRlRW1pdHRlci5uYW1lLFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIuZW1pc3Npb24oKVxuICAgICAgKVxuICAgICAgcm91dGVEYXRhLmNvbnRyb2xsZXIuY2FsbGJhY2soXG4gICAgICAgIG5hdmlnYXRlRW1pdHRlci5lbWlzc2lvbigpXG4gICAgICApXG4gICAgfVxuICB9XG4gIG5hdmlnYXRlKHBhdGgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGhcbiAgfVxufVxuIl0sImZpbGUiOiJicm93c2VyL212Yy1mcmFtZXdvcmstbWluLmpzIn0=

var MVC=MVC||{};MVC.Constants={},MVC.CONST=MVC.Constants,MVC.Constants.Events={},MVC.CONST.EV=MVC.Constants.Events,MVC.Templates={ObjectQueryStringFormatInvalidRoot:function(t){return['Object Query "string" property must be formatted to first include "[@]".'].join("\n")},DataSchemaMismatch:function(t){return["Data and Schema properties do not match."].join("\n")},DataFunctionInvalid:function(t){['Model Data property type "Function" is not valid.'].join("\n")},DataUndefined:function(t){["Model Data property undefined."].join("\n")},SchemaUndefined:function(t){['Model "Schema" undefined.'].join("\n")}},MVC.TMPL=MVC.Templates,MVC.Utils={},MVC.Utils.isArray=function(t){return Array.isArray(t)},MVC.Utils.isObject=function(t){return!Array.isArray(t)&&"object"==typeof t},MVC.Utils.isEqualType=function(t,e){return t===e},MVC.Utils.isHTMLElement=function(t){return t instanceof HTMLElement},MVC.Utils.typeOf=function(t){switch(typeof t){case"object":return MVC.Utils.isArray(t)?"array":MVC.Utils.isObject(t)?"object":null===t?"null":void 0;case"string":case"number":case"boolean":case"undefined":case"function":return typeof t}},MVC.Utils.addPropertiesToObject=function(){var t;switch(arguments.length){case 2:var e=arguments[0];for(var[s,i]of(t=arguments[1],Object.entries(e)))t[s]=i;break;case 3:var r=arguments[0],n=arguments[1];(t=arguments[2])[r]=n}return t},MVC.Utils.objectQuery=function(t,e){var s=MVC.Utils.objectQuery.parseNotation(t);return"@"===s[0]&&s.splice(0,1),s.length?(e=MVC.Utils.isObject(e)?Object.entries(e):e,s.reduce((t,e,s,i)=>{var r=[];for(var[n,a]of(e=MVC.Utils.objectQuery.parseFragment(e),t))n.match(e)&&(r=s===i.length-1?r.concat([[n,a]]):r.concat(Object.entries(a)));return t=r},e)):e},MVC.Utils.objectQuery.parseNotation=function(t){return t="["===t.charAt(0)&&"]"==t.charAt(t.length-1)?t.slice(1,-1).split("]["):t.split(".")},MVC.Utils.objectQuery.parseFragment=function(t){return"/"===t.charAt(0)&&"/"==t.charAt(t.length-1)&&(t=t.slice(1,-1),t=new RegExp(t)),t},MVC.Utils.toggleEventsForTargetObjects=function(t,e,s,i){for(var[r,n]of Object.entries(e)){var a=r.split(" "),l=a[0],o=a[1],h=MVC.Utils.objectQuery(l,s);for(var[c,d]of h){var u="on"===t?d instanceof NodeList||d instanceof HTMLElement?"addEventListener":"on":d instanceof NodeList||d instanceof HTMLElement?"removeEventListener":"off",b=MVC.Utils.objectQuery(n,i)[0][1];if(d instanceof NodeList)for(var v of d)v[u](o,b);else HTMLElement,d[u](o,b)}}},MVC.Utils.bindEventsToTargetObjects=function(){this.toggleEventsForTargetObjects("on",...arguments)},MVC.Utils.unbindEventsFromTargetObjects=function(){this.toggleEventsForTargetObjects("off",...arguments)},MVC.Utils.validateDataSchema=function(t,e){if(!e)throw MVC.TMPL;switch(MVC.Utils.typeOf(t)){case"array":var s=[];if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(s)))for(var[i,r]of(console.log(e.name),Object.entries(t)))s.push(this.validateDataSchema(r));return s;case"object":var n={};if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(n)))for(var[a,l]of(console.log(e.name),Object.entries(t)))n[a]=this.validateDataSchema(l,e[a]);return n;case"string":case"number":case"boolean":if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return console.log(e.name),t;throw MVC.TMPL;case"null":if(MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return t;break;case"undefined":case"function":throw MVC.TMPL}},MVC.Events=class{constructor(){}get _events(){return this.events=this.events?this.events:{},this.events}eventCallbacks(t){return this._events[t]||{}}eventCallbackName(t){return t.name.length?t.name:"anonymousFunction"}eventCallbackGroup(t,e){return t[e]||[]}on(t,e){var s=this.eventCallbacks(t),i=this.eventCallbackName(e),r=this.eventCallbackGroup(s,i);r.push(e),s[i]=r,this._events[t]=s}off(){switch(arguments.length){case 1:var t=arguments[0];delete this._events[t];break;case 2:t=arguments[0];var e=arguments[1],s=this.eventCallbackName(e);delete this._events[t][s]}}emit(t,e){var s=this.eventCallbacks(t);for(var[i,r]of Object.entries(s))for(var n of r){n(e,...Object.values(arguments).splice(2))}}},MVC.Channels=class{constructor(){}get _channels(){return this.channels=this.channels?this.channels:{},this.channels}channel(t){return this._channels[t]=this._channels[t]?this._channels[t]:new MVC.Channels.Channel,this._channels[t]}off(t){delete this._channels[t]}},MVC.Channels.Channel=class{constructor(){}get _responses(){return this.responses=this.responses?this.responses:{},this.responses}response(t,e){if(!e)return this._responses[response];this._responses[t]=e}request(t,e){if(this._responses[t])return this._responses[t](e)}off(t){if(t)delete this._responses[t];else for(var[e]of Object.keys(this._responses))delete this._responses[e]}},MVC.Base=class extends MVC.Events{constructor(t,e,s){super(),s&&(this._configuration=s),e&&(this._options=e),t&&(this._settings=t)}get _configuration(){return this.configuration=this.configuration?this.configuration:{},this.configuration}set _configuration(t){this.configuration=t}get _options(){return this.options=this.options?this.options:{},this.options}set _options(t){this.options=t}get _settings(){return this.settings=this.settings?this.settings:{},this.settings}set _settings(t){this.settings=t}},MVC.Observer=class extends MVC.Base{constructor(){super(...arguments),this.enable()}get _connected(){return this.connected||!1}set _connected(t){this.connected=t}get observer(){return this._observer=this._observer?this._observer:new MutationObserver(this.observerCallback.bind(this)),this._observer}get _target(){return this.target}set _target(t){this.target=t}get _options(){return this.options}set _options(t){this.options=t}get _mutations(){return this.mutations=this.mutations?this.mutations:[],this.mutations}set _mutations(t){for(var[e,s]of Object.entries(t.settings)){var i,r=e.split(" ");i={target:MVC.Utils.objectQuery(r[0],t.targets)[0][1],name:r[1],callback:s=MVC.Utils.objectQuery(s,t.callbacks)[0][1]},this._mutations.push(i)}}enable(){var t=this.settings;t&&!this.enabled&&(t.target&&(this._target=t.target instanceof NodeList?t.target[0]:t.target),t.options&&(this._options=t.options),t.mutations&&(this._mutations=t.mutations),this._enabled=!0)}disable(){this.settings&&this.enabled&&(this.target&&delete this.target,this.options&&delete this.options,this.mutations&&delete this.mutations,this.observeer&&delete this.observer,this._enabled=!1)}observerCallback(t,e){var s=this,i=function(t,e){switch(e.type){case"childList":var i=function(t){if(e[t].length){var i=function(i,r){s.mutations.forEach(s=>{if(t.match(new RegExp("^".concat(s.name))))if(s.target instanceof HTMLElement)s.target===r&&s.callback({mutation:s,mutationRecord:e});else if(s.target instanceof NodeList)for(var i of s.target)i===r&&i.callback({mutation:s,mutationRecord:e})})};for(var[r,n]of Object.entries(e[t]))i(0,n)}};for(var r of["addedNodes","removedNodes"])i(r);break;case"attributes":var n=s.mutations.filter(t=>t.name===e.type&&t.data===e.attributeName)[0];n&&n.callback({mutation:n,mutationRecord:e})}};for(var[r,n]of Object.entries(t))i(0,n)}connect(){this.observer.observe(this.target,this.options),this._connected=!0}disconnect(){this.observer.disconnect(),this._connected=!1}},MVC.Service=class extends MVC.Base{constructor(){super(...arguments),this.enable()}get _defaults(){return this.defaults||{contentType:{"Content-Type":"application/json"},responseType:"json"}}get _responseTypes(){return["","arraybuffer","blob","document","json","text"]}get _responseType(){return this.responseType}set _responseType(t){this._xhr.responseType=this._responseTypes.find(e=>e===t)||this._defaults.responseType}get _type(){return this.type}set _type(t){this.type=t}get _url(){return this.url}set _url(t){this.url=t}get _headers(){return this.headers||[]}set _headers(t){for(var e of(this._headers.length=0,t))this._xhr.setRequestHeader({header:e}[0],{header:e}[1]),this._headers.push(e)}get _xhr(){return this.xhr=this.xhr?this.xhr:new XMLHttpRequest,this.xhr}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}newXHR(){return new Promise((t,e)=>{200===this._xhr.status&&this._xhr.abort(),this._xhr.open(this._type,this._url),this._xhr.onload=t,this._xhr.onerror=e,this._xhr.send(this._data)})}enable(){var t=this.settings;t&&!this.enabled&&(t.type&&(this._type=t.type),t.url&&(this._url=t.url),t.data&&(this._data=t.data||null),t.headers&&(this._headers=t.headers||[this._defaults.contentType]),this.settings.responseType&&(this._responseType=this._settings.responseType),this._enabled=!0)}disable(){Object.keys(this.settings).length&&(delete this.settings.type,delete this.settings.url,delete this.settings.data,delete this.settings.headers,delete this.settings.responseType,this._enabled=!0)}},MVC.Model=class extends MVC.Base{constructor(){super(...arguments),this.enable()}get _isSetting(){return this.isSetting}set _isSetting(t){this.isSetting=t}get _defaults(){return this._defaults}set _defaults(t){this.defaults=t,this.set(this.defaults)}get _schema(){return this._schema}set _schema(t){this.schema=t}get _histiogram(){return this.histiogram||{length:1}}set _histiogram(t){this.histiogram=Object.assign(this._histiogram,t)}get _history(){return this.history=this.history?this.history:[],this.history}set _history(t){Object.keys(t).length&&this._histiogram.length&&(this._history.unshift(this.parse(t)),this._history.splice(this._histiogram.length))}get _data(){return this.data=this.data?this.data:{},this.data}get _dataEvents(){return this.dataEvents=this.dataEvents?this.dataEvents:{},this.dataEvents}set _dataEvents(t){this.dataEvents=MVC.Utils.addPropertiesToObject(t,this._dataEvents)}get _dataCallbacks(){return this.dataCallbacks=this.dataCallbacks?this.dataCallbacks:{},this.dataCallbacks}set _dataCallbacks(t){this.dataCallbacks=MVC.Utils.addPropertiesToObject(t,this._dataCallbacks)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}addDataEvents(){MVC.Utils.bindEventsToTargetObjects(this.dataEvents,this,this.dataCallbacks)}get(){var t=arguments[0];return this._data["_".concat(t)]}set(){switch(this._history=this.parse(),arguments.length){case 1:var t=Object.entries(arguments[0]);t.forEach((e,s)=>{var[i,r]=e;0===s?this._isSetting=!0:s===t.length-1&&(this._isSetting=!1),this.setDataProperty(i,r)});break;case 2:var e=arguments[0],s=arguments[1];this.setDataProperty(e,s);break;case 3:e=arguments[0],s=arguments[1];var i=arguments[2];this.setDataProperty(e,s,i)}}unset(){switch(this._history=this.parse(),arguments.length){case 0:for(var t of Object.keys(this._data))this.unsetDataProperty(t);break;case 1:var e=arguments[0];this.unsetDataProperty(e)}}setDataProperty(t,e,s){if(!this._data["_".concat(t)]){var i=this;Object.defineProperties(this._data,{["_".concat(t)]:{configurable:!0,get(){return this[t]},set(e){if(this[t]=e,!s&&!i._isSetting){var r=["set",":",t].join("");i.emit(r,{name:r,data:{key:t,value:e}},i),i.emit("set",{name:"set",data:{key:t,value:e}},i)}}}})}this._data["_".concat(t)]=e}unsetDataProperty(t){var e=["unset",":",t].join(""),s=this._data[t];delete this._data["_".concat(t)],delete this._data[t],this.emit(e,{name:e,data:{key:t,value:s}}),this.emit("unset",{name:"unset",data:{key:t,value:s}})}parse(t){return t=t||this._data,JSON.parse(JSON.stringify(Object.assign({},t)))}enable(){this.settings&&!this.enabled&&(this.settings.histiogram&&(this._histiogram=this.settings.histiogram),this.settings.data&&this.set(this.settings.data),this.settings.dataCallbacks&&(this._dataCallbacks=this.settings.dataCallbacks),this.settings.dataEvents&&(this._dataEvents=this.settings.dataEvents),this.settings.schema&&(this._schema=this.settings.schema),this.settings.defaults&&(this._defaults=this.settings.defaults),this.dataEvents&&this.dataCallbacks&&this.addDataEvents(),this._enabled=!0)}disable(){this.settings&&!this.enabled&&(this.dataEvents&&this.dataCallbacks&&this.removeDataEvents(),delete this._histiogram,delete this._data,delete this._dataCallbacks,delete this._dataEvents,delete this._schema,delete this._defaults,this._enabled=!1)}},MVC.Emitter=class extends MVC.Model{constructor(){super(...arguments),this.settings&&this.settings.name&&(this._name=this.settings.name)}get _name(){return this.name}set _name(t){this.name=t}get emission(){return{name:this._name,data:this.parse()}}},MVC.View=class extends MVC.Base{constructor(){super(...arguments),this.enable()}get _elementName(){return this._element.tagName}set _elementName(t){this._element||(this._element=document.createElement(t))}get _element(){return this.element}set _element(t){t instanceof HTMLElement?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}get _attributes(){return this._element.attributes}set _attributes(t){for(var[e,s]of Object.entries(t))void 0===s?this._element.removeAttribute(e):this._element.setAttribute(e,s)}get _ui(){return this.ui=this.ui?this.ui:{},this.ui}set _ui(t){for(var[e,s]of(this._ui.$element||(this._ui.$element=this.element),Object.entries(t)))s instanceof HTMLElement?this._ui[e]=s:"string"==typeof s&&(this._ui[e]=this._element.querySelectorAll(s))}get _uiEvents(){return this.uiEvents}set _uiEvents(t){this.uiEvents=t}get _uiCallbacks(){return this.uiCallbacks=this.uiCallbacks?this.uiCallbacks:{},this.uiCallbacks}set _uiCallbacks(t){this.uiCallbacks=MVC.Utils.addPropertiesToObject(t,this._uiCallbacks)}get _observerCallbacks(){return this.observerCallbacks=this.observerCallbacks?this.observerCallbacks:{},this.observerCallbacks}set _observerCallbacks(t){this.observerCallbacks=MVC.Utils.addPropertiesToObject(t,this._observerCallbacks)}get _uiEmitters(){return this.uiEmitters=this.uiEmitters?this.uiEmitters:{},this.uiEmitters}set _uiEmitters(t){var e={};t.forEach(t=>{var s=new t;e[s.name]=s}),this.uiEmitters=MVC.Utils.addPropertiesToObject(e,this._uiEmitters)}get _observers(){return this.observers=this.observers?this.observers:{},this.observers}set _observers(t){for(var[e,s]of Object.entries(t)){var i=e.split(" "),r=i[0],n=MVC.Utils.objectQuery(r,this.ui),a=i[1]?i[1].split(":").reduce((t,e)=>(t[e]=!0,t),{}):{},l={target:n[0][1],options:a,mutations:{targets:this.ui,settings:s,callbacks:this.observerCallbacks}},o=new MVC.Observer(l);this._observers[r]=o}}get elementObserver(){return this._elementObserver=this._elementObserver?this._elementObserver:new MutationObserver(this.elementObserve.bind(this)),this._elementObserver}elementObserve(t,e){for(var[s,i]of Object.entries(t))switch(i.type){case"childList":for(var r of["addedNodes","removedNodes"])i[r].length&&(this.removeObservers(),this.removeUI(),this.addUI(),this.addObservers())}}get _insert(){return this.insert}set _insert(t){this.insert=t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _templates(){return this.templates=this.templates?this.templates:{},this.templates}set _templates(t){for(var[e,s]of Object.entries(t))this._templates[e]=s}autoInsert(){this.insert.element,this.insert.method,document.querySelectorAll(this.insert.element).forEach(t=>{t.insertAdjacentElement(this.insert.method,this.element)})}autoRemove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}addElement(t){(t=t||this.settings).elementName&&(this._elementName=t.elementName),t.element&&(this._element=t.element),t.attributes&&(this._attributes=t.attributes),t.templates&&(this._templates=t.templates),t.insert&&(this._insert=t.insert)}removeElement(t){t=t||this.settings,this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element&&delete this.element,this.attributes&&delete this.attributes,this.templates&&delete this.templates,this.insert&&delete this.insert}addUI(t){(t=t||this.settings).ui&&(this._ui=t.ui),t.uiEmitters&&(this._uiEmitters=t.uiEmitters),t.uiCallbacks&&(this._uiCallbacks=t.uiCallbacks),t.uiEvents&&(this._uiEvents=t.uiEvents,this.addUIEvents())}removeUI(t){(t=t||this.settings).uiEvents&&(this.removeUIEvents(),delete this._uiEvents),delete this.uiEvents,delete this.ui,delete this.uiCallbacks}addObservers(t){(t=t||this.settings).observerCallbacks&&(this._observerCallbacks=t.observerCallbacks),t.observers&&(this._observers=t.observers,this.connectObservers())}removeObservers(){this.observerCallbacks&&delete this.observerCallbacks,this.observers&&(this.disconnectObservers(),delete this.observers)}addUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.bindEventsToTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}removeUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.unbindEventsFromTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}connectObservers(){Object.entries(this._observers).forEach(t=>{var[e,s]=t;s.connect()})}disconnectObservers(){Object.entries(this._observers).forEach(t=>{var[e,s]=t;s.disconnect()})}enable(){var t=this.settings;t&&!this.enabled&&(this.addElement(t),this.addUI(t),this.addObservers(t),this._enabled=!0)}disable(){var t=this.settings;t&&this.enabled&&(this.removeUI(t),this.removeElement(t),this.removeObservers(t),this._enabled=!1)}},MVC.Controller=class extends MVC.Base{constructor(){super(...arguments),this.enable()}get _emitters(){return this.emitters=this.emitters?this.emitters:{},this.emitters}set _emitters(t){this.emitters=MVC.Utils.addPropertiesToObject(t,this._emitters)}get _modelCallbacks(){return this.modelCallbacks=this.modelCallbacks?this.modelCallbacks:{},this.modelCallbacks}set _modelCallbacks(t){this.modelCallbacks=MVC.Utils.addPropertiesToObject(t,this._modelCallbacks)}get _viewCallbacks(){return this.viewCallbacks=this.viewCallbacks?this.viewCallbacks:{},this.viewCallbacks}set _viewCallbacks(t){this.viewCallbacks=MVC.Utils.addPropertiesToObject(t,this._viewCallbacks)}get _controllerCallbacks(){return this.controllerCallbacks=this.controllerCallbacks?this.controllerCallbacks:{},this.controllerCallbacks}set _controllerCallbacks(t){this.controllerCallbacks=MVC.Utils.addPropertiesToObject(t,this._controllerCallbacks)}get _routerCallbacks(){return this.routerCallbacks=this.routerCallbacks?this.routerCallbacks:{},this.routerCallbacks}set _routerCallbacks(t){this.routerCallbacks=MVC.Utils.addPropertiesToObject(t,this._routerCallbacks)}get _models(){return this.models=this.models?this.models:{},this.models}set _models(t){this.models=MVC.Utils.addPropertiesToObject(t,this._models)}get _views(){return this.views=this.views?this.views:{},this.views}set _views(t){this.views=MVC.Utils.addPropertiesToObject(t,this._views)}get _controllers(){return this.controllers=this.controllers?this.controllers:{},this.controllers}set _controllers(t){this.controllers=MVC.Utils.addPropertiesToObject(t,this._controllers)}get _routers(){return this.routers=this.routers?this.routers:{},this.routers}set _routers(t){this.routers=MVC.Utils.addPropertiesToObject(t,this._routers)}get _modelEvents(){return this.modelEvents=this.modelEvents?this.modelEvents:{},this.modelEvents}set _modelEvents(t){this.modelEvents=MVC.Utils.addPropertiesToObject(t,this._modelEvents)}get _viewEvents(){return this.viewEvents=this.viewEvents?this.viewEvents:{},this.viewEvents}set _viewEvents(t){this.viewEvents=MVC.Utils.addPropertiesToObject(t,this._viewEvents)}get _controllerEvents(){return this.controllerEvents=this.controllerEvents?this.controllerEvents:{},this.controllerEvents}set _controllerEvents(t){this.controllerEvents=MVC.Utils.addPropertiesToObject(t,this._controllerEvents)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}addModelEvents(){MVC.Utils.bindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}removeModelEvents(){MVC.Utils.unbindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}addViewEvents(){MVC.Utils.bindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}removeViewEvents(){MVC.Utils.unbindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}addControllerEvents(){MVC.Utils.bindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}removeControllerEvents(){MVC.Utils.unbindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}enable(){var t=this.settings;t&&!this.enabled&&(t.emitters&&(this._emitters=t.emitters),t.modelCallbacks&&(this._modelCallbacks=t.modelCallbacks),t.viewCallbacks&&(this._viewCallbacks=t.viewCallbacks),t.controllerCallbacks&&(this._controllerCallbacks=t.controllerCallbacks),t.routerCallbacks&&(this._routerCallbacks=t.routerCallbacks),t.models&&(this._models=t.models),t.views&&(this._views=t.views),t.controllers&&(this._controllers=t.controllers),t.routers&&(this._routers=t.routers),t.modelEvents&&(this._modelEvents=t.modelEvents),t.viewEvents&&(this._viewEvents=t.viewEvents),t.controllerEvents&&(this._controllerEvents=t.controllerEvents),this.modelEvents&&this.models&&this.modelCallbacks&&this.addModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.addViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.addControllerEvents(),this._enabled=!0)}disable(){this.settings&&this.enabled&&(this.modelEvents&&this.models&&this.modelCallbacks&&this.removeModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.removeViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.removeControllerEvents(),delete this._emitters,delete this._modelCallbacks,delete this._viewCallbacks,delete this._controllerCallbacks,delete this._routerCallbacks,delete this._models,delete this._views,delete this._controllers,delete this._routers,delete this._modelEvents,delete this._viewEvents,delete this._controllerEvents,this._enabled=!1)}},MVC.Router=class extends MVC.Base{constructor(){super(...arguments),this.addSettings(),this.setRoutes(this.routes,this.controllers),this.setEvents(),this.start(),"function"==typeof this.initialize&&this.initialize()}addSettings(){this._settings&&(this._settings.routes&&(this.routes=this._settings.routes),this._settings.controllers&&(this.controllers=this._settings.controllers))}start(){""===this.getRoute()?this.navigate("/"):window.dispatchEvent(new Event("hashchange"))}setRoutes(t,e){for(var s in t)this.routes[s]=e[t[s]]}setEvents(){window.addEventListener("hashchange",this.hashChange.bind(this))}getRoute(){return String(window.location.hash).split("#").pop()}hashChange(t){var e=this.getRoute();try{this.routes[e](t),this.emit("navigate",this)}catch(t){}}navigate(t){window.location.hash=t}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1WQy5qcyIsIkNvbnN0YW50cy5qcyIsIkV2ZW50cy5qcyIsIlRlbXBsYXRlcy5qcyIsIlV0aWxzLmpzIiwiaXMuanMiLCJ0eXBlT2YuanMiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QuanMiLCJvYmplY3RRdWVyeS5qcyIsInRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMuanMiLCJ2YWxpZGF0ZURhdGFTY2hlbWEuanMiLCJDaGFubmVscy5qcyIsIkNoYW5uZWwuanMiLCJCYXNlLmpzIiwiT2JzZXJ2ZXIuanMiLCJTZXJ2aWNlLmpzIiwiTW9kZWwuanMiLCJFbWl0dGVyLmpzIiwiVmlldy5qcyIsIkNvbnRyb2xsZXIuanMiLCJSb3V0ZXIuanMiXSwibmFtZXMiOlsiTVZDIiwiQ29uc3RhbnRzIiwiQ09OU1QiLCJFdmVudHMiLCJFViIsIlRlbXBsYXRlcyIsIk9iamVjdFF1ZXJ5U3RyaW5nRm9ybWF0SW52YWxpZFJvb3QiLCJkYXRhIiwiam9pbiIsIkRhdGFTY2hlbWFNaXNtYXRjaCIsIkRhdGFGdW5jdGlvbkludmFsaWQiLCJEYXRhVW5kZWZpbmVkIiwiU2NoZW1hVW5kZWZpbmVkIiwiVE1QTCIsIlV0aWxzIiwiaXNBcnJheSIsIm9iamVjdCIsIkFycmF5IiwiaXNPYmplY3QiLCJpc0VxdWFsVHlwZSIsInZhbHVlQSIsInZhbHVlQiIsImlzSFRNTEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInR5cGVPZiIsImFkZFByb3BlcnRpZXNUb09iamVjdCIsInRhcmdldE9iamVjdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInByb3BlcnRpZXMiLCJfcHJvcGVydHlOYW1lIiwiX3Byb3BlcnR5VmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwicHJvcGVydHlOYW1lIiwicHJvcGVydHlWYWx1ZSIsIm9iamVjdFF1ZXJ5Iiwic3RyaW5nIiwiY29udGV4dCIsInN0cmluZ0RhdGEiLCJwYXJzZU5vdGF0aW9uIiwic3BsaWNlIiwicmVkdWNlIiwiZnJhZ21lbnQiLCJmcmFnbWVudEluZGV4IiwiZnJhZ21lbnRzIiwicHJvcGVydHlLZXkiLCJwYXJzZUZyYWdtZW50IiwibWF0Y2giLCJjb25jYXQiLCJjaGFyQXQiLCJzbGljZSIsInNwbGl0IiwiUmVnRXhwIiwidG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cyIsInRvZ2dsZU1ldGhvZCIsImV2ZW50cyIsInRhcmdldE9iamVjdHMiLCJjYWxsYmFja3MiLCJldmVudFNldHRpbmdzIiwiZXZlbnRDYWxsYmFja05hbWUiLCJldmVudERhdGEiLCJldmVudFRhcmdldFNldHRpbmdzIiwiZXZlbnROYW1lIiwiZXZlbnRUYXJnZXRzIiwiZXZlbnRUYXJnZXROYW1lIiwiZXZlbnRUYXJnZXQiLCJldmVudE1ldGhvZE5hbWUiLCJOb2RlTGlzdCIsImV2ZW50Q2FsbGJhY2siLCJfZXZlbnRUYXJnZXQiLCJiaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzIiwidGhpcyIsInVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzIiwidmFsaWRhdGVEYXRhU2NoZW1hIiwic2NoZW1hIiwiYXJyYXkiLCJhcnJheUtleSIsImFycmF5VmFsdWUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsInB1c2giLCJvYmplY3RLZXkiLCJvYmplY3RWYWx1ZSIsIltvYmplY3QgT2JqZWN0XSIsIl9ldmVudHMiLCJldmVudENhbGxiYWNrcyIsImV2ZW50Q2FsbGJhY2tHcm91cCIsImV2ZW50Q2FsbGJhY2tHcm91cE5hbWUiLCJ2YWx1ZXMiLCJDaGFubmVscyIsIl9jaGFubmVscyIsImNoYW5uZWxzIiwiY2hhbm5lbE5hbWUiLCJDaGFubmVsIiwiX3Jlc3BvbnNlcyIsInJlc3BvbnNlcyIsInJlc3BvbnNlTmFtZSIsInJlc3BvbnNlQ2FsbGJhY2siLCJyZXNwb25zZSIsInJlcXVlc3REYXRhIiwiX3Jlc3BvbnNlTmFtZSIsImtleXMiLCJCYXNlIiwic2V0dGluZ3MiLCJvcHRpb25zIiwiY29uZmlndXJhdGlvbiIsInN1cGVyIiwiX2NvbmZpZ3VyYXRpb24iLCJfb3B0aW9ucyIsIl9zZXR0aW5ncyIsIk9ic2VydmVyIiwiZW5hYmxlIiwiX2Nvbm5lY3RlZCIsImNvbm5lY3RlZCIsIm9ic2VydmVyIiwiX29ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmVyQ2FsbGJhY2siLCJiaW5kIiwiX3RhcmdldCIsInRhcmdldCIsIl9tdXRhdGlvbnMiLCJtdXRhdGlvbnMiLCJtdXRhdGlvblNldHRpbmdzIiwibXV0YXRpb25DYWxsYmFjayIsIm11dGF0aW9uIiwibXV0YXRpb25EYXRhIiwidGFyZ2V0cyIsImNhbGxiYWNrIiwiZW5hYmxlZCIsIl9lbmFibGVkIiwib2JzZXJ2ZWVyIiwibXV0YXRpb25SZWNvcmRMaXN0IiwiX3RoaXMiLCJfbG9vcCIsIm11dGF0aW9uUmVjb3JkSW5kZXgiLCJtdXRhdGlvblJlY29yZCIsInR5cGUiLCJfbG9vcDIiLCJtdXRhdGlvblJlY29yZENhdGVnb3J5IiwiX2xvb3AzIiwibm9kZUluZGV4Iiwibm9kZSIsImZvckVhY2giLCJfbXV0YXRpb24iLCJfbXV0YXRpb25UYXJnZXQiLCJmaWx0ZXIiLCJhdHRyaWJ1dGVOYW1lIiwib2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJTZXJ2aWNlIiwiX2RlZmF1bHRzIiwiZGVmYXVsdHMiLCJjb250ZW50VHlwZSIsIkNvbnRlbnQtVHlwZSIsInJlc3BvbnNlVHlwZSIsIl9yZXNwb25zZVR5cGVzIiwiX3Jlc3BvbnNlVHlwZSIsIl94aHIiLCJmaW5kIiwicmVzcG9uc2VUeXBlSXRlbSIsIl90eXBlIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImhlYWRlciIsInNldFJlcXVlc3RIZWFkZXIiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWJvcnQiLCJvcGVuIiwib25sb2FkIiwib25lcnJvciIsInNlbmQiLCJfZGF0YSIsIk1vZGVsIiwiX2lzU2V0dGluZyIsImlzU2V0dGluZyIsInNldCIsIl9zY2hlbWEiLCJfaGlzdGlvZ3JhbSIsImhpc3Rpb2dyYW0iLCJhc3NpZ24iLCJfaGlzdG9yeSIsImhpc3RvcnkiLCJ1bnNoaWZ0IiwicGFyc2UiLCJfZGF0YUV2ZW50cyIsImRhdGFFdmVudHMiLCJfZGF0YUNhbGxiYWNrcyIsImRhdGFDYWxsYmFja3MiLCJwcm9wZXJ0eSIsIl9hcmd1bWVudHMiLCJfcmVmIiwiaW5kZXgiLCJrZXkiLCJ2YWx1ZSIsInNldERhdGFQcm9wZXJ0eSIsInNpbGVudCIsIl9rZXkiLCJ1bnNldERhdGFQcm9wZXJ0eSIsImRlZmluZVByb3BlcnRpZXMiLCJjb25maWd1cmFibGUiLCJzZXRWYWx1ZUV2ZW50TmFtZSIsImVtaXQiLCJ1bnNldFZhbHVlRXZlbnROYW1lIiwidW5zZXRWYWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGREYXRhRXZlbnRzIiwicmVtb3ZlRGF0YUV2ZW50cyIsIkVtaXR0ZXIiLCJfbmFtZSIsImVtaXNzaW9uIiwiVmlldyIsIl9lbGVtZW50TmFtZSIsIl9lbGVtZW50IiwidGFnTmFtZSIsImVsZW1lbnROYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbGVtZW50T2JzZXJ2ZXIiLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiX2F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlS2V5IiwiYXR0cmlidXRlVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJfdWkiLCJ1aSIsInVpS2V5IiwidWlWYWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdWlFdmVudHMiLCJ1aUV2ZW50cyIsIl91aUNhbGxiYWNrcyIsInVpQ2FsbGJhY2tzIiwiX29ic2VydmVyQ2FsbGJhY2tzIiwib2JzZXJ2ZXJDYWxsYmFja3MiLCJfdWlFbWl0dGVycyIsInVpRW1pdHRlcnMiLCJVSUVtaXR0ZXIiLCJ1aUVtaXR0ZXIiLCJfb2JzZXJ2ZXJzIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXJDb25maWd1cmF0aW9uIiwib2JzZXJ2ZXJDb25maWd1cmF0aW9uRGF0YSIsIm9ic2VydmVyTmFtZSIsIm9ic2VydmVyVGFyZ2V0Iiwib2JzZXJ2ZXJPcHRpb25zIiwiX29ic2VydmVyT3B0aW9ucyIsImN1cnJlbnRWYWx1ZSIsIm9ic2VydmVyU2V0dGluZ3MiLCJfZWxlbWVudE9ic2VydmVyIiwiZWxlbWVudE9ic2VydmUiLCJyZW1vdmVPYnNlcnZlcnMiLCJyZW1vdmVVSSIsImFkZFVJIiwiYWRkT2JzZXJ2ZXJzIiwiX2luc2VydCIsImluc2VydCIsIl90ZW1wbGF0ZXMiLCJ0ZW1wbGF0ZXMiLCJ0ZW1wbGF0ZU5hbWUiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwibWV0aG9kIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInJlbW92ZUNoaWxkIiwiYWRkVUlFdmVudHMiLCJyZW1vdmVVSUV2ZW50cyIsImNvbm5lY3RPYnNlcnZlcnMiLCJkaXNjb25uZWN0T2JzZXJ2ZXJzIiwiY29ubmVjdCIsIl9yZWYyIiwiYWRkRWxlbWVudCIsInJlbW92ZUVsZW1lbnQiLCJDb250cm9sbGVyIiwiX2VtaXR0ZXJzIiwiZW1pdHRlcnMiLCJfbW9kZWxDYWxsYmFja3MiLCJtb2RlbENhbGxiYWNrcyIsIl92aWV3Q2FsbGJhY2tzIiwidmlld0NhbGxiYWNrcyIsIl9jb250cm9sbGVyQ2FsbGJhY2tzIiwiY29udHJvbGxlckNhbGxiYWNrcyIsIl9yb3V0ZXJDYWxsYmFja3MiLCJyb3V0ZXJDYWxsYmFja3MiLCJfbW9kZWxzIiwibW9kZWxzIiwiX3ZpZXdzIiwidmlld3MiLCJfY29udHJvbGxlcnMiLCJjb250cm9sbGVycyIsIl9yb3V0ZXJzIiwicm91dGVycyIsIl9tb2RlbEV2ZW50cyIsIm1vZGVsRXZlbnRzIiwiX3ZpZXdFdmVudHMiLCJ2aWV3RXZlbnRzIiwiX2NvbnRyb2xsZXJFdmVudHMiLCJjb250cm9sbGVyRXZlbnRzIiwidW5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzIiwiYWRkTW9kZWxFdmVudHMiLCJhZGRWaWV3RXZlbnRzIiwiYWRkQ29udHJvbGxlckV2ZW50cyIsInJlbW92ZU1vZGVsRXZlbnRzIiwicmVtb3ZlVmlld0V2ZW50cyIsInJlbW92ZUNvbnRyb2xsZXJFdmVudHMiLCJSb3V0ZXIiLCJhZGRTZXR0aW5ncyIsInNldFJvdXRlcyIsInJvdXRlcyIsInNldEV2ZW50cyIsInN0YXJ0IiwiaW5pdGlhbGl6ZSIsImdldFJvdXRlIiwibmF2aWdhdGUiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJyb3V0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYXNoQ2hhbmdlIiwiU3RyaW5nIiwibG9jYXRpb24iLCJoYXNoIiwicG9wIiwiZXZlbnQiLCJlcnJvciIsInBhdGgiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLElBQU1BLEtBQU8sR0FDakJBLElBQUlDLFVBQVksR0FDaEJELElBQUlFLE1BQVFGLElBQUlDLFVBQ2hCRCxJQUFJQyxVQUFVRSxPQUFTLEdBQ3ZCSCxJQUFJRSxNQUFNRSxHQUFLSixJQUFJQyxVQUFVRSxPQUM3QkgsSUFBSUssVUFBWSxDQUNkQyxtQ0FBb0MsU0FBd0NDLEdBQzFFLE1BQU8sQ0FBQyw0RUFBNEVDLEtBQUssT0FFM0ZDLG1CQUFvQixTQUE0QkYsR0FDOUMsTUFBTyxDQUFDLDRDQUE0Q0MsS0FBSyxPQUUzREUsb0JBQXFCLFNBQTZCSCxHQUNoRCxDQUFDLHFEQUF1REMsS0FBSyxPQUUvREcsY0FBZSxTQUF1QkosR0FDcEMsQ0FBQyxrQ0FBa0NDLEtBQUssT0FFMUNJLGdCQUFpQixTQUF5QkwsR0FDeEMsQ0FBQyw2QkFBK0JDLEtBQUssUUFHekNSLElBQUlhLEtBQU9iLElBQUlLLFVBQ2ZMLElBQUljLE1BQVEsR0FDWmQsSUFBSWMsTUFBTUMsUUFBVSxTQUFpQkMsR0FDbkMsT0FBT0MsTUFBTUYsUUFBUUMsSUFHdkJoQixJQUFJYyxNQUFNSSxTQUFXLFNBQWtCRixHQUNyQyxPQUFRQyxNQUFNRixRQUFRQyxJQUE0QixpQkFBWEEsR0FHekNoQixJQUFJYyxNQUFNSyxZ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QkFBaUIsYUFBY3JRLEtBQUtzUSxXQUFXdE4sS0FBS2hELE9BSTdEYSxXQUNFLE9BQU8wUCxPQUFPTixPQUFPTyxTQUFTQyxNQUFNN1IsTUFBTSxLQUFLOFIsTUFHakQ3UCxXQUFXOFAsR0FDVCxJQUFJUCxFQUFRcFEsS0FBSytQLFdBRWpCLElBQ0UvUCxLQUFLMlAsT0FBT1MsR0FBT08sR0FDbkIzUSxLQUFLMkksS0FBSyxXQUFZM0ksTUFDdEIsTUFBTzRRLEtBR1gvUCxTQUFTZ1EsR0FDUFosT0FBT08sU0FBU0MsS0FBT0kiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTVZDID0gTVZDIHx8IHt9XHJcbiIsIk1WQy5Db25zdGFudHMgPSB7fVxuTVZDLkNPTlNUID0gTVZDLkNvbnN0YW50c1xuIiwiTVZDLkV2ZW50cyA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgZ2V0IF9ldmVudHMoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9ICh0aGlzLmV2ZW50cylcclxuICAgICAgPyB0aGlzLmV2ZW50c1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5ldmVudHNcclxuICB9XHJcbiAgZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKSB7IHJldHVybiB0aGlzLl9ldmVudHNbZXZlbnROYW1lXSB8fCB7fSB9XHJcbiAgZXZlbnRDYWxsYmFja05hbWUoZXZlbnRDYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIChldmVudENhbGxiYWNrLm5hbWUubGVuZ3RoKVxyXG4gICAgICA/IGV2ZW50Q2FsbGJhY2submFtZVxyXG4gICAgICA6ICdhbm9ueW1vdXNGdW5jdGlvbidcclxuICB9XHJcbiAgZXZlbnRDYWxsYmFja0dyb3VwKGV2ZW50Q2FsbGJhY2tzLCBldmVudENhbGxiYWNrTmFtZSkge1xyXG4gICAgcmV0dXJuIGV2ZW50Q2FsbGJhY2tzW2V2ZW50Q2FsbGJhY2tOYW1lXSB8fCBbXVxyXG4gIH1cclxuICBvbihldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spIHtcclxuICAgIGxldCBldmVudENhbGxiYWNrcyA9IHRoaXMuZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKVxyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tOYW1lID0gdGhpcy5ldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKVxyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tHcm91cCA9IHRoaXMuZXZlbnRDYWxsYmFja0dyb3VwKGV2ZW50Q2FsbGJhY2tzLCBldmVudENhbGxiYWNrTmFtZSlcclxuICAgIGV2ZW50Q2FsbGJhY2tHcm91cC5wdXNoKGV2ZW50Q2FsbGJhY2spXHJcbiAgICBldmVudENhbGxiYWNrc1tldmVudENhbGxiYWNrTmFtZV0gPSBldmVudENhbGxiYWNrR3JvdXBcclxuICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gZXZlbnRDYWxsYmFja3NcclxuICB9XHJcbiAgb2ZmKCkge1xyXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHZhciBldmVudE5hbWUgPSBhcmd1bWVudHNbMF1cclxuICAgICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICAgIHZhciBldmVudENhbGxiYWNrID0gYXJndW1lbnRzWzFdXHJcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2tOYW1lID0gdGhpcy5ldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXVtldmVudENhbGxiYWNrTmFtZV1cclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuICBlbWl0KGV2ZW50TmFtZSwgZXZlbnREYXRhKSB7XHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja3MgPSB0aGlzLmV2ZW50Q2FsbGJhY2tzKGV2ZW50TmFtZSlcclxuICAgIGZvcihsZXQgW2V2ZW50Q2FsbGJhY2tHcm91cE5hbWUsIGV2ZW50Q2FsbGJhY2tHcm91cF0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnRDYWxsYmFja3MpKSB7XHJcbiAgICAgIGZvcihsZXQgZXZlbnRDYWxsYmFjayBvZiBldmVudENhbGxiYWNrR3JvdXApIHtcclxuICAgICAgICBsZXQgYWRkaXRpb25hbEFyZ3VtZW50cyA9IE9iamVjdC52YWx1ZXMoYXJndW1lbnRzKS5zcGxpY2UoMilcclxuICAgICAgICBldmVudENhbGxiYWNrKGV2ZW50RGF0YSwgLi4uYWRkaXRpb25hbEFyZ3VtZW50cylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJNVkMuVGVtcGxhdGVzID0ge1xyXG4gIE9iamVjdFF1ZXJ5U3RyaW5nRm9ybWF0SW52YWxpZFJvb3Q6IGZ1bmN0aW9uIE9iamVjdFF1ZXJ5U3RyaW5nRm9ybWF0SW52YWxpZChkYXRhKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAnT2JqZWN0IFF1ZXJ5IFwic3RyaW5nXCIgcHJvcGVydHkgbXVzdCBiZSBmb3JtYXR0ZWQgdG8gZmlyc3QgaW5jbHVkZSBcIltAXVwiLidcclxuICAgIF0uam9pbignXFxuJylcclxuICB9LFxyXG4gIERhdGFTY2hlbWFNaXNtYXRjaDogZnVuY3Rpb24gRGF0YVNjaGVtYU1pc21hdGNoKGRhdGEpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIGBEYXRhIGFuZCBTY2hlbWEgcHJvcGVydGllcyBkbyBub3QgbWF0Y2guYFxyXG4gICAgXS5qb2luKCdcXG4nKVxyXG4gIH0sXHJcbiAgRGF0YUZ1bmN0aW9uSW52YWxpZDogZnVuY3Rpb24gRGF0YUZ1bmN0aW9uSW52YWxpZChkYXRhKSB7XHJcbiAgICBbXHJcbiAgICAgIGBNb2RlbCBEYXRhIHByb3BlcnR5IHR5cGUgXCJGdW5jdGlvblwiIGlzIG5vdCB2YWxpZC5gXHJcbiAgICBdLmpvaW4oJ1xcbicpXHJcbiAgfSxcclxuICBEYXRhVW5kZWZpbmVkOiBmdW5jdGlvbiBEYXRhVW5kZWZpbmVkKGRhdGEpIHtcclxuICAgIFtcclxuICAgICAgYE1vZGVsIERhdGEgcHJvcGVydHkgdW5kZWZpbmVkLmBcclxuICAgIF0uam9pbignXFxuJylcclxuICB9LFxyXG4gIFNjaGVtYVVuZGVmaW5lZDogZnVuY3Rpb24gU2NoZW1hVW5kZWZpbmVkKGRhdGEpIHtcclxuICAgIFtcclxuICAgICAgYE1vZGVsIFwiU2NoZW1hXCIgdW5kZWZpbmVkLmBcclxuICAgIF0uam9pbignXFxuJylcclxuICB9LFxyXG59XHJcbk1WQy5UTVBMID0gTVZDLlRlbXBsYXRlc1xyXG4iLCJNVkMuVXRpbHMgPSB7fVxyXG4iLCJNVkMuVXRpbHMuaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7IHJldHVybiBBcnJheS5pc0FycmF5KG9iamVjdCkgfVxyXG5NVkMuVXRpbHMuaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdChvYmplY3QpIHtcclxuICByZXR1cm4gKCFBcnJheS5pc0FycmF5KG9iamVjdCkpXHJcbiAgICA/IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnXHJcbiAgICA6IGZhbHNlXHJcbn1cclxuTVZDLlV0aWxzLmlzRXF1YWxUeXBlID0gZnVuY3Rpb24gaXNFcXVhbFR5cGUodmFsdWVBLCB2YWx1ZUIpIHsgcmV0dXJuIHZhbHVlQSA9PT0gdmFsdWVCIH1cclxuTVZDLlV0aWxzLmlzSFRNTEVsZW1lbnQgPSBmdW5jdGlvbiBpc0hUTUxFbGVtZW50KG9iamVjdCkge1xyXG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG59XHJcbiIsIk1WQy5VdGlscy50eXBlT2YgPSAgZnVuY3Rpb24gdHlwZU9mKGRhdGEpIHtcclxuICBzd2l0Y2godHlwZW9mIGRhdGEpIHtcclxuICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgIGxldCBfb2JqZWN0XHJcbiAgICAgIGlmKE1WQy5VdGlscy5pc0FycmF5KGRhdGEpKSB7XHJcbiAgICAgICAgLy8gQXJyYXlcclxuICAgICAgICByZXR1cm4gJ2FycmF5J1xyXG4gICAgICB9IGVsc2UgaWYoXHJcbiAgICAgICAgTVZDLlV0aWxzLmlzT2JqZWN0KGRhdGEpXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE9iamVjdFxyXG4gICAgICAgIHJldHVybiAnb2JqZWN0J1xyXG4gICAgICB9IGVsc2UgaWYoXHJcbiAgICAgICAgZGF0YSA9PT0gbnVsbFxyXG4gICAgICApIHtcclxuICAgICAgICAvLyBOdWxsXHJcbiAgICAgICAgcmV0dXJuICdudWxsJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBfb2JqZWN0XHJcbiAgICAgIGJyZWFrXHJcbiAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgY2FzZSAnbnVtYmVyJzpcclxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxyXG4gICAgY2FzZSAndW5kZWZpbmVkJzpcclxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgcmV0dXJuIHR5cGVvZiBkYXRhXHJcbiAgICAgIGJyZWFrXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QgPSBmdW5jdGlvbiBhZGRQcm9wZXJ0aWVzVG9PYmplY3QoKSB7XHJcbiAgbGV0IHRhcmdldE9iamVjdFxyXG4gIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBjYXNlIDI6XHJcbiAgICAgIGxldCBwcm9wZXJ0aWVzID0gYXJndW1lbnRzWzBdXHJcbiAgICAgIHRhcmdldE9iamVjdCA9IGFyZ3VtZW50c1sxXVxyXG4gICAgICBmb3IobGV0IFtwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgdGFyZ2V0T2JqZWN0W3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgMzpcclxuICAgICAgbGV0IHByb3BlcnR5TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGFyZ3VtZW50c1sxXVxyXG4gICAgICB0YXJnZXRPYmplY3QgPSBhcmd1bWVudHNbMl1cclxuICAgICAgdGFyZ2V0T2JqZWN0W3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlXHJcbiAgICAgIGJyZWFrXHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXRPYmplY3RcclxufVxyXG4iLCJNVkMuVXRpbHMub2JqZWN0UXVlcnkgPSBmdW5jdGlvbiBvYmplY3RRdWVyeShcclxuICBzdHJpbmcsXHJcbiAgY29udGV4dFxyXG4pIHtcclxuICBsZXQgc3RyaW5nRGF0YSA9IE1WQy5VdGlscy5vYmplY3RRdWVyeS5wYXJzZU5vdGF0aW9uKHN0cmluZylcclxuICBpZihzdHJpbmdEYXRhWzBdID09PSAnQCcpIHN0cmluZ0RhdGEuc3BsaWNlKDAsIDEpXHJcbiAgaWYoIXN0cmluZ0RhdGEubGVuZ3RoKSByZXR1cm4gY29udGV4dFxyXG4gIGNvbnRleHQgPSAoTVZDLlV0aWxzLmlzT2JqZWN0KGNvbnRleHQpKVxyXG4gICAgPyBPYmplY3QuZW50cmllcyhjb250ZXh0KVxyXG4gICAgOiBjb250ZXh0XHJcbiAgcmV0dXJuIHN0cmluZ0RhdGEucmVkdWNlKChvYmplY3QsIGZyYWdtZW50LCBmcmFnbWVudEluZGV4LCBmcmFnbWVudHMpID0+IHtcclxuICAgIGxldCBwcm9wZXJ0aWVzID0gW11cclxuICAgIGZyYWdtZW50ID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlRnJhZ21lbnQoZnJhZ21lbnQpXHJcbiAgICBmb3IobGV0IFtwcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZV0gb2Ygb2JqZWN0KSB7XHJcbiAgICAgIGlmKHByb3BlcnR5S2V5Lm1hdGNoKGZyYWdtZW50KSkge1xyXG4gICAgICAgIGlmKGZyYWdtZW50SW5kZXggPT09IGZyYWdtZW50cy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoW1twcm9wZXJ0eUtleSwgcHJvcGVydHlWYWx1ZV1dKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoT2JqZWN0LmVudHJpZXMocHJvcGVydHlWYWx1ZSkpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBvYmplY3QgPSBwcm9wZXJ0aWVzXHJcbiAgICByZXR1cm4gb2JqZWN0XHJcbiAgfSwgY29udGV4dClcclxufVxyXG5NVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VOb3RhdGlvbiA9IGZ1bmN0aW9uIHBhcnNlTm90YXRpb24oc3RyaW5nKSB7XHJcbiAgaWYoXHJcbiAgICBzdHJpbmcuY2hhckF0KDApID09PSAnWycgJiZcclxuICAgIHN0cmluZy5jaGFyQXQoc3RyaW5nLmxlbmd0aCAtIDEpID09ICddJ1xyXG4gICkge1xyXG4gICAgc3RyaW5nID0gc3RyaW5nXHJcbiAgICAgIC5zbGljZSgxLCAtMSlcclxuICAgICAgLnNwbGl0KCddWycpXHJcbiAgfSBlbHNlIHtcclxuICAgIHN0cmluZyA9IHN0cmluZ1xyXG4gICAgICAuc3BsaXQoJy4nKVxyXG4gIH1cclxuICByZXR1cm4gc3RyaW5nXHJcbn1cclxuTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlRnJhZ21lbnQgPSBmdW5jdGlvbiBwYXJzZUZyYWdtZW50KGZyYWdtZW50KSB7XHJcbiAgaWYoXHJcbiAgICBmcmFnbWVudC5jaGFyQXQoMCkgPT09ICcvJyAmJlxyXG4gICAgZnJhZ21lbnQuY2hhckF0KGZyYWdtZW50Lmxlbmd0aCAtIDEpID09ICcvJ1xyXG4gICkge1xyXG4gICAgZnJhZ21lbnQgPSBmcmFnbWVudC5zbGljZSgxLCAtMSlcclxuICAgIGZyYWdtZW50ID0gbmV3IFJlZ0V4cChmcmFnbWVudClcclxuICB9XHJcbiAgcmV0dXJuIGZyYWdtZW50XHJcbn1cclxuIiwiTVZDLlV0aWxzLnRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMgPSBmdW5jdGlvbiB0b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzKFxyXG4gIHRvZ2dsZU1ldGhvZCxcclxuICBldmVudHMsXHJcbiAgdGFyZ2V0T2JqZWN0cyxcclxuICBjYWxsYmFja3NcclxuKSB7XHJcbiAgZm9yKGxldCBbZXZlbnRTZXR0aW5ncywgZXZlbnRDYWxsYmFja05hbWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIHtcclxuICAgIGxldCBldmVudERhdGEgPSBldmVudFNldHRpbmdzLnNwbGl0KCcgJylcclxuICAgIGxldCBldmVudFRhcmdldFNldHRpbmdzID0gZXZlbnREYXRhWzBdXHJcbiAgICBsZXQgZXZlbnROYW1lID0gZXZlbnREYXRhWzFdXHJcbiAgICBsZXQgZXZlbnRUYXJnZXRzID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5KFxyXG4gICAgICBldmVudFRhcmdldFNldHRpbmdzLFxyXG4gICAgICB0YXJnZXRPYmplY3RzXHJcbiAgICApXHJcbiAgICBmb3IobGV0IFtldmVudFRhcmdldE5hbWUsIGV2ZW50VGFyZ2V0XSBvZiBldmVudFRhcmdldHMpIHtcclxuICAgICAgbGV0IGV2ZW50TWV0aG9kTmFtZSA9ICh0b2dnbGVNZXRob2QgPT09ICdvbicpXHJcbiAgICAgID8gKFxyXG4gICAgICAgIGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgTm9kZUxpc3QgfHxcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbiAgICAgICkgPyAnYWRkRXZlbnRMaXN0ZW5lcidcclxuICAgICAgICA6ICdvbidcclxuICAgICAgOiAoXHJcbiAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCB8fFxyXG4gICAgICAgIGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcclxuICAgICAgKSA/ICdyZW1vdmVFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29mZidcclxuICAgICAgbGV0IGV2ZW50Q2FsbGJhY2sgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkoXHJcbiAgICAgICAgZXZlbnRDYWxsYmFja05hbWUsXHJcbiAgICAgICAgY2FsbGJhY2tzXHJcbiAgICAgIClbMF1bMV1cclxuICAgICAgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgIGZvcihsZXQgX2V2ZW50VGFyZ2V0IG9mIGV2ZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBfZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7XHJcbiAgICAgICAgZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHMgPSBmdW5jdGlvbiBiaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKCkge1xyXG4gIHRoaXMudG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cygnb24nLCAuLi5hcmd1bWVudHMpXHJcbn1cclxuTVZDLlV0aWxzLnVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gdW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoKSB7XHJcbiAgdGhpcy50b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzKCdvZmYnLCAuLi5hcmd1bWVudHMpXHJcbn1cclxuIiwiTVZDLlV0aWxzLnZhbGlkYXRlRGF0YVNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGF0YVNjaGVtYShkYXRhLCBzY2hlbWEpIHtcclxuICBpZihzY2hlbWEpIHtcclxuICAgIHN3aXRjaChNVkMuVXRpbHMudHlwZU9mKGRhdGEpKSB7XHJcbiAgICAgIGNhc2UgJ2FycmF5JzpcclxuICAgICAgICBsZXQgYXJyYXkgPSBbXVxyXG4gICAgICAgIHNjaGVtYSA9IChNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSkgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICA/IHNjaGVtYSgpXHJcbiAgICAgICAgICA6IHNjaGVtYVxyXG4gICAgICAgIGlmKFxyXG4gICAgICAgICAgTVZDLlV0aWxzLmlzRXF1YWxUeXBlKFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSksXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2YoYXJyYXkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIGZvcihsZXQgW2FycmF5S2V5LCBhcnJheVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKFxyXG4gICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVEYXRhU2NoZW1hKGFycmF5VmFsdWUpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICBsZXQgb2JqZWN0ID0ge31cclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKG9iamVjdClcclxuICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHNjaGVtYS5uYW1lKVxyXG4gICAgICAgICAgZm9yKGxldCBbb2JqZWN0S2V5LCBvYmplY3RWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgb2JqZWN0W29iamVjdEtleV0gPSB0aGlzLnZhbGlkYXRlRGF0YVNjaGVtYShvYmplY3RWYWx1ZSwgc2NoZW1hW29iamVjdEtleV0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmplY3RcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICBjYXNlICdib29sZWFuJzpcclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGRhdGEpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ251bGwnOlxyXG4gICAgICAgIGlmKFxyXG4gICAgICAgICAgTVZDLlV0aWxzLmlzRXF1YWxUeXBlKFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSksXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2YoZGF0YSlcclxuICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XHJcbiAgICAgICAgdGhyb3cgTVZDLlRNUExcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgdGhyb3cgTVZDLlRNUExcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBNVkMuVE1QTFxyXG4gIH1cclxufVxyXG4iLCJNVkMuQ2hhbm5lbHMgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG4gIGdldCBfY2hhbm5lbHMoKSB7XHJcbiAgICB0aGlzLmNoYW5uZWxzID0gKHRoaXMuY2hhbm5lbHMpXHJcbiAgICAgID8gdGhpcy5jaGFubmVsc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5jaGFubmVsc1xyXG4gIH1cclxuICBjaGFubmVsKGNoYW5uZWxOYW1lKSB7XHJcbiAgICB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV0gPSAodGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdKVxyXG4gICAgICA/IHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gICAgICA6IG5ldyBNVkMuQ2hhbm5lbHMuQ2hhbm5lbCgpXHJcbiAgICByZXR1cm4gdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdXHJcbiAgfVxyXG4gIG9mZihjaGFubmVsTmFtZSkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gIH1cclxufVxyXG4iLCJNVkMuQ2hhbm5lbHMuQ2hhbm5lbCA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgZ2V0IF9yZXNwb25zZXMoKSB7XHJcbiAgICB0aGlzLnJlc3BvbnNlcyA9ICh0aGlzLnJlc3BvbnNlcylcclxuICAgICAgPyB0aGlzLnJlc3BvbnNlc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZXNcclxuICB9XHJcbiAgcmVzcG9uc2UocmVzcG9uc2VOYW1lLCByZXNwb25zZUNhbGxiYWNrKSB7XHJcbiAgICBpZihyZXNwb25zZUNhbGxiYWNrKSB7XHJcbiAgICAgIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdID0gcmVzcG9uc2VDYWxsYmFja1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZV1cclxuICAgIH1cclxuICB9XHJcbiAgcmVxdWVzdChyZXNwb25zZU5hbWUsIHJlcXVlc3REYXRhKSB7XHJcbiAgICBpZih0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV0ocmVxdWVzdERhdGEpXHJcbiAgICB9XHJcbiAgfVxyXG4gIG9mZihyZXNwb25zZU5hbWUpIHtcclxuICAgIGlmKHJlc3BvbnNlTmFtZSkge1xyXG4gICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvcihsZXQgW3Jlc3BvbnNlTmFtZV0gb2YgT2JqZWN0LmtleXModGhpcy5fcmVzcG9uc2VzKSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5CYXNlID0gY2xhc3MgZXh0ZW5kcyBNVkMuRXZlbnRzIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgb3B0aW9ucywgY29uZmlndXJhdGlvbikge1xyXG4gICAgc3VwZXIoKVxyXG4gICAgaWYoY29uZmlndXJhdGlvbikgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb25cclxuICAgIGlmKG9wdGlvbnMpIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zXHJcbiAgICBpZihzZXR0aW5ncykgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5nc1xyXG4gIH1cclxuICBnZXQgX2NvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSAodGhpcy5jb25maWd1cmF0aW9uKVxyXG4gICAgICA/IHRoaXMuY29uZmlndXJhdGlvblxyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uXHJcbiAgfVxyXG4gIHNldCBfY29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7IHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb24gfVxyXG4gIGdldCBfb3B0aW9ucygpIHtcclxuICAgIHRoaXMub3B0aW9ucyA9ICh0aGlzLm9wdGlvbnMpXHJcbiAgICAgID8gdGhpcy5vcHRpb25zXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLm9wdGlvbnNcclxuICB9XHJcbiAgc2V0IF9vcHRpb25zKG9wdGlvbnMpIHsgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB9XHJcbiAgZ2V0IF9zZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSAodGhpcy5zZXR0aW5ncylcclxuICAgICAgPyB0aGlzLnNldHRpbmdzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzXHJcbiAgfVxyXG4gIHNldCBfc2V0dGluZ3Moc2V0dGluZ3MpIHsgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIH1cclxufVxyXG4iLCJNVkMuT2JzZXJ2ZXIgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcclxuICAgIHRoaXMuZW5hYmxlKClcclxuICB9XHJcbiAgZ2V0IF9jb25uZWN0ZWQoKSB7IHJldHVybiB0aGlzLmNvbm5lY3RlZCB8fCBmYWxzZSB9XHJcbiAgc2V0IF9jb25uZWN0ZWQoY29ubmVjdGVkKSB7IHRoaXMuY29ubmVjdGVkID0gY29ubmVjdGVkIH1cclxuICBnZXQgb2JzZXJ2ZXIoKSB7XHJcbiAgICB0aGlzLl9vYnNlcnZlciA9ICh0aGlzLl9vYnNlcnZlcilcclxuICAgICAgPyB0aGlzLl9vYnNlcnZlclxyXG4gICAgICA6IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMub2JzZXJ2ZXJDYWxsYmFjay5iaW5kKHRoaXMpKVxyXG4gICAgcmV0dXJuIHRoaXMuX29ic2VydmVyXHJcbiAgfVxyXG4gIGdldCBfdGFyZ2V0KCkgeyByZXR1cm4gdGhpcy50YXJnZXQgfVxyXG4gIHNldCBfdGFyZ2V0KHRhcmdldCkgeyB0aGlzLnRhcmdldCA9IHRhcmdldCB9XHJcbiAgZ2V0IF9vcHRpb25zKCkgeyByZXR1cm4gdGhpcy5vcHRpb25zIH1cclxuICBzZXQgX29wdGlvbnMob3B0aW9ucykge1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xyXG4gIH1cclxuICBnZXQgX211dGF0aW9ucygpIHtcclxuICAgIHRoaXMubXV0YXRpb25zID0gKHRoaXMubXV0YXRpb25zKVxyXG4gICAgICA/IHRoaXMubXV0YXRpb25zXHJcbiAgICAgIDogW11cclxuICAgIHJldHVybiB0aGlzLm11dGF0aW9uc1xyXG4gIH1cclxuICBzZXQgX211dGF0aW9ucyhtdXRhdGlvbnMpIHtcclxuICAgIGZvcihsZXQgW211dGF0aW9uU2V0dGluZ3MsIG11dGF0aW9uQ2FsbGJhY2tdIG9mIE9iamVjdC5lbnRyaWVzKG11dGF0aW9ucy5zZXR0aW5ncykpIHtcclxuICAgICAgbGV0IG11dGF0aW9uXHJcbiAgICAgIGxldCBtdXRhdGlvbkRhdGEgPSBtdXRhdGlvblNldHRpbmdzLnNwbGl0KCcgJylcclxuICAgICAgbGV0IG11dGF0aW9uVGFyZ2V0ID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5KG11dGF0aW9uRGF0YVswXSwgbXV0YXRpb25zLnRhcmdldHMpWzBdWzFdXHJcbiAgICAgIGxldCBtdXRhdGlvbkV2ZW50TmFtZSA9IG11dGF0aW9uRGF0YVsxXVxyXG4gICAgICBtdXRhdGlvbkNhbGxiYWNrID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5KG11dGF0aW9uQ2FsbGJhY2ssIG11dGF0aW9ucy5jYWxsYmFja3MpWzBdWzFdXHJcbiAgICAgIG11dGF0aW9uID0ge1xyXG4gICAgICAgIHRhcmdldDogbXV0YXRpb25UYXJnZXQsXHJcbiAgICAgICAgbmFtZTogbXV0YXRpb25FdmVudE5hbWUsXHJcbiAgICAgICAgY2FsbGJhY2s6IG11dGF0aW9uQ2FsbGJhY2ssXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fbXV0YXRpb25zLnB1c2gobXV0YXRpb24pXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVuYWJsZSgpIHtcclxuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcclxuICAgIGlmKFxyXG4gICAgICBzZXR0aW5ncyAmJlxyXG4gICAgICAhdGhpcy5lbmFibGVkXHJcbiAgICApIHtcclxuICAgICAgaWYoc2V0dGluZ3MudGFyZ2V0KSB0aGlzLl90YXJnZXQgPSAoc2V0dGluZ3MudGFyZ2V0IGluc3RhbmNlb2YgTm9kZUxpc3QpXHJcbiAgICAgICAgPyBzZXR0aW5ncy50YXJnZXRbMF1cclxuICAgICAgICA6IHNldHRpbmdzLnRhcmdldFxyXG4gICAgICBpZihzZXR0aW5ncy5vcHRpb25zKSB0aGlzLl9vcHRpb25zID0gc2V0dGluZ3Mub3B0aW9uc1xyXG4gICAgICBpZihzZXR0aW5ncy5tdXRhdGlvbnMpIHRoaXMuX211dGF0aW9ucyA9IHNldHRpbmdzLm11dGF0aW9uc1xyXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuICBkaXNhYmxlKCkge1xyXG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xyXG4gICAgaWYoXHJcbiAgICAgIHNldHRpbmdzICYmXHJcbiAgICAgIHRoaXMuZW5hYmxlZFxyXG4gICAgKSB7XHJcbiAgICAgIGlmKHRoaXMudGFyZ2V0KSBkZWxldGUgdGhpcy50YXJnZXRcclxuICAgICAgaWYodGhpcy5vcHRpb25zKSBkZWxldGUgdGhpcy5vcHRpb25zXHJcbiAgICAgIGlmKHRoaXMubXV0YXRpb25zKSBkZWxldGUgdGhpcy5tdXRhdGlvbnNcclxuICAgICAgaWYodGhpcy5vYnNlcnZlZXIpIGRlbGV0ZSB0aGlzLm9ic2VydmVyXHJcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuICBvYnNlcnZlckNhbGxiYWNrKG11dGF0aW9uUmVjb3JkTGlzdCwgb2JzZXJ2ZXIpIHtcclxuICAgIGZvcihsZXQgW211dGF0aW9uUmVjb3JkSW5kZXgsIG11dGF0aW9uUmVjb3JkXSBvZiBPYmplY3QuZW50cmllcyhtdXRhdGlvblJlY29yZExpc3QpKSB7XHJcbiAgICAgIHN3aXRjaChtdXRhdGlvblJlY29yZC50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcclxuICAgICAgICAgIGxldCBtdXRhdGlvblJlY29yZENhdGVnb3JpZXMgPSBbJ2FkZGVkTm9kZXMnLCAncmVtb3ZlZE5vZGVzJ11cclxuICAgICAgICAgIGZvcihsZXQgbXV0YXRpb25SZWNvcmRDYXRlZ29yeSBvZiBtdXRhdGlvblJlY29yZENhdGVnb3JpZXMpIHtcclxuICAgICAgICAgICAgaWYobXV0YXRpb25SZWNvcmRbbXV0YXRpb25SZWNvcmRDYXRlZ29yeV0ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZm9yKGxldCBbbm9kZUluZGV4LCBub2RlXSBvZiBPYmplY3QuZW50cmllcyhtdXRhdGlvblJlY29yZFttdXRhdGlvblJlY29yZENhdGVnb3J5XSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXV0YXRpb25zLmZvckVhY2goKF9tdXRhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZihtdXRhdGlvblJlY29yZENhdGVnb3J5Lm1hdGNoKG5ldyBSZWdFeHAoJ14nLmNvbmNhdChfbXV0YXRpb24ubmFtZSkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKF9tdXRhdGlvbi50YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYoX211dGF0aW9uLnRhcmdldCA9PT0gbm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfbXV0YXRpb24uY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uOiBfbXV0YXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25SZWNvcmQ6IG11dGF0aW9uUmVjb3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKF9tdXRhdGlvbi50YXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBfbXV0YXRpb25UYXJnZXQgb2YgX211dGF0aW9uLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihfbXV0YXRpb25UYXJnZXQgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfbXV0YXRpb25UYXJnZXQuY2FsbGJhY2soe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb246IF9tdXRhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uUmVjb3JkOiBtdXRhdGlvblJlY29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ2F0dHJpYnV0ZXMnOlxyXG4gICAgICAgICAgbGV0IG11dGF0aW9uID0gdGhpcy5tdXRhdGlvbnMuZmlsdGVyKChfbXV0YXRpb24pID0+IChcclxuICAgICAgICAgICAgX211dGF0aW9uLm5hbWUgPT09IG11dGF0aW9uUmVjb3JkLnR5cGUgJiZcclxuICAgICAgICAgICAgX211dGF0aW9uLmRhdGEgPT09IG11dGF0aW9uUmVjb3JkLmF0dHJpYnV0ZU5hbWVcclxuICAgICAgICAgICkpWzBdXHJcbiAgICAgICAgICBpZihtdXRhdGlvbikge1xyXG4gICAgICAgICAgICBtdXRhdGlvbi5jYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgbXV0YXRpb246IG11dGF0aW9uLFxyXG4gICAgICAgICAgICAgIG11dGF0aW9uUmVjb3JkOiBtdXRhdGlvblJlY29yZCxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgY29ubmVjdCgpIHtcclxuICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldCwgdGhpcy5vcHRpb25zKVxyXG4gICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZVxyXG4gIH1cclxuICBkaXNjb25uZWN0KCkge1xyXG4gICAgdGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5TZXJ2aWNlID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cbiAgZ2V0IF9kZWZhdWx0cygpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMgfHwge1xuICAgIGNvbnRlbnRUeXBlOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0gfVxuICBnZXQgX3Jlc3BvbnNlVHlwZXMoKSB7IHJldHVybiBbJycsICdhcnJheWJ1ZmZlcicsICdibG9iJywgJ2RvY3VtZW50JywgJ2pzb24nLCAndGV4dCddIH1cbiAgZ2V0IF9yZXNwb25zZVR5cGUoKSB7IHJldHVybiB0aGlzLnJlc3BvbnNlVHlwZSB9XG4gIHNldCBfcmVzcG9uc2VUeXBlKHJlc3BvbnNlVHlwZSkge1xuICAgIHRoaXMuX3hoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGVzLmZpbmQoXG4gICAgICAocmVzcG9uc2VUeXBlSXRlbSkgPT4gcmVzcG9uc2VUeXBlSXRlbSA9PT0gcmVzcG9uc2VUeXBlXG4gICAgKSB8fCB0aGlzLl9kZWZhdWx0cy5yZXNwb25zZVR5cGVcbiAgfVxuICBnZXQgX3R5cGUoKSB7IHJldHVybiB0aGlzLnR5cGUgfVxuICBzZXQgX3R5cGUodHlwZSkgeyB0aGlzLnR5cGUgPSB0eXBlIH1cbiAgZ2V0IF91cmwoKSB7IHJldHVybiB0aGlzLnVybCB9XG4gIHNldCBfdXJsKHVybCkgeyB0aGlzLnVybCA9IHVybCB9XG4gIGdldCBfaGVhZGVycygpIHsgcmV0dXJuIHRoaXMuaGVhZGVycyB8fCBbXSB9XG4gIHNldCBfaGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5faGVhZGVycy5sZW5ndGggPSAwXG4gICAgZm9yKGxldCBoZWFkZXIgb2YgaGVhZGVycykge1xuICAgICAgdGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoe2hlYWRlcn1bMF0sIHtoZWFkZXJ9WzFdKVxuICAgICAgdGhpcy5faGVhZGVycy5wdXNoKGhlYWRlcilcbiAgICB9XG4gIH1cbiAgZ2V0IF94aHIoKSB7XG4gICAgdGhpcy54aHIgPSAodGhpcy54aHIpXG4gICAgICA/IHRoaXMueGhyXG4gICAgICA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgcmV0dXJuIHRoaXMueGhyXG4gIH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIG5ld1hIUigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYodGhpcy5feGhyLnN0YXR1cyA9PT0gMjAwKSB0aGlzLl94aHIuYWJvcnQoKVxuICAgICAgdGhpcy5feGhyLm9wZW4odGhpcy5fdHlwZSwgdGhpcy5fdXJsKVxuICAgICAgdGhpcy5feGhyLm9ubG9hZCA9IHJlc29sdmVcbiAgICAgIHRoaXMuX3hoci5vbmVycm9yID0gcmVqZWN0XG4gICAgICB0aGlzLl94aHIuc2VuZCh0aGlzLl9kYXRhKVxuICAgIH0pXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy50eXBlKSB0aGlzLl90eXBlID0gc2V0dGluZ3MudHlwZVxuICAgICAgaWYoc2V0dGluZ3MudXJsKSB0aGlzLl91cmwgPSBzZXR0aW5ncy51cmxcbiAgICAgIGlmKHNldHRpbmdzLmRhdGEpIHRoaXMuX2RhdGEgPSBzZXR0aW5ncy5kYXRhIHx8IG51bGxcbiAgICAgIGlmKHNldHRpbmdzLmhlYWRlcnMpIHRoaXMuX2hlYWRlcnMgPSBzZXR0aW5ncy5oZWFkZXJzIHx8IFt0aGlzLl9kZWZhdWx0cy5jb250ZW50VHlwZV1cbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MucmVzcG9uc2VUeXBlKSB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLl9zZXR0aW5ncy5yZXNwb25zZVR5cGVcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgaWYoT2JqZWN0LmtleXModGhpcy5zZXR0aW5ncykubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgdGhpcy5zZXR0aW5ncy50eXBlXG4gICAgICBkZWxldGUgdGhpcy5zZXR0aW5ncy51cmxcbiAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLmRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLmhlYWRlcnNcbiAgICAgIGRlbGV0ZSB0aGlzLnNldHRpbmdzLnJlc3BvbnNlVHlwZVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Nb2RlbCA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gICAgdGhpcy5lbmFibGUoKVxuICB9XG4gIGdldCBfaXNTZXR0aW5nKCkgeyByZXR1cm4gdGhpcy5pc1NldHRpbmcgfVxuICBzZXQgX2lzU2V0dGluZyhpc1NldHRpbmcpIHsgdGhpcy5pc1NldHRpbmcgPSBpc1NldHRpbmcgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5fZGVmYXVsdHMgfVxuICBzZXQgX2RlZmF1bHRzKGRlZmF1bHRzKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzXG4gICAgdGhpcy5zZXQodGhpcy5kZWZhdWx0cylcbiAgfVxuICBnZXQgX3NjaGVtYSgpIHsgcmV0dXJuIHRoaXMuX3NjaGVtYSB9XG4gIHNldCBfc2NoZW1hKHNjaGVtYSkgeyB0aGlzLnNjaGVtYSA9IHNjaGVtYSB9XG4gIGdldCBfaGlzdGlvZ3JhbSgpIHsgcmV0dXJuIHRoaXMuaGlzdGlvZ3JhbSB8fCB7XG4gICAgbGVuZ3RoOiAxXG4gIH0gfVxuICBzZXQgX2hpc3Rpb2dyYW0oaGlzdGlvZ3JhbSkge1xuICAgIHRoaXMuaGlzdGlvZ3JhbSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLl9oaXN0aW9ncmFtLFxuICAgICAgaGlzdGlvZ3JhbVxuICAgIClcbiAgfVxuICBnZXQgX2hpc3RvcnkoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gKHRoaXMuaGlzdG9yeSlcbiAgICAgID8gdGhpcy5oaXN0b3J5XG4gICAgICA6IFtdXG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeVxuICB9XG4gIHNldCBfaGlzdG9yeShkYXRhKSB7XG4gICAgaWYoXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGlmKHRoaXMuX2hpc3Rpb2dyYW0ubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuX2hpc3RvcnkudW5zaGlmdCh0aGlzLnBhcnNlKGRhdGEpKVxuICAgICAgICB0aGlzLl9oaXN0b3J5LnNwbGljZSh0aGlzLl9oaXN0aW9ncmFtLmxlbmd0aClcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IF9kYXRhKCkge1xuICAgIHRoaXMuZGF0YSA9ICAodGhpcy5kYXRhKVxuICAgICAgPyB0aGlzLmRhdGFcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhXG4gIH1cbiAgZ2V0IF9kYXRhRXZlbnRzKCkge1xuICAgIHRoaXMuZGF0YUV2ZW50cyA9ICh0aGlzLmRhdGFFdmVudHMpXG4gICAgICA/IHRoaXMuZGF0YUV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmRhdGFFdmVudHNcbiAgfVxuICBzZXQgX2RhdGFFdmVudHMoZGF0YUV2ZW50cykge1xuICAgIHRoaXMuZGF0YUV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBkYXRhRXZlbnRzLCB0aGlzLl9kYXRhRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfZGF0YUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLmRhdGFDYWxsYmFja3MgPSAodGhpcy5kYXRhQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9kYXRhQ2FsbGJhY2tzKGRhdGFDYWxsYmFja3MpIHtcbiAgICB0aGlzLmRhdGFDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgZGF0YUNhbGxiYWNrcywgdGhpcy5fZGF0YUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgYWRkRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLmRhdGFFdmVudHMsIHRoaXMsIHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgfVxuICBnZXQoKSB7XG4gICAgbGV0IHByb3BlcnR5ID0gYXJndW1lbnRzWzBdXG4gICAgcmV0dXJuIHRoaXMuX2RhdGFbJ18nLmNvbmNhdChwcm9wZXJ0eSldXG4gIH1cbiAgc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQgX2FyZ3VtZW50cyA9IE9iamVjdC5lbnRyaWVzKGFyZ3VtZW50c1swXSlcbiAgICAgICAgX2FyZ3VtZW50cy5mb3JFYWNoKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2lzU2V0dGluZyA9IHRydWVcbiAgICAgICAgICB9IGVsc2UgaWYoaW5kZXggPT09IChfYXJndW1lbnRzLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1NldHRpbmcgPSBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOlxuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1sxXVxuICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAzOlxuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1sxXVxuICAgICAgICB2YXIgc2lsZW50ID0gYXJndW1lbnRzWzJdXG4gICAgICAgIHRoaXMuc2V0RGF0YVByb3BlcnR5KGtleSwgdmFsdWUsIHNpbGVudClcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgdW5zZXQoKSB7XG4gICAgdGhpcy5faGlzdG9yeSA9IHRoaXMucGFyc2UoKVxuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGZvcihsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuX2RhdGEpKSB7XG4gICAgICAgICAgdGhpcy51bnNldERhdGFQcm9wZXJ0eShrZXkpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICB0aGlzLnVuc2V0RGF0YVByb3BlcnR5KGtleSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgc2V0RGF0YVByb3BlcnR5KGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgIGlmKCF0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV0pIHtcbiAgICAgIGxldCBjb250ZXh0ID0gdGhpc1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgICAgIHRoaXMuX2RhdGEsXG4gICAgICAgIHtcbiAgICAgICAgICBbJ18nLmNvbmNhdChrZXkpXToge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0KCkgeyByZXR1cm4gdGhpc1trZXldIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWVcbiAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgIXNpbGVudCAmJlxuICAgICAgICAgICAgICAgICFjb250ZXh0Ll9pc1NldHRpbmdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNldFZhbHVlRXZlbnROYW1lID0gWydzZXQnLCAnOicsIGtleV0uam9pbignJylcbiAgICAgICAgICAgICAgICBsZXQgc2V0RXZlbnROYW1lID0gJ3NldCdcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVtaXQoXG4gICAgICAgICAgICAgICAgICBzZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBjb250ZXh0LmVtaXQoXG4gICAgICAgICAgICAgICAgICBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNldEV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICAgIHRoaXMuX2RhdGFbJ18nLmNvbmNhdChrZXkpXSA9IHZhbHVlXG4gIH1cbiAgdW5zZXREYXRhUHJvcGVydHkoa2V5KSB7XG4gICAgbGV0IHVuc2V0VmFsdWVFdmVudE5hbWUgPSBbJ3Vuc2V0JywgJzonLCBrZXldLmpvaW4oJycpXG4gICAgbGV0IHVuc2V0RXZlbnROYW1lID0gJ3Vuc2V0J1xuICAgIGxldCB1bnNldFZhbHVlID0gdGhpcy5fZGF0YVtrZXldXG4gICAgZGVsZXRlIHRoaXMuX2RhdGFbJ18nLmNvbmNhdChrZXkpXVxuICAgIGRlbGV0ZSB0aGlzLl9kYXRhW2tleV1cbiAgICB0aGlzLmVtaXQoXG4gICAgICB1bnNldFZhbHVlRXZlbnROYW1lLFxuICAgICAge1xuICAgICAgICBuYW1lOiB1bnNldFZhbHVlRXZlbnROYW1lLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IHVuc2V0VmFsdWUsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gICAgdGhpcy5lbWl0KFxuICAgICAgdW5zZXRFdmVudE5hbWUsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHVuc2V0RXZlbnROYW1lLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IHVuc2V0VmFsdWUsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApXG4gIH1cbiAgcGFyc2UoZGF0YSkge1xuICAgIGRhdGEgPSBkYXRhIHx8IHRoaXMuX2RhdGFcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKHt9LCBkYXRhKSkpXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZih0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW0pIHRoaXMuX2hpc3Rpb2dyYW0gPSB0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW1cbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZGF0YSkgdGhpcy5zZXQodGhpcy5zZXR0aW5ncy5kYXRhKVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzKSB0aGlzLl9kYXRhQ2FsbGJhY2tzID0gdGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRhdGFFdmVudHMpIHRoaXMuX2RhdGFFdmVudHMgPSB0aGlzLnNldHRpbmdzLmRhdGFFdmVudHNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2NoZW1hKSB0aGlzLl9zY2hlbWEgPSB0aGlzLnNldHRpbmdzLnNjaGVtYVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kZWZhdWx0cykgdGhpcy5fZGVmYXVsdHMgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5kYXRhRXZlbnRzICYmXG4gICAgICAgIHRoaXMuZGF0YUNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYWRkRGF0YUV2ZW50cygpXG4gICAgICB9XG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgIH1cbiAgfVxuICBkaXNhYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5kYXRhRXZlbnRzICYmXG4gICAgICAgIHRoaXMuZGF0YUNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRGF0YUV2ZW50cygpXG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5faGlzdGlvZ3JhbVxuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX3NjaGVtYVxuICAgICAgZGVsZXRlIHRoaXMuX2RlZmF1bHRzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5FbWl0dGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgaWYodGhpcy5zZXR0aW5ncykge1xyXG4gICAgICBpZih0aGlzLnNldHRpbmdzLm5hbWUpIHRoaXMuX25hbWUgPSB0aGlzLnNldHRpbmdzLm5hbWVcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0IF9uYW1lKCkgeyByZXR1cm4gdGhpcy5uYW1lIH1cclxuICBzZXQgX25hbWUobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lIH1cclxuICBnZXQgZW1pc3Npb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICBkYXRhOiB0aGlzLnBhcnNlKClcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiTVZDLlZpZXcgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxuICAgIHRoaXMuZW5hYmxlKClcbiAgfVxuICBnZXQgX2VsZW1lbnROYW1lKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC50YWdOYW1lIH1cbiAgc2V0IF9lbGVtZW50TmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmKCF0aGlzLl9lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50TmFtZSlcbiAgfVxuICBnZXQgX2VsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQgfVxuICBzZXQgX2VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgIH0gZWxzZSBpZih0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudClcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50T2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnQsIHtcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgfSlcbiAgfVxuICBnZXQgX2F0dHJpYnV0ZXMoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50LmF0dHJpYnV0ZXMgfVxuICBzZXQgX2F0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgIGZvcihsZXQgW2F0dHJpYnV0ZUtleSwgYXR0cmlidXRlVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpKSB7XG4gICAgICBpZih0eXBlb2YgYXR0cmlidXRlVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZUtleSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZUtleSwgYXR0cmlidXRlVmFsdWUpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfdWkoKSB7XG4gICAgdGhpcy51aSA9ICh0aGlzLnVpKVxuICAgICAgPyB0aGlzLnVpXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudWlcbiAgfVxuICBzZXQgX3VpKHVpKSB7XG4gICAgaWYoIXRoaXMuX3VpWyckZWxlbWVudCddKSB0aGlzLl91aVsnJGVsZW1lbnQnXSA9IHRoaXMuZWxlbWVudFxuICAgIGZvcihsZXQgW3VpS2V5LCB1aVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh1aSkpIHtcbiAgICAgIGlmKHVpVmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLl91aVt1aUtleV0gPSB1aVZhbHVlXG4gICAgICB9IGVsc2UgaWYodHlwZW9mIHVpVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX3VpW3VpS2V5XSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh1aVZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgX3VpRXZlbnRzKCkgeyByZXR1cm4gdGhpcy51aUV2ZW50cyB9XG4gIHNldCBfdWlFdmVudHModWlFdmVudHMpIHsgdGhpcy51aUV2ZW50cyA9IHVpRXZlbnRzIH1cbiAgZ2V0IF91aUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLnVpQ2FsbGJhY2tzID0gKHRoaXMudWlDYWxsYmFja3MpXG4gICAgICA/IHRoaXMudWlDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy51aUNhbGxiYWNrc1xuICB9XG4gIHNldCBfdWlDYWxsYmFja3ModWlDYWxsYmFja3MpIHtcbiAgICB0aGlzLnVpQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHVpQ2FsbGJhY2tzLCB0aGlzLl91aUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX29ic2VydmVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3MgPSAodGhpcy5vYnNlcnZlckNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5vYnNlcnZlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm9ic2VydmVyQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9vYnNlcnZlckNhbGxiYWNrcyhvYnNlcnZlckNhbGxiYWNrcykge1xuICAgIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgb2JzZXJ2ZXJDYWxsYmFja3MsIHRoaXMuX29ic2VydmVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfdWlFbWl0dGVycygpIHtcbiAgICB0aGlzLnVpRW1pdHRlcnMgPSAodGhpcy51aUVtaXR0ZXJzKVxuICAgICAgPyB0aGlzLnVpRW1pdHRlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy51aUVtaXR0ZXJzXG4gIH1cbiAgc2V0IF91aUVtaXR0ZXJzKHVpRW1pdHRlcnMpIHtcbiAgICBsZXQgX3VpRW1pdHRlcnMgPSB7fVxuICAgIHVpRW1pdHRlcnMuZm9yRWFjaCgoVUlFbWl0dGVyKSA9PiB7XG4gICAgICBsZXQgdWlFbWl0dGVyID0gbmV3IFVJRW1pdHRlcigpXG4gICAgICBfdWlFbWl0dGVyc1t1aUVtaXR0ZXIubmFtZV0gPSB1aUVtaXR0ZXJcbiAgICB9KVxuICAgIHRoaXMudWlFbWl0dGVycyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBfdWlFbWl0dGVycywgdGhpcy5fdWlFbWl0dGVyc1xuICAgIClcbiAgfVxuICBnZXQgX29ic2VydmVycygpIHtcbiAgICB0aGlzLm9ic2VydmVycyA9ICh0aGlzLm9ic2VydmVycylcbiAgICAgID8gdGhpcy5vYnNlcnZlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5vYnNlcnZlcnNcbiAgfVxuICBzZXQgX29ic2VydmVycyhvYnNlcnZlcnMpIHtcbiAgICBmb3IobGV0IFtvYnNlcnZlckNvbmZpZ3VyYXRpb24sIG11dGF0aW9uU2V0dGluZ3NdIG9mIE9iamVjdC5lbnRyaWVzKG9ic2VydmVycykpIHtcbiAgICAgIGxldCBvYnNlcnZlckNvbmZpZ3VyYXRpb25EYXRhID0gb2JzZXJ2ZXJDb25maWd1cmF0aW9uLnNwbGl0KCcgJylcbiAgICAgIGxldCBvYnNlcnZlck5hbWUgPSBvYnNlcnZlckNvbmZpZ3VyYXRpb25EYXRhWzBdXG4gICAgICBsZXQgb2JzZXJ2ZXJUYXJnZXQgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkoXG4gICAgICAgIG9ic2VydmVyTmFtZSxcbiAgICAgICAgdGhpcy51aVxuICAgICAgKVxuICAgICAgbGV0IG9ic2VydmVyT3B0aW9ucyA9IChvYnNlcnZlckNvbmZpZ3VyYXRpb25EYXRhWzFdKVxuICAgICAgICA/IG9ic2VydmVyQ29uZmlndXJhdGlvbkRhdGFbMV1cbiAgICAgICAgICAuc3BsaXQoJzonKVxuICAgICAgICAgIC5yZWR1Y2UoKF9vYnNlcnZlck9wdGlvbnMsIGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgX29ic2VydmVyT3B0aW9uc1tjdXJyZW50VmFsdWVdID0gdHJ1ZVxuICAgICAgICAgICAgcmV0dXJuIF9vYnNlcnZlck9wdGlvbnNcbiAgICAgICAgICB9LCB7fSlcbiAgICAgICAgOiB7fVxuICAgICAgbGV0IG9ic2VydmVyU2V0dGluZ3MgPSB7XG4gICAgICAgIHRhcmdldDogb2JzZXJ2ZXJUYXJnZXRbMF1bMV0sXG4gICAgICAgIG9wdGlvbnM6IG9ic2VydmVyT3B0aW9ucyxcbiAgICAgICAgbXV0YXRpb25zOiB7XG4gICAgICAgICAgdGFyZ2V0czogdGhpcy51aSxcbiAgICAgICAgICBzZXR0aW5nczogbXV0YXRpb25TZXR0aW5ncyxcbiAgICAgICAgICBjYWxsYmFja3M6IHRoaXMub2JzZXJ2ZXJDYWxsYmFja3MsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTVZDLk9ic2VydmVyKG9ic2VydmVyU2V0dGluZ3MpXG4gICAgICB0aGlzLl9vYnNlcnZlcnNbb2JzZXJ2ZXJOYW1lXSA9IG9ic2VydmVyXG4gICAgfVxuICB9XG4gIGdldCBlbGVtZW50T2JzZXJ2ZXIoKSB7XG4gICAgdGhpcy5fZWxlbWVudE9ic2VydmVyID0gKHRoaXMuX2VsZW1lbnRPYnNlcnZlcilcbiAgICAgID8gdGhpcy5fZWxlbWVudE9ic2VydmVyXG4gICAgICA6IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuZWxlbWVudE9ic2VydmUuYmluZCh0aGlzKSlcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudE9ic2VydmVyXG4gIH1cbiAgZWxlbWVudE9ic2VydmUobXV0YXRpb25SZWNvcmRMaXN0LCBvYnNlcnZlcikge1xuICAgIGZvcihsZXQgW211dGF0aW9uUmVjb3JkSW5kZXgsIG11dGF0aW9uUmVjb3JkXSBvZiBPYmplY3QuZW50cmllcyhtdXRhdGlvblJlY29yZExpc3QpKSB7XG4gICAgICBzd2l0Y2gobXV0YXRpb25SZWNvcmQudHlwZSkge1xuICAgICAgICBjYXNlICdjaGlsZExpc3QnOlxuICAgICAgICAgIGxldCBtdXRhdGlvblJlY29yZENhdGVnb3JpZXMgPSBbJ2FkZGVkTm9kZXMnLCAncmVtb3ZlZE5vZGVzJ11cbiAgICAgICAgICBmb3IobGV0IG11dGF0aW9uUmVjb3JkQ2F0ZWdvcnkgb2YgbXV0YXRpb25SZWNvcmRDYXRlZ29yaWVzKSB7XG4gICAgICAgICAgICBpZihtdXRhdGlvblJlY29yZFttdXRhdGlvblJlY29yZENhdGVnb3J5XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmVPYnNlcnZlcnMoKVxuICAgICAgICAgICAgICB0aGlzLnJlbW92ZVVJKClcbiAgICAgICAgICAgICAgdGhpcy5hZGRVSSgpXG4gICAgICAgICAgICAgIHRoaXMuYWRkT2JzZXJ2ZXJzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0IF9pbnNlcnQoKSB7IHJldHVybiB0aGlzLmluc2VydCB9XG4gIHNldCBfaW5zZXJ0KGluc2VydCkgeyB0aGlzLmluc2VydCA9IGluc2VydCB9XG4gIGdldCBfZW5hYmxlZCgpIHsgcmV0dXJuIHRoaXMuZW5hYmxlZCB8fCBmYWxzZSB9XG4gIHNldCBfZW5hYmxlZChlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgfVxuICBnZXQgX3RlbXBsYXRlcygpIHtcbiAgICB0aGlzLnRlbXBsYXRlcyA9ICh0aGlzLnRlbXBsYXRlcylcbiAgICAgID8gdGhpcy50ZW1wbGF0ZXNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy50ZW1wbGF0ZXNcbiAgfVxuICBzZXQgX3RlbXBsYXRlcyh0ZW1wbGF0ZXMpIHtcbiAgICBmb3IobGV0IFt0ZW1wbGF0ZU5hbWUsIHRlbXBsYXRlU2V0dGluZ3NdIG9mIE9iamVjdC5lbnRyaWVzKHRlbXBsYXRlcykpIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlc1t0ZW1wbGF0ZU5hbWVdID0gdGVtcGxhdGVTZXR0aW5nc1xuICAgIH1cbiAgfVxuICBhdXRvSW5zZXJ0KCkge1xuICAgIHRoaXMuaW5zZXJ0LmVsZW1lbnRcbiAgICB0aGlzLmluc2VydC5tZXRob2RcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuaW5zZXJ0LmVsZW1lbnQpXG4gICAgLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMuaW5zZXJ0Lm1ldGhvZCwgdGhpcy5lbGVtZW50KVxuICAgIH0pXG4gIH1cbiAgYXV0b1JlbW92ZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxuICBhZGRFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MuZWxlbWVudE5hbWUpIHRoaXMuX2VsZW1lbnROYW1lID0gc2V0dGluZ3MuZWxlbWVudE5hbWVcbiAgICBpZihzZXR0aW5ncy5lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gc2V0dGluZ3MuZWxlbWVudFxuICAgIGlmKHNldHRpbmdzLmF0dHJpYnV0ZXMpIHRoaXMuX2F0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzXG4gICAgaWYoc2V0dGluZ3MudGVtcGxhdGVzKSB0aGlzLl90ZW1wbGF0ZXMgPSBzZXR0aW5ncy50ZW1wbGF0ZXNcbiAgICBpZihzZXR0aW5ncy5pbnNlcnQpIHRoaXMuX2luc2VydCA9IHNldHRpbmdzLmluc2VydFxuICB9XG4gIHJlbW92ZUVsZW1lbnQoc2V0dGluZ3MpIHtcbiAgICBzZXR0aW5ncyA9IHNldHRpbmdzIHx8IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgICBpZih0aGlzLmVsZW1lbnQpIGRlbGV0ZSB0aGlzLmVsZW1lbnRcbiAgICBpZih0aGlzLmF0dHJpYnV0ZXMpIGRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNcbiAgICBpZih0aGlzLnRlbXBsYXRlcykgZGVsZXRlIHRoaXMudGVtcGxhdGVzXG4gICAgaWYodGhpcy5pbnNlcnQpIGRlbGV0ZSB0aGlzLmluc2VydFxuICB9XG4gIGFkZFVJKHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MudWkpIHRoaXMuX3VpID0gc2V0dGluZ3MudWlcbiAgICBpZihzZXR0aW5ncy51aUVtaXR0ZXJzKSB0aGlzLl91aUVtaXR0ZXJzID0gc2V0dGluZ3MudWlFbWl0dGVyc1xuICAgIGlmKHNldHRpbmdzLnVpQ2FsbGJhY2tzKSB0aGlzLl91aUNhbGxiYWNrcyA9IHNldHRpbmdzLnVpQ2FsbGJhY2tzXG4gICAgaWYoc2V0dGluZ3MudWlFdmVudHMpIHtcbiAgICAgIHRoaXMuX3VpRXZlbnRzID0gc2V0dGluZ3MudWlFdmVudHNcbiAgICAgIHRoaXMuYWRkVUlFdmVudHMoKVxuICAgIH1cbiAgfVxuICByZW1vdmVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpRXZlbnRzKSB7XG4gICAgICB0aGlzLnJlbW92ZVVJRXZlbnRzKClcbiAgICAgIGRlbGV0ZSB0aGlzLl91aUV2ZW50c1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy51aUV2ZW50c1xuICAgIGRlbGV0ZSB0aGlzLnVpXG4gICAgZGVsZXRlIHRoaXMudWlDYWxsYmFja3NcbiAgfVxuICBhZGRPYnNlcnZlcnMoc2V0dGluZ3MpIHtcbiAgICBzZXR0aW5ncyA9IHNldHRpbmdzIHx8IHRoaXMuc2V0dGluZ3NcbiAgICBpZihzZXR0aW5ncy5vYnNlcnZlckNhbGxiYWNrcykgdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5vYnNlcnZlckNhbGxiYWNrc1xuICAgIGlmKHNldHRpbmdzLm9ic2VydmVycykge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzID0gc2V0dGluZ3Mub2JzZXJ2ZXJzXG4gICAgICB0aGlzLmNvbm5lY3RPYnNlcnZlcnMoKVxuICAgIH1cbiAgfVxuICByZW1vdmVPYnNlcnZlcnMoKSB7XG4gICAgaWYodGhpcy5vYnNlcnZlckNhbGxiYWNrcykgZGVsZXRlIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3NcbiAgICBpZih0aGlzLm9ic2VydmVycykge1xuICAgICAgdGhpcy5kaXNjb25uZWN0T2JzZXJ2ZXJzKClcbiAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1xuICAgIH1cbiAgfVxuICBhZGRVSUV2ZW50cygpIHtcbiAgICBpZihcbiAgICAgIHRoaXMudWlFdmVudHMgJiZcbiAgICAgIHRoaXMudWkgJiZcbiAgICAgIHRoaXMudWlDYWxsYmFja3NcbiAgICApIHtcbiAgICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKFxuICAgICAgICB0aGlzLnVpRXZlbnRzLFxuICAgICAgICB0aGlzLnVpLFxuICAgICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgICApXG4gICAgfVxuICB9XG4gIHJlbW92ZVVJRXZlbnRzKCkge1xuICAgIGlmKFxuICAgICAgdGhpcy51aUV2ZW50cyAmJlxuICAgICAgdGhpcy51aSAmJlxuICAgICAgdGhpcy51aUNhbGxiYWNrc1xuICAgICkge1xuICAgICAgTVZDLlV0aWxzLnVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzKFxuICAgICAgICB0aGlzLnVpRXZlbnRzLFxuICAgICAgICB0aGlzLnVpLFxuICAgICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgICApXG4gICAgfVxuICB9XG4gIGNvbm5lY3RPYnNlcnZlcnMoKSB7XG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5fb2JzZXJ2ZXJzKVxuICAgICAgLmZvckVhY2goKFtvYnNlcnZlck5hbWUsIG9ic2VydmVyXSkgPT4ge1xuICAgICAgICBvYnNlcnZlci5jb25uZWN0KClcbiAgICAgIH0pXG4gIH1cbiAgZGlzY29ubmVjdE9ic2VydmVycygpIHtcbiAgICBPYmplY3QuZW50cmllcyh0aGlzLl9vYnNlcnZlcnMpXG4gICAgICAuZm9yRWFjaCgoW29ic2VydmVyTmFtZSwgb2JzZXJ2ZXJdKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxuICAgICAgfSlcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIHRoaXMuYWRkRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMuYWRkVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLmFkZE9ic2VydmVycyhzZXR0aW5ncylcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgIHRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5yZW1vdmVVSShzZXR0aW5ncylcbiAgICAgIHRoaXMucmVtb3ZlRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMucmVtb3ZlT2JzZXJ2ZXJzKHNldHRpbmdzKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgfVxuICB9XG59XG4iLCJNVkMuQ29udHJvbGxlciA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gICAgdGhpcy5lbmFibGUoKVxuICB9XG4gIGdldCBfZW1pdHRlcnMoKSB7XG4gICAgdGhpcy5lbWl0dGVycyA9ICh0aGlzLmVtaXR0ZXJzKVxuICAgICAgPyB0aGlzLmVtaXR0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlcnNcbiAgfVxuICBzZXQgX2VtaXR0ZXJzKGVtaXR0ZXJzKSB7XG4gICAgdGhpcy5lbWl0dGVycyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBlbWl0dGVycywgdGhpcy5fZW1pdHRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbENhbGxiYWNrcygpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gKHRoaXMubW9kZWxDYWxsYmFja3MpXG4gICAgICA/IHRoaXMubW9kZWxDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbENhbGxiYWNrc1xuICB9XG4gIHNldCBfbW9kZWxDYWxsYmFja3MobW9kZWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsQ2FsbGJhY2tzLCB0aGlzLl9tb2RlbENhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdDYWxsYmFja3MoKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gKHRoaXMudmlld0NhbGxiYWNrcylcbiAgICAgID8gdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0NhbGxiYWNrc1xuICB9XG4gIHNldCBfdmlld0NhbGxiYWNrcyh2aWV3Q2FsbGJhY2tzKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdDYWxsYmFja3MsIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9ICh0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJDYWxsYmFja3MoY29udHJvbGxlckNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyQ2FsbGJhY2tzLCB0aGlzLl9jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfcm91dGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMucm91dGVyQ2FsbGJhY2tzID0gKHRoaXMucm91dGVyQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICB9XG4gIHNldCBfcm91dGVyQ2FsbGJhY2tzKHJvdXRlckNhbGxiYWNrcykge1xuICAgIHRoaXMucm91dGVyQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlckNhbGxiYWNrcywgdGhpcy5fcm91dGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxzKCkge1xuICAgIHRoaXMubW9kZWxzID0gKHRoaXMubW9kZWxzKVxuICAgICAgPyB0aGlzLm1vZGVsc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICB9XG4gIHNldCBfbW9kZWxzKG1vZGVscykge1xuICAgIHRoaXMubW9kZWxzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVscywgdGhpcy5fbW9kZWxzXG4gICAgKVxuICB9XG4gIGdldCBfdmlld3MoKSB7XG4gICAgdGhpcy52aWV3cyA9ICh0aGlzLnZpZXdzKVxuICAgICAgPyB0aGlzLnZpZXdzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld3NcbiAgfVxuICBzZXQgX3ZpZXdzKHZpZXdzKSB7XG4gICAgdGhpcy52aWV3cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3cywgdGhpcy5fdmlld3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVycygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gKHRoaXMuY29udHJvbGxlcnMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyc1xuICB9XG4gIHNldCBfY29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGNvbnRyb2xsZXJzLCB0aGlzLl9jb250cm9sbGVyc1xuICAgIClcbiAgfVxuICBnZXQgX3JvdXRlcnMoKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gKHRoaXMucm91dGVycylcbiAgICAgID8gdGhpcy5yb3V0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyc1xuICB9XG4gIHNldCBfcm91dGVycyhyb3V0ZXJzKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcnMsIHRoaXMuX3JvdXRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbEV2ZW50cygpIHtcbiAgICB0aGlzLm1vZGVsRXZlbnRzID0gKHRoaXMubW9kZWxFdmVudHMpXG4gICAgICA/IHRoaXMubW9kZWxFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbEV2ZW50c1xuICB9XG4gIHNldCBfbW9kZWxFdmVudHMobW9kZWxFdmVudHMpIHtcbiAgICB0aGlzLm1vZGVsRXZlbnRzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsRXZlbnRzLCB0aGlzLl9tb2RlbEV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdFdmVudHMoKSB7XG4gICAgdGhpcy52aWV3RXZlbnRzID0gKHRoaXMudmlld0V2ZW50cylcbiAgICAgID8gdGhpcy52aWV3RXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0V2ZW50c1xuICB9XG4gIHNldCBfdmlld0V2ZW50cyh2aWV3RXZlbnRzKSB7XG4gICAgdGhpcy52aWV3RXZlbnRzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdFdmVudHMsIHRoaXMuX3ZpZXdFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyRXZlbnRzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyA9ICh0aGlzLmNvbnRyb2xsZXJFdmVudHMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJFdmVudHNcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJFdmVudHMoY29udHJvbGxlckV2ZW50cykge1xuICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyRXZlbnRzLCB0aGlzLl9jb250cm9sbGVyRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfZW5hYmxlZCgpIHsgcmV0dXJuIHRoaXMuZW5hYmxlZCB8fCBmYWxzZSB9XG4gIHNldCBfZW5hYmxlZChlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgfVxuICBhZGRNb2RlbEV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLm1vZGVsRXZlbnRzLCB0aGlzLm1vZGVscywgdGhpcy5tb2RlbENhbGxiYWNrcylcbiAgfVxuICByZW1vdmVNb2RlbEV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMubW9kZWxFdmVudHMsIHRoaXMubW9kZWxzLCB0aGlzLm1vZGVsQ2FsbGJhY2tzKVxuICB9XG4gIGFkZFZpZXdFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy52aWV3RXZlbnRzLCB0aGlzLnZpZXdzLCB0aGlzLnZpZXdDYWxsYmFja3MpXG4gIH1cbiAgcmVtb3ZlVmlld0V2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMudmlld0V2ZW50cywgdGhpcy52aWV3cywgdGhpcy52aWV3Q2FsbGJhY2tzKVxuICB9XG4gIGFkZENvbnRyb2xsZXJFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5jb250cm9sbGVyRXZlbnRzLCB0aGlzLmNvbnRyb2xsZXJzLCB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gIH1cbiAgcmVtb3ZlQ29udHJvbGxlckV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuY29udHJvbGxlckV2ZW50cywgdGhpcy5jb250cm9sbGVycywgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzKVxuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYoc2V0dGluZ3MuZW1pdHRlcnMpIHRoaXMuX2VtaXR0ZXJzID0gc2V0dGluZ3MuZW1pdHRlcnNcbiAgICAgIGlmKHNldHRpbmdzLm1vZGVsQ2FsbGJhY2tzKSB0aGlzLl9tb2RlbENhbGxiYWNrcyA9IHNldHRpbmdzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy52aWV3Q2FsbGJhY2tzKSB0aGlzLl92aWV3Q2FsbGJhY2tzID0gc2V0dGluZ3Mudmlld0NhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3MuY29udHJvbGxlckNhbGxiYWNrcykgdGhpcy5fY29udHJvbGxlckNhbGxiYWNrcyA9IHNldHRpbmdzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLnJvdXRlckNhbGxiYWNrcykgdGhpcy5fcm91dGVyQ2FsbGJhY2tzID0gc2V0dGluZ3Mucm91dGVyQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy5tb2RlbHMpIHRoaXMuX21vZGVscyA9IHNldHRpbmdzLm1vZGVsc1xuICAgICAgaWYoc2V0dGluZ3Mudmlld3MpIHRoaXMuX3ZpZXdzID0gc2V0dGluZ3Mudmlld3NcbiAgICAgIGlmKHNldHRpbmdzLmNvbnRyb2xsZXJzKSB0aGlzLl9jb250cm9sbGVycyA9IHNldHRpbmdzLmNvbnRyb2xsZXJzXG4gICAgICBpZihzZXR0aW5ncy5yb3V0ZXJzKSB0aGlzLl9yb3V0ZXJzID0gc2V0dGluZ3Mucm91dGVyc1xuICAgICAgaWYoc2V0dGluZ3MubW9kZWxFdmVudHMpIHRoaXMuX21vZGVsRXZlbnRzID0gc2V0dGluZ3MubW9kZWxFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnZpZXdFdmVudHMpIHRoaXMuX3ZpZXdFdmVudHMgPSBzZXR0aW5ncy52aWV3RXZlbnRzXG4gICAgICBpZihzZXR0aW5ncy5jb250cm9sbGVyRXZlbnRzKSB0aGlzLl9jb250cm9sbGVyRXZlbnRzID0gc2V0dGluZ3MuY29udHJvbGxlckV2ZW50c1xuICAgICAgaWYoXG4gICAgICAgIHRoaXMubW9kZWxFdmVudHMgJiZcbiAgICAgICAgdGhpcy5tb2RlbHMgJiZcbiAgICAgICAgdGhpcy5tb2RlbENhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYWRkTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYWRkVmlld0V2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5jb250cm9sbGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5hZGRDb250cm9sbGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgIHRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYoXG4gICAgICAgIHRoaXMubW9kZWxFdmVudHMgJiZcbiAgICAgICAgdGhpcy5tb2RlbHMgJiZcbiAgICAgICAgdGhpcy5tb2RlbENhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlVmlld0V2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5jb250cm9sbGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlcnMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDb250cm9sbGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyc1xuICAgICAgZGVsZXRlIHRoaXMuX21vZGVsQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fdmlld0NhbGxiYWNrc1xuICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJDYWxsYmFja3NcbiAgICAgIGRlbGV0ZSB0aGlzLl9tb2RlbHNcbiAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1xuICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJzXG4gICAgICBkZWxldGUgdGhpcy5fcm91dGVyc1xuICAgICAgZGVsZXRlIHRoaXMuX21vZGVsRXZlbnRzXG4gICAgICBkZWxldGUgdGhpcy5fdmlld0V2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJFdmVudHNcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgfVxufVxuIiwiTVZDLlJvdXRlciA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gICAgdGhpcy5hZGRTZXR0aW5ncygpXG4gICAgdGhpcy5zZXRSb3V0ZXModGhpcy5yb3V0ZXMsIHRoaXMuY29udHJvbGxlcnMpXG4gICAgdGhpcy5zZXRFdmVudHMoKVxuICAgIHRoaXMuc3RhcnQoKVxuICAgIGlmKHR5cGVvZiB0aGlzLmluaXRpYWxpemUgPT09ICdmdW5jdGlvbicpIHRoaXMuaW5pdGlhbGl6ZSgpXG4gIH1cbiAgYWRkU2V0dGluZ3MoKSB7XG4gICAgaWYodGhpcy5fc2V0dGluZ3MpIHtcbiAgICAgIGlmKHRoaXMuX3NldHRpbmdzLnJvdXRlcykgdGhpcy5yb3V0ZXMgPSB0aGlzLl9zZXR0aW5ncy5yb3V0ZXNcbiAgICAgIGlmKHRoaXMuX3NldHRpbmdzLmNvbnRyb2xsZXJzKSB0aGlzLmNvbnRyb2xsZXJzID0gdGhpcy5fc2V0dGluZ3MuY29udHJvbGxlcnNcbiAgICB9XG4gIH1cbiAgc3RhcnQoKSB7XG4gICAgdmFyIGxvY2F0aW9uID0gdGhpcy5nZXRSb3V0ZSgpXG4gICAgaWYobG9jYXRpb24gPT09ICcnKSB7XG4gICAgICB0aGlzLm5hdmlnYXRlKCcvJylcbiAgICB9ZWxzZSB7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2hhc2hjaGFuZ2UnKSlcbiAgICB9XG4gIH1cbiAgc2V0Um91dGVzKHJvdXRlcywgY29udHJvbGxlcnMpIHtcbiAgICBmb3IodmFyIHJvdXRlIGluIHJvdXRlcykge1xuICAgICAgdGhpcy5yb3V0ZXNbcm91dGVdID0gY29udHJvbGxlcnNbcm91dGVzW3JvdXRlXV1cbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgc2V0RXZlbnRzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5oYXNoQ2hhbmdlLmJpbmQodGhpcykpXG4gICAgcmV0dXJuXG4gIH1cbiAgZ2V0Um91dGUoKSB7XG4gICAgcmV0dXJuIFN0cmluZyh3aW5kb3cubG9jYXRpb24uaGFzaCkuc3BsaXQoJyMnKS5wb3AoKVxuICB9XG4gIGhhc2hDaGFuZ2UoZXZlbnQpIHtcbiAgICB2YXIgcm91dGUgPSB0aGlzLmdldFJvdXRlKClcbiAgICB0cnkge1xuICAgICAgdGhpcy5yb3V0ZXNbcm91dGVdKGV2ZW50KVxuICAgICAgdGhpcy5lbWl0KCduYXZpZ2F0ZScsIHRoaXMpXG4gICAgfSBjYXRjaChlcnJvcikge31cbiAgfVxuICBuYXZpZ2F0ZShwYXRoKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBwYXRoXG4gIH1cbn1cbiJdLCJmaWxlIjoiYnJvd3Nlci9tdmMtZnJhbWV3b3JrLW1pbi5qcyJ9

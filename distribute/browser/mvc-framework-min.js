var MVC=MVC||{};MVC.Constants={},MVC.CONST=MVC.Constants,MVC.Constants.Events={},MVC.CONST.EV=MVC.Constants.Events,MVC.Utils={},MVC.Utils.addPropertiesToObject=function(){var t;switch(arguments.length){case 2:var e=arguments[0];for(var[s,i]of(t=arguments[1],Object.entries(e)))t[s]=i;break;case 3:var r=arguments[0],a=arguments[1];(t=arguments[2])[r]=a}return t},MVC.Utils.isArray=function(t){return Array.isArray(t)},MVC.Utils.isObject=function(t){return!Array.isArray(t)&&"object"==typeof t},MVC.Utils.isEqualType=function(t,e){return t===e},MVC.Utils.isHTMLElement=function(t){return t instanceof HTMLElement},MVC.Utils.objectQuery=function(t,e){var s=MVC.Utils.objectQuery.parseNotation(t);return"@"===s[0]&&s.splice(0,1),s.length?(e=MVC.Utils.isObject(e)?Object.entries(e):e,s.reduce((t,e,s,i)=>{var r=[];for(var[a,n]of(e=MVC.Utils.objectQuery.parseFragment(e),t))a.match(e)&&(r=s===i.length-1?r.concat([[a,n]]):r.concat(Object.entries(n)));return t=r},e)):e},MVC.Utils.objectQuery.parseNotation=function(t){return t="["===t.charAt(0)&&"]"==t.charAt(t.length-1)?t.slice(1,-1).split("]["):t.split(".")},MVC.Utils.objectQuery.parseFragment=function(t){return"/"===t.charAt(0)&&"/"==t.charAt(t.length-1)&&(t=t.slice(1,-1),t=new RegExp("^".concat(t,"$"))),t},MVC.Utils.paramsToObject=function(t){t=t.split("&");var e={};return t.forEach(t=>{t=t.split("="),e[t[0]]=decodeURIComponent(t[1]||"")}),JSON.parse(JSON.stringify(e))},MVC.Utils.toggleEventsForTargetObjects=function(t,e,s,i){for(var[r,a]of Object.entries(e)){var n=r.split(" "),l=n[0],h=n[1],o=MVC.Utils.objectQuery(l,s);for(var[c,b]of o=MVC.Utils.isArray(o)?o:[["@",o]]){var v="on"===t?b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"addEventListener":"on":b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"removeEventListener":"off",d=MVC.Utils.objectQuery(a,i)[0][1];if(b instanceof NodeList)for(var u of b)u[v](h,d);else HTMLElement,b[v](h,d)}}},MVC.Utils.bindEventsToTargetObjects=function(){this.toggleEventsForTargetObjects("on",...arguments)},MVC.Utils.unbindEventsFromTargetObjects=function(){this.toggleEventsForTargetObjects("off",...arguments)},MVC.Utils.typeOf=function(t){switch(typeof t){case"object":return MVC.Utils.isArray(t)?"array":MVC.Utils.isObject(t)?"object":null===t?"null":void 0;case"string":case"number":case"boolean":case"undefined":case"function":return typeof t}},MVC.Utils.validateDataSchema=function(t,e){if(!e)throw MVC.TMPL;switch(MVC.Utils.typeOf(t)){case"array":var s=[];if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(s)))for(var[i,r]of(console.log(e.name),Object.entries(t)))s.push(this.validateDataSchema(r));return s;case"object":var a={};if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(a)))for(var[n,l]of(console.log(e.name),Object.entries(t)))a[n]=this.validateDataSchema(l,e[n]);return a;case"string":case"number":case"boolean":if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return console.log(e.name),t;throw MVC.TMPL;case"null":if(MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return t;break;case"undefined":case"function":throw MVC.TMPL}},MVC.Events=class{constructor(){}get _events(){return this.events=this.events?this.events:{},this.events}eventCallbacks(t){return this._events[t]||{}}eventCallbackName(t){return t.name.length?t.name:"anonymousFunction"}eventCallbackGroup(t,e){return t[e]||[]}on(t,e){var s=this.eventCallbacks(t),i=this.eventCallbackName(e),r=this.eventCallbackGroup(s,i);r.push(e),s[i]=r,this._events[t]=s}off(){switch(arguments.length){case 1:var t=arguments[0];delete this._events[t];break;case 2:t=arguments[0];var e=arguments[1],s=this.eventCallbackName(e);delete this._events[t][s]}}emit(t,e){var s=this.eventCallbacks(t);for(var[i,r]of Object.entries(s))for(var a of r){a(e,...Object.values(arguments).splice(2)||[])}}},MVC.Channels=class{constructor(){}get _channels(){return this.channels=this.channels?this.channels:{},this.channels}channel(t){return this._channels[t]=this._channels[t]?this._channels[t]:new MVC.Channels.Channel,this._channels[t]}off(t){delete this._channels[t]}},MVC.Channels.Channel=class{constructor(){}get _responses(){return this.responses=this.responses?this.responses:{},this.responses}response(t,e){if(!e)return this._responses[response];this._responses[t]=e}request(t,e){if(this._responses[t])return this._responses[t](e)}off(t){if(t)delete this._responses[t];else for(var[e]of Object.keys(this._responses))delete this._responses[e]}},MVC.Base=class extends MVC.Events{constructor(t,e){super(),e&&(this._configuration=e),t&&(this._settings=t)}get _configuration(){return this.configuration=this.configuration?this.configuration:{},this.configuration}set _configuration(t){this.configuration=t}get _settings(){return this.settings=this.settings?this.settings:{},this.settings}set _settings(t){this.settings=MVC.Utils.addPropertiesToObject(t,this._settings)}get _emitters(){return this.emitters=this.emitters?this.emitters:{},this.emitters}set _emitters(t){this.emitters=MVC.Utils.addPropertiesToObject(t,this._emitters)}},MVC.Service=class extends MVC.Base{constructor(){super(...arguments)}get _defaults(){return this.defaults||{contentType:{"Content-Type":"application/json"},responseType:"json"}}get _responseTypes(){return["","arraybuffer","blob","document","json","text"]}get _responseType(){return this.responseType}set _responseType(t){this._xhr.responseType=this._responseTypes.find(e=>e===t)||this._defaults.responseType}get _type(){return this.type}set _type(t){this.type=t}get _url(){return this.url}set _url(t){this.url=t}get _headers(){return this.headers||[]}set _headers(t){this._headers.length=0,t.forEach(t=>{this._headers.push(t),t=Object.entries(t)[0],this._xhr.setRequestHeader(t[0],t[1])})}get _data(){return this.data}set _data(t){this.data=t}get _xhr(){return this.xhr=this.xhr?this.xhr:new XMLHttpRequest,this.xhr}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}request(t){return t=t||this.data||null,new Promise((e,s)=>{200===this._xhr.status&&this._xhr.abort(),this._xhr.open(this.type,this.url),this._headers=this.settings.headers||[this._defaults.contentType],this._xhr.onload=e,this._xhr.onerror=s,this._xhr.send(t)}).then(t=>(this.emit("xhr:resolve",{name:"xhr:resolve",data:t.currentTarget}),t))}enable(){var t=this.settings;return!this.enabled&&Object.keys(t).length&&(t.type&&(this._type=t.type),t.url&&(this._url=t.url),t.data&&(this._data=t.data||null),this.settings.responseType&&(this._responseType=this._settings.responseType),this._enabled=!0),this}disable(){var t=this.settings;return this.enabled&&Object.keys(t).length&&(delete this._type,delete this._url,delete this._data,delete this._headers,delete this._responseType,this._enabled=!1),this}},MVC.Model=class extends MVC.Base{constructor(){super(...arguments)}get _localStorage(){return this.localStorage}set _localStorage(t){this.localStorage=t}get _defaults(){return this.defaults}set _defaults(t){this.defaults=t}get _schema(){return this._schema}set _schema(t){this.schema=t}get _histiogram(){return this.histiogram||{length:1}}set _histiogram(t){this.histiogram=Object.assign(this._histiogram,t)}get _history(){return this.history=this.history?this.history:[],this.history}set _history(t){Object.keys(t).length&&this._histiogram.length&&(this._history.unshift(this.parse(t)),this._history.splice(this._histiogram.length))}get _db(){var t=localStorage.getItem(this.localStorage.endpoint);return this.db=t||"{}",JSON.parse(this.db)}set _db(t){t=JSON.stringify(t),localStorage.setItem(this.localStorage.endpoint,t)}get _data(){return this.data=this.data?this.data:{},this.data}get _dataEvents(){return this.dataEvents=this.dataEvents?this.dataEvents:{},this.dataEvents}set _dataEvents(t){this.dataEvents=MVC.Utils.addPropertiesToObject(t,this._dataEvents)}get _dataCallbacks(){return this.dataCallbacks=this.dataCallbacks?this.dataCallbacks:{},this.dataCallbacks}set _dataCallbacks(t){this.dataCallbacks=MVC.Utils.addPropertiesToObject(t,this._dataCallbacks)}get _services(){return this.services=this.services?this.services:{},this.services}set _services(t){this.services=MVC.Utils.addPropertiesToObject(t,this._services)}get _serviceEvents(){return this.serviceEvents=this.serviceEvents?this.serviceEvents:{},this.serviceEvents}set _serviceEvents(t){this.serviceEvents=MVC.Utils.addPropertiesToObject(t,this._serviceEvents)}get _serviceCallbacks(){return this.serviceCallbacks=this.serviceCallbacks?this.serviceCallbacks:{},this.serviceCallbacks}set _serviceCallbacks(t){this.serviceCallbacks=MVC.Utils.addPropertiesToObject(t,this._serviceCallbacks)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableServiceEvents(){MVC.Utils.bindEventsToTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}disableServiceEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}enableDataEvents(){MVC.Utils.bindEventsToTargetObjects(this.dataEvents,this,this.dataCallbacks)}disableDataEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.dataEvents,this,this.dataCallbacks)}setDefaults(){var t={};this.defaults&&Object.assign(t,this.defaults),this.localStorage&&Object.assign(t,this._db),Object.keys(t)&&this.set(t)}get(){var t=arguments[0];return this._data["_".concat(t)]}set(){switch(this._history=this.parse(),arguments.length){case 1:Object.entries(arguments[0]).forEach((t,e)=>{var[s,i]=t;this.setDataProperty(s,i),this.localStorage&&this.setDB(s,i)});break;case 2:var t=arguments[0],e=arguments[1];this.setDataProperty(t,e),this.localStorage&&this.setDB(t,e)}return this}unset(){switch(this._history=this.parse(),arguments.length){case 0:for(var t of Object.keys(this._data))this.unsetDataProperty(t);break;case 1:var e=arguments[0];this.unsetDataProperty(e)}return this}setDB(){var t=this._db;switch(arguments.length){case 1:Object.entries(arguments[0]).forEach(e=>{var[s,i]=e;t[s]=i});break;case 2:var e=arguments[0],s=arguments[1];t[e]=s}this._db=t}unsetDB(){switch(arguments.length){case 0:delete this._db;break;case 1:var t=this._db;delete t[arguments[0]],this._db=t}}setDataProperty(t,e){if(!this._data["_".concat(t)]){var s=this;Object.defineProperties(this._data,{["_".concat(t)]:{configurable:!0,get(){return this[t]},set(e){this[t]=e;var i=["set",":",t].join("");s.emit(i,{name:i,data:{key:t,value:e}},s),s.emit("set",{name:"set",data:{key:t,value:e}},s)}}})}this._data["_".concat(t)]=e}unsetDataProperty(t){var e=["unset",":",t].join(""),s=this._data[t];delete this._data["_".concat(t)],delete this._data[t],this.emit(e,{name:e,data:{key:t,value:s}}),this.emit("unset",{name:"unset",data:{key:t,value:s}})}parse(t){return t=t||this._data,JSON.parse(JSON.stringify(Object.assign({},t)))}enable(){this.settings&&!this.enabled&&(this.settings.localStorage&&(this._localStorage=this.settings.localStorage),this.settings.histiogram&&(this._histiogram=this.settings.histiogram),this.settings.emitters&&(this._emitters=this.settings.emitters),this.settings.services&&(this._services=this.settings.services),this.settings.serviceCallbacks&&(this._serviceCallbacks=this.settings.serviceCallbacks),this.settings.serviceEvents&&(this._serviceEvents=this.settings.serviceEvents),this.settings.data&&this.set(this.settings.data),this.settings.dataCallbacks&&(this._dataCallbacks=this.settings.dataCallbacks),this.settings.dataEvents&&(this._dataEvents=this.settings.dataEvents),this.settings.schema&&(this._schema=this.settings.schema),this.settings.defaults&&(this._defaults=this.settings.defaults),this.services&&this.serviceEvents&&this.serviceCallbacks&&this.enableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.enableDataEvents(),this._enabled=!0)}disable(){this.settings&&!this.enabled&&(this.services&&this.serviceEvents&&this.serviceCallbacks&&this.disableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.disableDataEvents(),delete this._localStorage,delete this._histiogram,delete this._services,delete this._serviceCallbacks,delete this._serviceEvents,delete this._data,delete this._dataCallbacks,delete this._dataEvents,delete this._schema,delete this._emitters,this._enabled=!1)}},MVC.Emitter=class extends MVC.Model{constructor(){super(...arguments),this.settings&&this.settings.name&&(this._name=this.settings.name)}get _name(){return this.name}set _name(t){this.name=t}emission(){var t={name:this.name,data:this.data};return this.emit(this.name,t),t}},MVC.View=class extends MVC.Base{constructor(){super(...arguments)}get _elementName(){return this._element.tagName}set _elementName(t){this._element||(this._element=document.createElement(t))}get _element(){return this.element}set _element(t){t instanceof HTMLElement||t instanceof Document?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}get _attributes(){return this._element.attributes}set _attributes(t){for(var[e,s]of Object.entries(t))void 0===s?this._element.removeAttribute(e):this._element.setAttribute(e,s)}get _ui(){return this.ui=this.ui?this.ui:{},this.ui}set _ui(t){for(var[e,s]of(this._ui.$element||(this._ui.$element=this.element),Object.entries(t)))"string"==typeof s?this._ui[e]=this._element.querySelectorAll(s):(s instanceof HTMLElement||s instanceof Document)&&(this._ui[e]=s)}get _uiEvents(){return this.uiEvents}set _uiEvents(t){this.uiEvents=t}get _uiCallbacks(){return this.uiCallbacks=this.uiCallbacks?this.uiCallbacks:{},this.uiCallbacks}set _uiCallbacks(t){this.uiCallbacks=MVC.Utils.addPropertiesToObject(t,this._uiCallbacks)}get _observerCallbacks(){return this.observerCallbacks=this.observerCallbacks?this.observerCallbacks:{},this.observerCallbacks}set _observerCallbacks(t){this.observerCallbacks=MVC.Utils.addPropertiesToObject(t,this._observerCallbacks)}get elementObserver(){return this._elementObserver=this._elementObserver?this._elementObserver:new MutationObserver(this.elementObserve.bind(this)),this._elementObserver}get _insert(){return this.insert}set _insert(t){this.insert=t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _templates(){return this.templates=this.templates?this.templates:{},this.templates}set _templates(t){this.templates=MVC.Utils.addPropertiesToObject(t,this._templates)}elementObserve(t,e){for(var[s,i]of Object.entries(t))switch(i.type){case"childList":for(var r of["addedNodes","removedNodes"])i[r].length&&this.resetUI()}}autoInsert(){this.insert&&document.querySelectorAll(this.insert.element).forEach(t=>{t.insertAdjacentElement(this.insert.method,this.element)})}autoRemove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}enableElement(t){(t=t||this.settings).elementName&&(this._elementName=t.elementName),t.element&&(this._element=t.element),t.attributes&&(this._attributes=t.attributes),t.templates&&(this._templates=t.templates),t.insert&&(this._insert=t.insert)}disableElement(t){t=t||this.settings,this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element&&delete this.element,this.attributes&&delete this.attributes,this.templates&&delete this.templates,this.insert&&delete this.insert}resetUI(){this.disableUI(),this.enableUI()}enableUI(t){(t=t||this.settings).ui&&(this._ui=t.ui),t.uiCallbacks&&(this._uiCallbacks=t.uiCallbacks),t.uiEvents&&(this._uiEvents=t.uiEvents,this.enableUIEvents())}disableUI(t){(t=t||this.settings).uiEvents&&(this.disableUIEvents(),delete this._uiEvents),delete this.uiEvents,delete this.ui,delete this.uiCallbacks}enableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.bindEventsToTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}disableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.unbindEventsFromTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}enableEmitters(){this.settings.emitters&&(this._emitters=this.settings.emitters)}disableEmitters(){this._emitters&&delete this._emitters}enable(){var t=this.settings;if(t&&!this._enabled)return this.enableEmitters(),this.enableElement(t),this.enableUI(t),this._enabled=!0,this}disable(){var t=this.settings;if(t&&this._enabled)return this.disableUI(t),this.disableElement(t),this.disableEmitters(),this._enabled=!1,thiss}},MVC.Controller=class extends MVC.Base{constructor(){super(...arguments)}get _emitterCallbacks(){return this.emitterCallbacks=this.emitterCallbacks?this.emitterCallbacks:{},this.emitterCallbacks}set _emitterCallbacks(t){this.emitterCallbacks=MVC.Utils.addPropertiesToObject(t,this._emitterCallbacks)}get _modelCallbacks(){return this.modelCallbacks=this.modelCallbacks?this.modelCallbacks:{},this.modelCallbacks}set _modelCallbacks(t){this.modelCallbacks=MVC.Utils.addPropertiesToObject(t,this._modelCallbacks)}get _viewCallbacks(){return this.viewCallbacks=this.viewCallbacks?this.viewCallbacks:{},this.viewCallbacks}set _viewCallbacks(t){this.viewCallbacks=MVC.Utils.addPropertiesToObject(t,this._viewCallbacks)}get _controllerCallbacks(){return this.controllerCallbacks=this.controllerCallbacks?this.controllerCallbacks:{},this.controllerCallbacks}set _controllerCallbacks(t){this.controllerCallbacks=MVC.Utils.addPropertiesToObject(t,this._controllerCallbacks)}get _models(){return this.models=this.models?this.models:{},this.models}set _models(t){this.models=MVC.Utils.addPropertiesToObject(t,this._models)}get _views(){return this.views=this.views?this.views:{},this.views}set _views(t){this.views=MVC.Utils.addPropertiesToObject(t,this._views)}get _controllers(){return this.controllers=this.controllers?this.controllers:{},this.controllers}set _controllers(t){this.controllers=MVC.Utils.addPropertiesToObject(t,this._controllers)}get _routers(){return this.routers=this.routers?this.routers:{},this.routers}set _routers(t){this.routers=MVC.Utils.addPropertiesToObject(t,this._routers)}get _routerEvents(){return this.routerEvents=this.routerEvents?this.routerEvents:{},this.routerEvents}set _routerEvents(t){this.routerEvents=MVC.Utils.addPropertiesToObject(t,this._routerEvents)}get _routerCallbacks(){return this.routerCallbacks=this.routerCallbacks?this.routerCallbacks:{},this.routerCallbacks}set _routerCallbacks(t){this.routerCallbacks=MVC.Utils.addPropertiesToObject(t,this._routerCallbacks)}get _emitterEvents(){return this.emitterEvents=this.emitterEvents?this.emitterEvents:{},this.emitterEvents}set _emitterEvents(t){this.emitterEvents=MVC.Utils.addPropertiesToObject(t,this._emitterEvents)}get _modelEvents(){return this.modelEvents=this.modelEvents?this.modelEvents:{},this.modelEvents}set _modelEvents(t){this.modelEvents=MVC.Utils.addPropertiesToObject(t,this._modelEvents)}get _viewEvents(){return this.viewEvents=this.viewEvents?this.viewEvents:{},this.viewEvents}set _viewEvents(t){this.viewEvents=MVC.Utils.addPropertiesToObject(t,this._viewEvents)}get _controllerEvents(){return this.controllerEvents=this.controllerEvents?this.controllerEvents:{},this.controllerEvents}set _controllerEvents(t){this.controllerEvents=MVC.Utils.addPropertiesToObject(t,this._controllerEvents)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableModelEvents(){MVC.Utils.bindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}disableModelEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}enableViewEvents(){MVC.Utils.bindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}disableViewEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}enableControllerEvents(){MVC.Utils.bindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}disableControllerEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}enableEmitterEvents(){MVC.Utils.bindEventsToTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}disableEmitterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}enableRouterEvents(){MVC.Utils.bindEventsToTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}disableRouterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}enable(){var t=this.settings;t&&!this.enabled&&(t.modelCallbacks&&(this._modelCallbacks=t.modelCallbacks),t.viewCallbacks&&(this._viewCallbacks=t.viewCallbacks),t.controllerCallbacks&&(this._controllerCallbacks=t.controllerCallbacks),t.emitterCallbacks&&(this._emitterCallbacks=t.emitterCallbacks),t.routerCallbacks&&(this._routerCallbacks=t.routerCallbacks),t.models&&(this._models=t.models),t.views&&(this._views=t.views),t.controllers&&(this._controllers=t.controllers),t.emitters&&(this._emitters=t.emitters),t.routers&&(this._routers=t.routers),t.modelEvents&&(this._modelEvents=t.modelEvents),t.viewEvents&&(this._viewEvents=t.viewEvents),t.controllerEvents&&(this._controllerEvents=t.controllerEvents),t.emitterEvents&&(this._emitterEvents=t.emitterEvents),t.routerEvents&&(this._routerEvents=t.routerEvents),this.modelEvents&&this.models&&this.modelCallbacks&&this.enableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.enableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.enableControllerEvents(),this.routerEvents&&this.routers&&this.routerCallbacks&&this.enableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&this.enableEmitterEvents(),this._enabled=!0)}reset(){this.disable(),this.enable()}disable(){this.settings&&this.enabled&&(this.modelEvents&&this.models&&this.modelCallbacks&&this.disableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.disableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.disableControllerEvents()),this.routerEvents&&this.routers&&this.routerCallbacks&&this.disableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&(this.disableEmitterEvents(),delete this._modelCallbacks,delete this._viewCallbacks,delete this._controllerCallbacks,delete this._emitterCallbacks,delete this._routerCallbacks,delete this._models,delete this._views,delete this._controllers,delete this._emitters,delete this._routers,delete this._routerEvents,delete this._modelEvents,delete this._viewEvents,delete this._controllerEvents,delete this._emitterEvents,this._enabled=!1)}},MVC.Emitters={},MVC.Emitters.Navigate=class extends MVC.Emitter{constructor(){super(...arguments),this.addSettings(),this.enable()}addSettings(){this._name="navigate",this._schema={oldURL:String,newURL:String,currentRoute:String,currentController:String}}},MVC.Router=class extends MVC.Base{constructor(){super(...arguments)}get protocol(){return window.location.protocol}get hostname(){return window.location.hostname}get port(){return window.location.port}get path(){return window.location.pathname}get hash(){var t=window.location.href,e=t.indexOf("#");if(e>-1){var s,i=t.indexOf("?"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get params(){var t=window.location.href,e=t.indexOf("?");if(e>-1){var s,i=t.indexOf("#"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get _routeData(){var t={},e=this.path.split("/").filter(t=>t.length);e=e.length?e:["/"];var s=this.hash,i=s?s.split("/").filter(t=>t.length):null,r=this.params,a=r?MVC.Utils.paramsToObject(r):null;return this.protocol&&(t.protocol=this.protocol),this.hostname&&(t.hostname=this.hostname),this.port&&(t.port=this.port),this.path&&(t.path=this.path),s&&i&&(i=i.length?i:["/"],t.hash={path:s,fragments:i}),r&&a&&(t.params={path:r,data:a}),t.path={name:this.path,fragments:e},t.currentURL=this.currentURL,t=Object.assign(t,this._routeControllerData),this.routeData=t,this.routeData}get _routeControllerData(){var t={};return Object.entries(this.routes).forEach(e=>{var[s,i]=e,r=this.path.split("/").filter(t=>t.length);r=r.length?r:["/"];var a,n=s.split("/").filter((t,e)=>t.length);if(n=n.length?n:["/"],r.length&&r.length===n.length)return n.filter((e,l)=>{if((void 0===a||!0===a)&&(":"===e[0]?(t[e.replace(":","")]=r[l],e=this.fragmentIDRegExp):(e=e.replace(new RegExp("/","gi"),"\\/"),e=this.routeFragmentNameRegExp(e)),!0===(a=e.test(r[l]))&&l===r.length-1))return t.route={name:s,fragments:n},t.controller=i,i})[0]}),t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _routes(){return this.routes=this.routes?this.routes:{},this.routes}set _routes(t){this.routes=MVC.Utils.addPropertiesToObject(t,this._routes)}get _controller(){return this.controller}set _controller(t){this.controller=t}get _previousURL(){return this.previousURL}set _previousURL(t){this.previousURL=t}get _currentURL(){return this.currentURL}set _currentURL(t){this.currentURL&&(this._previousURL=this.currentURL),this.currentURL=t}get fragmentIDRegExp(){return new RegExp(/^([0-9A-Z\?\=\,\.\*\-\_\'\"\^\%\$\#\@\!\~\(\)\{\}\&\<\>\\\/])*$/,"gi")}routeFragmentNameRegExp(t){return new RegExp("^".concat(t,"$"))}enable(){this.settings&&!this.enabled&&(this.enableEmitters(),this.enableEvents(),this.enableRoutes(),this.routeChange(),this._enabled=!0)}disable(){this.settings&&this.enabled&&(this.disableEvents(),this.disableRoutes(),this.disableEmitters(),this._enabled=!1)}enableRoutes(){this.settings.controller&&(this._controller=this.settings.controller),this._routes=Object.entries(this.settings.routes).reduce((t,e,s,i)=>{var[r,a]=e;return t[r]=Object.assign(a,{callback:this.controller[a.callback].bind(this.controller)}),t},{})}enableEmitters(){this._emitters={navigateEmitter:new MVC.Emitters.Navigate}}disableEmitters(){delete this._emitters.navigateEmitter}disableRoutes(){delete this._routes,delete this._controller}enableEvents(){window.addEventListener("hashchange",this.routeChange.bind(this))}disableEvents(){window.removeEventListener("hashchange",this.routeChange.bind(this))}routeChange(){this._currentURL=window.location.href;var t=this._routeData;if(t.controller){var e=this.emitters.navigateEmitter;this.previousURL&&(t.previousURL=this.previousURL),e.unset().set(t),this.emit(e.name,e.emission()),t.controller.callback(e.emission())}}navigate(t){window.location.hash=t}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1WQy5qcyIsIkNvbnN0YW50cy5qcyIsIkV2ZW50cy5qcyIsImluZGV4LmpzIiwiYWRkUHJvcGVydGllc1RvT2JqZWN0LmpzIiwiaXMuanMiLCJvYmplY3RRdWVyeS5qcyIsInBhcmFtc1RvT2JqZWN0LmpzIiwidG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cy5qcyIsInR5cGVPZi5qcyIsInZhbGlkYXRlRGF0YVNjaGVtYS5qcyIsIkNoYW5uZWxzLmpzIiwiQ2hhbm5lbC5qcyIsIkJhc2UuanMiLCJTZXJ2aWNlLmpzIiwiTW9kZWwuanMiLCJFbWl0dGVyLmpzIiwiVmlldy5qcyIsIkNvbnRyb2xsZXIuanMiLCJOYXZpZ2F0ZS5qcyIsIlJvdXRlci5qcyJdLCJuYW1lcyI6WyJNVkMiLCJDb25zdGFudHMiLCJDT05TVCIsIkV2ZW50cyIsIkVWIiwiVXRpbHMiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QiLCJ0YXJnZXRPYmplY3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwcm9wZXJ0aWVzIiwiX3Byb3BlcnR5TmFtZSIsIl9wcm9wZXJ0eVZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInByb3BlcnR5TmFtZSIsInByb3BlcnR5VmFsdWUiLCJpc0FycmF5Iiwib2JqZWN0IiwiQXJyYXkiLCJpc09iamVjdCIsImlzRXF1YWxUeXBlIiwidmFsdWVBIiwidmFsdWVCIiwiaXNIVE1MRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwib2JqZWN0UXVlcnkiLCJzdHJpbmciLCJjb250ZXh0Iiwic3RyaW5nRGF0YSIsInBhcnNlTm90YXRpb24iLCJzcGxpY2UiLCJyZWR1Y2UiLCJmcmFnbWVudCIsImZyYWdtZW50SW5kZXgiLCJmcmFnbWVudHMiLCJwcm9wZXJ0eUtleSIsInBhcnNlRnJhZ21lbnQiLCJtYXRjaCIsImNvbmNhdCIsImNoYXJBdCIsInNsaWNlIiwic3BsaXQiLCJSZWdFeHAiLCJwYXJhbXNUb09iamVjdCIsInBhcmFtcyIsImZvckVhY2giLCJwYXJhbURhdGEiLCJkZWNvZGVVUklDb21wb25lbnQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ0b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzIiwidG9nZ2xlTWV0aG9kIiwiZXZlbnRzIiwidGFyZ2V0T2JqZWN0cyIsImNhbGxiYWNrcyIsImV2ZW50U2V0dGluZ3MiLCJldmVudENhbGxiYWNrTmFtZSIsImV2ZW50RGF0YSIsImV2ZW50VGFyZ2V0U2V0dGluZ3MiLCJldmVudE5hbWUiLCJldmVudFRhcmdldHMiLCJldmVudFRhcmdldE5hbWUiLCJldmVudFRhcmdldCIsImV2ZW50TWV0aG9kTmFtZSIsIk5vZGVMaXN0IiwiRG9jdW1lbnQiLCJldmVudENhbGxiYWNrIiwiX2V2ZW50VGFyZ2V0IiwiYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyIsInRoaXMiLCJ1bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyIsInR5cGVPZiIsImRhdGEiLCJ2YWxpZGF0ZURhdGFTY2hlbWEiLCJzY2hlbWEiLCJUTVBMIiwiYXJyYXkiLCJhcnJheUtleSIsImFycmF5VmFsdWUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsInB1c2giLCJvYmplY3RLZXkiLCJvYmplY3RWYWx1ZSIsIltvYmplY3QgT2JqZWN0XSIsIl9ldmVudHMiLCJldmVudENhbGxiYWNrcyIsImV2ZW50Q2FsbGJhY2tHcm91cCIsImV2ZW50Q2FsbGJhY2tHcm91cE5hbWUiLCJ2YWx1ZXMiLCJDaGFubmVscyIsIl9jaGFubmVscyIsImNoYW5uZWxzIiwiY2hhbm5lbE5hbWUiLCJDaGFubmVsIiwiX3Jlc3BvbnNlcyIsInJlc3BvbnNlcyIsInJlc3BvbnNlTmFtZSIsInJlc3BvbnNlQ2FsbGJhY2siLCJyZXNwb25zZSIsInJlcXVlc3REYXRhIiwiX3Jlc3BvbnNlTmFtZSIsImtleXMiLCJCYXNlIiwic2V0dGluZ3MiLCJjb25maWd1cmF0aW9uIiwic3VwZXIiLCJfY29uZmlndXJhdGlvbiIsIl9zZXR0aW5ncyIsIl9lbWl0dGVycyIsImVtaXR0ZXJzIiwiU2VydmljZSIsIl9kZWZhdWx0cyIsImRlZmF1bHRzIiwiY29udGVudFR5cGUiLCJDb250ZW50LVR5cGUiLCJyZXNwb25zZVR5cGUiLCJfcmVzcG9uc2VUeXBlcyIsIl9yZXNwb25zZVR5cGUiLCJfeGhyIiwiZmluZCIsInJlc3BvbnNlVHlwZUl0ZW0iLCJfdHlwZSIsInR5cGUiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiaGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsIl9kYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJfZW5hYmxlZCIsImVuYWJsZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXR1cyIsImFib3J0Iiwib3BlbiIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzZW5kIiwidGhlbiIsImVtaXQiLCJjdXJyZW50VGFyZ2V0IiwiTW9kZWwiLCJfbG9jYWxTdG9yYWdlIiwibG9jYWxTdG9yYWdlIiwiX3NjaGVtYSIsIl9oaXN0aW9ncmFtIiwiaGlzdGlvZ3JhbSIsImFzc2lnbiIsIl9oaXN0b3J5IiwiaGlzdG9yeSIsInVuc2hpZnQiLCJfZGIiLCJkYiIsImdldEl0ZW0iLCJlbmRwb2ludCIsInNldEl0ZW0iLCJfZGF0YUV2ZW50cyIsImRhdGFFdmVudHMiLCJfZGF0YUNhbGxiYWNrcyIsImRhdGFDYWxsYmFja3MiLCJfc2VydmljZXMiLCJzZXJ2aWNlcyIsIl9zZXJ2aWNlRXZlbnRzIiwic2VydmljZUV2ZW50cyIsIl9zZXJ2aWNlQ2FsbGJhY2tzIiwic2VydmljZUNhbGxiYWNrcyIsInNldCIsInByb3BlcnR5IiwiX3JlZiIsImluZGV4Iiwia2V5IiwidmFsdWUiLCJzZXREYXRhUHJvcGVydHkiLCJzZXREQiIsIl9rZXkiLCJ1bnNldERhdGFQcm9wZXJ0eSIsIl9yZWYyIiwiZGVmaW5lUHJvcGVydGllcyIsImNvbmZpZ3VyYWJsZSIsInNldFZhbHVlRXZlbnROYW1lIiwiam9pbiIsInVuc2V0VmFsdWVFdmVudE5hbWUiLCJ1bnNldFZhbHVlIiwiZW5hYmxlU2VydmljZUV2ZW50cyIsImVuYWJsZURhdGFFdmVudHMiLCJkaXNhYmxlU2VydmljZUV2ZW50cyIsImRpc2FibGVEYXRhRXZlbnRzIiwiRW1pdHRlciIsIl9uYW1lIiwiVmlldyIsIl9lbGVtZW50TmFtZSIsIl9lbGVtZW50IiwidGFnTmFtZSIsImVsZW1lbnROYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbGVtZW50T2JzZXJ2ZXIiLCJvYnNlcnZlIiwic3VidHJlZSIsImNoaWxkTGlzdCIsIl9hdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZUtleSIsImF0dHJpYnV0ZVZhbHVlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiX3VpIiwidWkiLCJ1aUtleSIsInVpVmFsdWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3VpRXZlbnRzIiwidWlFdmVudHMiLCJfdWlDYWxsYmFja3MiLCJ1aUNhbGxiYWNrcyIsIl9vYnNlcnZlckNhbGxiYWNrcyIsIm9ic2VydmVyQ2FsbGJhY2tzIiwiX2VsZW1lbnRPYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJlbGVtZW50T2JzZXJ2ZSIsImJpbmQiLCJfaW5zZXJ0IiwiaW5zZXJ0IiwiX3RlbXBsYXRlcyIsInRlbXBsYXRlcyIsIm11dGF0aW9uUmVjb3JkTGlzdCIsIm9ic2VydmVyIiwibXV0YXRpb25SZWNvcmRJbmRleCIsIm11dGF0aW9uUmVjb3JkIiwibXV0YXRpb25SZWNvcmRDYXRlZ29yeSIsInJlc2V0VUkiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJtZXRob2QiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJkaXNhYmxlVUkiLCJlbmFibGVVSSIsImVuYWJsZVVJRXZlbnRzIiwiZGlzYWJsZVVJRXZlbnRzIiwiZW5hYmxlRW1pdHRlcnMiLCJlbmFibGVFbGVtZW50IiwiZGlzYWJsZUVsZW1lbnQiLCJkaXNhYmxlRW1pdHRlcnMiLCJ0aGlzcyIsIkNvbnRyb2xsZXIiLCJfZW1pdHRlckNhbGxiYWNrcyIsImVtaXR0ZXJDYWxsYmFja3MiLCJfbW9kZWxDYWxsYmFja3MiLCJtb2RlbENhbGxiYWNrcyIsIl92aWV3Q2FsbGJhY2tzIiwidmlld0NhbGxiYWNrcyIsIl9jb250cm9sbGVyQ2FsbGJhY2tzIiwiY29udHJvbGxlckNhbGxiYWNrcyIsIl9tb2RlbHMiLCJtb2RlbHMiLCJfdmlld3MiLCJ2aWV3cyIsIl9jb250cm9sbGVycyIsImNvbnRyb2xsZXJzIiwiX3JvdXRlcnMiLCJyb3V0ZXJzIiwiX3JvdXRlckV2ZW50cyIsInJvdXRlckV2ZW50cyIsIl9yb3V0ZXJDYWxsYmFja3MiLCJyb3V0ZXJDYWxsYmFja3MiLCJfZW1pdHRlckV2ZW50cyIsImVtaXR0ZXJFdmVudHMiLCJfbW9kZWxFdmVudHMiLCJtb2RlbEV2ZW50cyIsIl92aWV3RXZlbnRzIiwidmlld0V2ZW50cyIsIl9jb250cm9sbGVyRXZlbnRzIiwiY29udHJvbGxlckV2ZW50cyIsImVuYWJsZU1vZGVsRXZlbnRzIiwiZW5hYmxlVmlld0V2ZW50cyIsImVuYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJlbmFibGVSb3V0ZXJFdmVudHMiLCJlbmFibGVFbWl0dGVyRXZlbnRzIiwiZGlzYWJsZSIsImVuYWJsZSIsImRpc2FibGVNb2RlbEV2ZW50cyIsImRpc2FibGVWaWV3RXZlbnRzIiwiZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJkaXNhYmxlUm91dGVyRXZlbnRzIiwiZGlzYWJsZUVtaXR0ZXJFdmVudHMiLCJFbWl0dGVycyIsIk5hdmlnYXRlIiwiYWRkU2V0dGluZ3MiLCJvbGRVUkwiLCJTdHJpbmciLCJuZXdVUkwiLCJjdXJyZW50Um91dGUiLCJjdXJyZW50Q29udHJvbGxlciIsIlJvdXRlciIsInByb3RvY29sIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsInBvcnQiLCJwYXRoIiwicGF0aG5hbWUiLCJoYXNoIiwiaHJlZiIsImhhc2hJbmRleCIsImluZGV4T2YiLCJzbGljZVN0b3AiLCJwYXJhbUluZGV4Iiwic2xpY2VTdGFydCIsIl9yb3V0ZURhdGEiLCJyb3V0ZURhdGEiLCJmaWx0ZXIiLCJoYXNoRnJhZ21lbnRzIiwiY3VycmVudFVSTCIsIl9yb3V0ZUNvbnRyb2xsZXJEYXRhIiwicm91dGVzIiwicm91dGVQYXRoIiwicm91dGVTZXR0aW5ncyIsInBhdGhGcmFnbWVudHMiLCJyb3V0ZUZyYWdtZW50cyIsInJvdXRlRnJhZ21lbnQiLCJyb3V0ZUZyYWdtZW50SW5kZXgiLCJ1bmRlZmluZWQiLCJyZXBsYWNlIiwiZnJhZ21lbnRJRFJlZ0V4cCIsInJvdXRlRnJhZ21lbnROYW1lUmVnRXhwIiwidGVzdCIsInJvdXRlIiwiY29udHJvbGxlciIsIl9yb3V0ZXMiLCJfY29udHJvbGxlciIsIl9wcmV2aW91c1VSTCIsInByZXZpb3VzVVJMIiwiX2N1cnJlbnRVUkwiLCJlbmFibGVFdmVudHMiLCJlbmFibGVSb3V0ZXMiLCJyb3V0ZUNoYW5nZSIsImRpc2FibGVFdmVudHMiLCJkaXNhYmxlUm91dGVzIiwicm91dGVJbmRleCIsIm9yaWdpbmFsUm91dGVzIiwiY2FsbGJhY2siLCJuYXZpZ2F0ZUVtaXR0ZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVuc2V0IiwiZW1pc3Npb24iXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLElBQU1BLEtBQU8sR0FDakJBLElBQUlDLFVBQVksR0FDaEJELElBQUlFLE1BQVFGLElBQUlDLFVBQ2hCRCxJQUFJQyxVQUFVRSxPQUFTLEdBQ3ZCSCxJQUFJRSxNQUFNRSxHQUFLSixJQUFJQyxVQUFVRSxPQUM3QkgsSUFBSUssTUFBUSxHQUNaTCxJQUFJSyxNQUFNQyxzQkFBd0IsV0FDaEMsSUFBSUMsRUFFSixPQUFRQyxVQUFVQyxRQUNoQixLQUFLLEVBQ0gsSUFBSUMsRUFBYUYsVUFBVSxHQUczQixJQUFLLElBQUtHLEVBQWVDLEtBRnpCTCxFQUFlQyxVQUFVLEdBRW1CSyxPQUFPQyxRQUFRSixJQUN6REgsRUFBYUks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b250ZW50IjpbInZhciBNVkMgPSBNVkMgfHwge31cclxuIiwiTVZDLkNvbnN0YW50cyA9IHt9XG5NVkMuQ09OU1QgPSBNVkMuQ29uc3RhbnRzXG4iLCJNVkMuRXZlbnRzID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBnZXQgX2V2ZW50cygpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gKHRoaXMuZXZlbnRzKVxyXG4gICAgICA/IHRoaXMuZXZlbnRzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLmV2ZW50c1xyXG4gIH1cclxuICBldmVudENhbGxiYWNrcyhldmVudE5hbWUpIHsgcmV0dXJuIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdIHx8IHt9IH1cclxuICBldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gKGV2ZW50Q2FsbGJhY2submFtZS5sZW5ndGgpXHJcbiAgICAgID8gZXZlbnRDYWxsYmFjay5uYW1lXHJcbiAgICAgIDogJ2Fub255bW91c0Z1bmN0aW9uJ1xyXG4gIH1cclxuICBldmVudENhbGxiYWNrR3JvdXAoZXZlbnRDYWxsYmFja3MsIGV2ZW50Q2FsbGJhY2tOYW1lKSB7XHJcbiAgICByZXR1cm4gZXZlbnRDYWxsYmFja3NbZXZlbnRDYWxsYmFja05hbWVdIHx8IFtdXHJcbiAgfVxyXG4gIG9uKGV2ZW50TmFtZSwgZXZlbnRDYWxsYmFjaykge1xyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tzID0gdGhpcy5ldmVudENhbGxiYWNrcyhldmVudE5hbWUpXHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja05hbWUgPSB0aGlzLmV2ZW50Q2FsbGJhY2tOYW1lKGV2ZW50Q2FsbGJhY2spXHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja0dyb3VwID0gdGhpcy5ldmVudENhbGxiYWNrR3JvdXAoZXZlbnRDYWxsYmFja3MsIGV2ZW50Q2FsbGJhY2tOYW1lKVxyXG4gICAgZXZlbnRDYWxsYmFja0dyb3VwLnB1c2goZXZlbnRDYWxsYmFjaylcclxuICAgIGV2ZW50Q2FsbGJhY2tzW2V2ZW50Q2FsbGJhY2tOYW1lXSA9IGV2ZW50Q2FsbGJhY2tHcm91cFxyXG4gICAgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBldmVudENhbGxiYWNrc1xyXG4gIH1cclxuICBvZmYoKSB7XHJcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICB2YXIgZXZlbnROYW1lID0gYXJndW1lbnRzWzBdXHJcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2sgPSBhcmd1bWVudHNbMV1cclxuICAgICAgICB2YXIgZXZlbnRDYWxsYmFja05hbWUgPSB0aGlzLmV2ZW50Q2FsbGJhY2tOYW1lKGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdW2V2ZW50Q2FsbGJhY2tOYW1lXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVtaXQoZXZlbnROYW1lLCBldmVudERhdGEpIHtcclxuICAgIGxldCBldmVudENhbGxiYWNrcyA9IHRoaXMuZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKVxyXG4gICAgZm9yKGxldCBbZXZlbnRDYWxsYmFja0dyb3VwTmFtZSwgZXZlbnRDYWxsYmFja0dyb3VwXSBvZiBPYmplY3QuZW50cmllcyhldmVudENhbGxiYWNrcykpIHtcclxuICAgICAgZm9yKGxldCBldmVudENhbGxiYWNrIG9mIGV2ZW50Q2FsbGJhY2tHcm91cCkge1xyXG4gICAgICAgIGxldCBhZGRpdGlvbmFsQXJndW1lbnRzID0gT2JqZWN0LnZhbHVlcyhhcmd1bWVudHMpLnNwbGljZSgyKSB8fCBbXVxyXG4gICAgICAgIGV2ZW50Q2FsbGJhY2soZXZlbnREYXRhLCAuLi5hZGRpdGlvbmFsQXJndW1lbnRzKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5FbWl0dGVycyA9IHt9XHJcbiIsIk1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QgPSBmdW5jdGlvbiBhZGRQcm9wZXJ0aWVzVG9PYmplY3QoKSB7XHJcbiAgbGV0IHRhcmdldE9iamVjdFxyXG4gIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICBjYXNlIDI6XHJcbiAgICAgIGxldCBwcm9wZXJ0aWVzID0gYXJndW1lbnRzWzBdXHJcbiAgICAgIHRhcmdldE9iamVjdCA9IGFyZ3VtZW50c1sxXVxyXG4gICAgICBmb3IobGV0IFtwcm9wZXJ0eU5hbWUsIHByb3BlcnR5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgdGFyZ2V0T2JqZWN0W3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgMzpcclxuICAgICAgbGV0IHByb3BlcnR5TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGFyZ3VtZW50c1sxXVxyXG4gICAgICB0YXJnZXRPYmplY3QgPSBhcmd1bWVudHNbMl1cclxuICAgICAgdGFyZ2V0T2JqZWN0W3Byb3BlcnR5TmFtZV0gPSBwcm9wZXJ0eVZhbHVlXHJcbiAgICAgIGJyZWFrXHJcbiAgfVxyXG4gIHJldHVybiB0YXJnZXRPYmplY3RcclxufVxyXG4iLCJNVkMuVXRpbHMuaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7IHJldHVybiBBcnJheS5pc0FycmF5KG9iamVjdCkgfVxyXG5NVkMuVXRpbHMuaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdChvYmplY3QpIHtcclxuICByZXR1cm4gKCFBcnJheS5pc0FycmF5KG9iamVjdCkpXHJcbiAgICA/IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnXHJcbiAgICA6IGZhbHNlXHJcbn1cclxuTVZDLlV0aWxzLmlzRXF1YWxUeXBlID0gZnVuY3Rpb24gaXNFcXVhbFR5cGUodmFsdWVBLCB2YWx1ZUIpIHsgcmV0dXJuIHZhbHVlQSA9PT0gdmFsdWVCIH1cclxuTVZDLlV0aWxzLmlzSFRNTEVsZW1lbnQgPSBmdW5jdGlvbiBpc0hUTUxFbGVtZW50KG9iamVjdCkge1xyXG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG59XHJcbiIsIk1WQy5VdGlscy5vYmplY3RRdWVyeSA9IGZ1bmN0aW9uIG9iamVjdFF1ZXJ5KFxyXG4gIHN0cmluZyxcclxuICBjb250ZXh0XHJcbikge1xyXG4gIGxldCBzdHJpbmdEYXRhID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlTm90YXRpb24oc3RyaW5nKVxyXG4gIGlmKHN0cmluZ0RhdGFbMF0gPT09ICdAJykgc3RyaW5nRGF0YS5zcGxpY2UoMCwgMSlcclxuICBpZighc3RyaW5nRGF0YS5sZW5ndGgpIHJldHVybiBjb250ZXh0XHJcbiAgY29udGV4dCA9IChNVkMuVXRpbHMuaXNPYmplY3QoY29udGV4dCkpXHJcbiAgICA/IE9iamVjdC5lbnRyaWVzKGNvbnRleHQpXHJcbiAgICA6IGNvbnRleHRcclxuICByZXR1cm4gc3RyaW5nRGF0YS5yZWR1Y2UoKG9iamVjdCwgZnJhZ21lbnQsIGZyYWdtZW50SW5kZXgsIGZyYWdtZW50cykgPT4ge1xyXG4gICAgbGV0IHByb3BlcnRpZXMgPSBbXVxyXG4gICAgZnJhZ21lbnQgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudChmcmFnbWVudClcclxuICAgIGZvcihsZXQgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXSBvZiBvYmplY3QpIHtcclxuICAgICAgaWYocHJvcGVydHlLZXkubWF0Y2goZnJhZ21lbnQpKSB7XHJcbiAgICAgICAgaWYoZnJhZ21lbnRJbmRleCA9PT0gZnJhZ21lbnRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXV0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChPYmplY3QuZW50cmllcyhwcm9wZXJ0eVZhbHVlKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG9iamVjdCA9IHByb3BlcnRpZXNcclxuICAgIHJldHVybiBvYmplY3RcclxuICB9LCBjb250ZXh0KVxyXG59XHJcbk1WQy5VdGlscy5vYmplY3RRdWVyeS5wYXJzZU5vdGF0aW9uID0gZnVuY3Rpb24gcGFyc2VOb3RhdGlvbihzdHJpbmcpIHtcclxuICBpZihcclxuICAgIHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJyAmJlxyXG4gICAgc3RyaW5nLmNoYXJBdChzdHJpbmcubGVuZ3RoIC0gMSkgPT0gJ10nXHJcbiAgKSB7XHJcbiAgICBzdHJpbmcgPSBzdHJpbmdcclxuICAgICAgLnNsaWNlKDEsIC0xKVxyXG4gICAgICAuc3BsaXQoJ11bJylcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyaW5nID0gc3RyaW5nXHJcbiAgICAgIC5zcGxpdCgnLicpXHJcbiAgfVxyXG4gIHJldHVybiBzdHJpbmdcclxufVxyXG5NVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudCA9IGZ1bmN0aW9uIHBhcnNlRnJhZ21lbnQoZnJhZ21lbnQpIHtcclxuICBpZihcclxuICAgIGZyYWdtZW50LmNoYXJBdCgwKSA9PT0gJy8nICYmXHJcbiAgICBmcmFnbWVudC5jaGFyQXQoZnJhZ21lbnQubGVuZ3RoIC0gMSkgPT0gJy8nXHJcbiAgKSB7XHJcbiAgICBmcmFnbWVudCA9IGZyYWdtZW50LnNsaWNlKDEsIC0xKVxyXG4gICAgZnJhZ21lbnQgPSBuZXcgUmVnRXhwKCdeJy5jb25jYXQoZnJhZ21lbnQsICckJykpXHJcbiAgfVxyXG4gIHJldHVybiBmcmFnbWVudFxyXG59XHJcbiIsIk1WQy5VdGlscy5wYXJhbXNUb09iamVjdCA9IGZ1bmN0aW9uIHBhcmFtc1RvT2JqZWN0KHBhcmFtcykge1xyXG4gICAgdmFyIHBhcmFtcyA9IHBhcmFtcy5zcGxpdCgnJicpXHJcbiAgICB2YXIgb2JqZWN0ID0ge31cclxuICAgIHBhcmFtcy5mb3JFYWNoKChwYXJhbURhdGEpID0+IHtcclxuICAgICAgcGFyYW1EYXRhID0gcGFyYW1EYXRhLnNwbGl0KCc9JylcclxuICAgICAgb2JqZWN0W3BhcmFtRGF0YVswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFyYW1EYXRhWzFdIHx8ICcnKVxyXG4gICAgfSlcclxuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpXHJcbn1cclxuIiwiTVZDLlV0aWxzLnRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMgPSBmdW5jdGlvbiB0b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzKFxyXG4gIHRvZ2dsZU1ldGhvZCxcclxuICBldmVudHMsXHJcbiAgdGFyZ2V0T2JqZWN0cyxcclxuICBjYWxsYmFja3NcclxuKSB7XHJcbiAgZm9yKGxldCBbZXZlbnRTZXR0aW5ncywgZXZlbnRDYWxsYmFja05hbWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIHtcclxuICAgIGxldCBldmVudERhdGEgPSBldmVudFNldHRpbmdzLnNwbGl0KCcgJylcclxuICAgIGxldCBldmVudFRhcmdldFNldHRpbmdzID0gZXZlbnREYXRhWzBdXHJcbiAgICBsZXQgZXZlbnROYW1lID0gZXZlbnREYXRhWzFdXHJcbiAgICBsZXQgZXZlbnRUYXJnZXRzID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5KFxyXG4gICAgICBldmVudFRhcmdldFNldHRpbmdzLFxyXG4gICAgICB0YXJnZXRPYmplY3RzXHJcbiAgICApXHJcbiAgICBldmVudFRhcmdldHMgPSAoIU1WQy5VdGlscy5pc0FycmF5KGV2ZW50VGFyZ2V0cykpXHJcbiAgICAgID8gW1snQCcsIGV2ZW50VGFyZ2V0c11dXHJcbiAgICAgIDogZXZlbnRUYXJnZXRzXHJcbiAgICBmb3IobGV0IFtldmVudFRhcmdldE5hbWUsIGV2ZW50VGFyZ2V0XSBvZiBldmVudFRhcmdldHMpIHtcclxuICAgICAgbGV0IGV2ZW50TWV0aG9kTmFtZSA9ICh0b2dnbGVNZXRob2QgPT09ICdvbicpXHJcbiAgICAgID8gKFxyXG4gICAgICAgIGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgTm9kZUxpc3QgfHxcclxuICAgICAgICAoXHJcbiAgICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XHJcbiAgICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIERvY3VtZW50XHJcbiAgICAgICAgKVxyXG4gICAgICApID8gJ2FkZEV2ZW50TGlzdGVuZXInXHJcbiAgICAgICAgOiAnb24nXHJcbiAgICAgIDogKFxyXG4gICAgICAgIGV2ZW50VGFyZ2V0IGluc3RhbmNlb2YgTm9kZUxpc3QgfHxcclxuICAgICAgICAoXHJcbiAgICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XHJcbiAgICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIERvY3VtZW50XHJcbiAgICAgICAgKVxyXG4gICAgICApID8gJ3JlbW92ZUV2ZW50TGlzdGVuZXInXHJcbiAgICAgICAgOiAnb2ZmJ1xyXG4gICAgICBsZXQgZXZlbnRDYWxsYmFjayA9IE1WQy5VdGlscy5vYmplY3RRdWVyeShcclxuICAgICAgICBldmVudENhbGxiYWNrTmFtZSxcclxuICAgICAgICBjYWxsYmFja3NcclxuICAgICAgKVswXVsxXVxyXG4gICAgICBpZihldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XHJcbiAgICAgICAgZm9yKGxldCBfZXZlbnRUYXJnZXQgb2YgZXZlbnRUYXJnZXQpIHtcclxuICAgICAgICAgIF9ldmVudFRhcmdldFtldmVudE1ldGhvZE5hbWVdKGV2ZW50TmFtZSwgZXZlbnRDYWxsYmFjaylcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZihldmVudFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHMgPSBmdW5jdGlvbiBiaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKCkge1xyXG4gIHRoaXMudG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cygnb24nLCAuLi5hcmd1bWVudHMpXHJcbn1cclxuTVZDLlV0aWxzLnVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gdW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoKSB7XHJcbiAgdGhpcy50b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzKCdvZmYnLCAuLi5hcmd1bWVudHMpXHJcbn1cclxuIiwiTVZDLlV0aWxzLnR5cGVPZiA9ICBmdW5jdGlvbiB0eXBlT2YoZGF0YSkge1xyXG4gIHN3aXRjaCh0eXBlb2YgZGF0YSkge1xyXG4gICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgbGV0IF9vYmplY3RcclxuICAgICAgaWYoTVZDLlV0aWxzLmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAvLyBBcnJheVxyXG4gICAgICAgIHJldHVybiAnYXJyYXknXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBNVkMuVXRpbHMuaXNPYmplY3QoZGF0YSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8gT2JqZWN0XHJcbiAgICAgICAgcmV0dXJuICdvYmplY3QnXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBkYXRhID09PSBudWxsXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE51bGxcclxuICAgICAgICByZXR1cm4gJ251bGwnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIF9vYmplY3RcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICBjYXNlICdudW1iZXInOlxyXG4gICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICByZXR1cm4gdHlwZW9mIGRhdGFcclxuICAgICAgYnJlYWtcclxuICB9XHJcbn1cclxuIiwiTVZDLlV0aWxzLnZhbGlkYXRlRGF0YVNjaGVtYSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGF0YVNjaGVtYShkYXRhLCBzY2hlbWEpIHtcclxuICBpZihzY2hlbWEpIHtcclxuICAgIHN3aXRjaChNVkMuVXRpbHMudHlwZU9mKGRhdGEpKSB7XHJcbiAgICAgIGNhc2UgJ2FycmF5JzpcclxuICAgICAgICBsZXQgYXJyYXkgPSBbXVxyXG4gICAgICAgIHNjaGVtYSA9IChNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSkgPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICA/IHNjaGVtYSgpXHJcbiAgICAgICAgICA6IHNjaGVtYVxyXG4gICAgICAgIGlmKFxyXG4gICAgICAgICAgTVZDLlV0aWxzLmlzRXF1YWxUeXBlKFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSksXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2YoYXJyYXkpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIGZvcihsZXQgW2FycmF5S2V5LCBhcnJheVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKFxyXG4gICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVEYXRhU2NoZW1hKGFycmF5VmFsdWUpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFycmF5XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICBsZXQgb2JqZWN0ID0ge31cclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKG9iamVjdClcclxuICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHNjaGVtYS5uYW1lKVxyXG4gICAgICAgICAgZm9yKGxldCBbb2JqZWN0S2V5LCBvYmplY3RWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgb2JqZWN0W29iamVjdEtleV0gPSB0aGlzLnZhbGlkYXRlRGF0YVNjaGVtYShvYmplY3RWYWx1ZSwgc2NoZW1hW29iamVjdEtleV0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmplY3RcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICBjYXNlICdib29sZWFuJzpcclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGRhdGEpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ251bGwnOlxyXG4gICAgICAgIGlmKFxyXG4gICAgICAgICAgTVZDLlV0aWxzLmlzRXF1YWxUeXBlKFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKHNjaGVtYSksXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2YoZGF0YSlcclxuICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XHJcbiAgICAgICAgdGhyb3cgTVZDLlRNUExcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgICAgdGhyb3cgTVZDLlRNUExcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBNVkMuVE1QTFxyXG4gIH1cclxufVxyXG4iLCJNVkMuQ2hhbm5lbHMgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG4gIGdldCBfY2hhbm5lbHMoKSB7XHJcbiAgICB0aGlzLmNoYW5uZWxzID0gKHRoaXMuY2hhbm5lbHMpXHJcbiAgICAgID8gdGhpcy5jaGFubmVsc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5jaGFubmVsc1xyXG4gIH1cclxuICBjaGFubmVsKGNoYW5uZWxOYW1lKSB7XHJcbiAgICB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV0gPSAodGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdKVxyXG4gICAgICA/IHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gICAgICA6IG5ldyBNVkMuQ2hhbm5lbHMuQ2hhbm5lbCgpXHJcbiAgICByZXR1cm4gdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdXHJcbiAgfVxyXG4gIG9mZihjaGFubmVsTmFtZSkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gIH1cclxufVxyXG4iLCJNVkMuQ2hhbm5lbHMuQ2hhbm5lbCA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgZ2V0IF9yZXNwb25zZXMoKSB7XHJcbiAgICB0aGlzLnJlc3BvbnNlcyA9ICh0aGlzLnJlc3BvbnNlcylcclxuICAgICAgPyB0aGlzLnJlc3BvbnNlc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5yZXNwb25zZXNcclxuICB9XHJcbiAgcmVzcG9uc2UocmVzcG9uc2VOYW1lLCByZXNwb25zZUNhbGxiYWNrKSB7XHJcbiAgICBpZihyZXNwb25zZUNhbGxiYWNrKSB7XHJcbiAgICAgIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdID0gcmVzcG9uc2VDYWxsYmFja1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZV1cclxuICAgIH1cclxuICB9XHJcbiAgcmVxdWVzdChyZXNwb25zZU5hbWUsIHJlcXVlc3REYXRhKSB7XHJcbiAgICBpZih0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV0ocmVxdWVzdERhdGEpXHJcbiAgICB9XHJcbiAgfVxyXG4gIG9mZihyZXNwb25zZU5hbWUpIHtcclxuICAgIGlmKHJlc3BvbnNlTmFtZSkge1xyXG4gICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvcihsZXQgW3Jlc3BvbnNlTmFtZV0gb2YgT2JqZWN0LmtleXModGhpcy5fcmVzcG9uc2VzKSkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5CYXNlID0gY2xhc3MgZXh0ZW5kcyBNVkMuRXZlbnRzIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgY29uZmlndXJhdGlvbikge1xyXG4gICAgc3VwZXIoKVxyXG4gICAgaWYoY29uZmlndXJhdGlvbikgdGhpcy5fY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb25cclxuICAgIGlmKHNldHRpbmdzKSB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzXHJcbiAgfVxyXG4gIGdldCBfY29uZmlndXJhdGlvbigpIHtcclxuICAgIHRoaXMuY29uZmlndXJhdGlvbiA9ICh0aGlzLmNvbmZpZ3VyYXRpb24pXHJcbiAgICAgID8gdGhpcy5jb25maWd1cmF0aW9uXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb25cclxuICB9XHJcbiAgc2V0IF9jb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24pIHsgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbiB9XHJcbiAgZ2V0IF9zZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSAodGhpcy5zZXR0aW5ncylcclxuICAgICAgPyB0aGlzLnNldHRpbmdzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzXHJcbiAgfVxyXG4gIHNldCBfc2V0dGluZ3Moc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxyXG4gICAgICBzZXR0aW5ncywgdGhpcy5fc2V0dGluZ3NcclxuICAgIClcclxuICB9XHJcbiAgZ2V0IF9lbWl0dGVycygpIHtcclxuICAgIHRoaXMuZW1pdHRlcnMgPSAodGhpcy5lbWl0dGVycylcclxuICAgICAgPyB0aGlzLmVtaXR0ZXJzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXJzXHJcbiAgfVxyXG4gIHNldCBfZW1pdHRlcnMoZW1pdHRlcnMpIHtcclxuICAgIHRoaXMuZW1pdHRlcnMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxyXG4gICAgICBlbWl0dGVycywgdGhpcy5fZW1pdHRlcnNcclxuICAgIClcclxuICB9XHJcbn1cclxuIiwiTVZDLlNlcnZpY2UgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxuICB9XG4gIGdldCBfZGVmYXVsdHMoKSB7IHJldHVybiB0aGlzLmRlZmF1bHRzIHx8IHtcbiAgICBjb250ZW50VHlwZTogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9IH1cbiAgZ2V0IF9yZXNwb25zZVR5cGVzKCkgeyByZXR1cm4gWycnLCAnYXJyYXlidWZmZXInLCAnYmxvYicsICdkb2N1bWVudCcsICdqc29uJywgJ3RleHQnXSB9XG4gIGdldCBfcmVzcG9uc2VUeXBlKCkgeyByZXR1cm4gdGhpcy5yZXNwb25zZVR5cGUgfVxuICBzZXQgX3Jlc3BvbnNlVHlwZShyZXNwb25zZVR5cGUpIHtcbiAgICB0aGlzLl94aHIucmVzcG9uc2VUeXBlID0gdGhpcy5fcmVzcG9uc2VUeXBlcy5maW5kKFxuICAgICAgKHJlc3BvbnNlVHlwZUl0ZW0pID0+IHJlc3BvbnNlVHlwZUl0ZW0gPT09IHJlc3BvbnNlVHlwZVxuICAgICkgfHwgdGhpcy5fZGVmYXVsdHMucmVzcG9uc2VUeXBlXG4gIH1cbiAgZ2V0IF90eXBlKCkgeyByZXR1cm4gdGhpcy50eXBlIH1cbiAgc2V0IF90eXBlKHR5cGUpIHsgdGhpcy50eXBlID0gdHlwZSB9XG4gIGdldCBfdXJsKCkgeyByZXR1cm4gdGhpcy51cmwgfVxuICBzZXQgX3VybCh1cmwpIHsgdGhpcy51cmwgPSB1cmwgfVxuICBnZXQgX2hlYWRlcnMoKSB7IHJldHVybiB0aGlzLmhlYWRlcnMgfHwgW10gfVxuICBzZXQgX2hlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMuX2hlYWRlcnMubGVuZ3RoID0gMFxuICAgIGhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyKSA9PiB7XG4gICAgICB0aGlzLl9oZWFkZXJzLnB1c2goaGVhZGVyKVxuICAgICAgaGVhZGVyID0gT2JqZWN0LmVudHJpZXMoaGVhZGVyKVswXVxuICAgICAgdGhpcy5feGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSlcbiAgfVxuICBnZXQgX2RhdGEoKSB7IHJldHVybiB0aGlzLmRhdGEgfVxuICBzZXQgX2RhdGEoZGF0YSkgeyB0aGlzLmRhdGEgPSBkYXRhIH1cbiAgZ2V0IF94aHIoKSB7XG4gICAgdGhpcy54aHIgPSAodGhpcy54aHIpXG4gICAgICA/IHRoaXMueGhyXG4gICAgICA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgcmV0dXJuIHRoaXMueGhyXG4gIH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIHJlcXVlc3QoZGF0YSkge1xuICAgIGRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YSB8fCBudWxsXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmKHRoaXMuX3hoci5zdGF0dXMgPT09IDIwMCkgdGhpcy5feGhyLmFib3J0KClcbiAgICAgIHRoaXMuX3hoci5vcGVuKHRoaXMudHlwZSwgdGhpcy51cmwpXG4gICAgICB0aGlzLl9oZWFkZXJzID0gdGhpcy5zZXR0aW5ncy5oZWFkZXJzIHx8IFt0aGlzLl9kZWZhdWx0cy5jb250ZW50VHlwZV1cbiAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSByZXNvbHZlXG4gICAgICB0aGlzLl94aHIub25lcnJvciA9IHJlamVjdFxuICAgICAgdGhpcy5feGhyLnNlbmQoZGF0YSlcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5lbWl0KCd4aHI6cmVzb2x2ZScsIHtcbiAgICAgICAgbmFtZTogJ3hocjpyZXNvbHZlJyxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuY3VycmVudFRhcmdldCxcbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9KVxuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICAhdGhpcy5lbmFibGVkICYmXG4gICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncykubGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy50eXBlKSB0aGlzLl90eXBlID0gc2V0dGluZ3MudHlwZVxuICAgICAgaWYoc2V0dGluZ3MudXJsKSB0aGlzLl91cmwgPSBzZXR0aW5ncy51cmxcbiAgICAgIGlmKHNldHRpbmdzLmRhdGEpIHRoaXMuX2RhdGEgPSBzZXR0aW5ncy5kYXRhIHx8IG51bGxcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MucmVzcG9uc2VUeXBlKSB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLl9zZXR0aW5ncy5yZXNwb25zZVR5cGVcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVuYWJsZWQgJiZcbiAgICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl90eXBlXG4gICAgICBkZWxldGUgdGhpcy5fdXJsXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YVxuICAgICAgZGVsZXRlIHRoaXMuX2hlYWRlcnNcbiAgICAgIGRlbGV0ZSB0aGlzLl9yZXNwb25zZVR5cGVcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJNVkMuTW9kZWwgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxuICB9XG4gIGdldCBfbG9jYWxTdG9yYWdlKCkgeyByZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2UgfVxuICBzZXQgX2xvY2FsU3RvcmFnZShsb2NhbFN0b3JhZ2UpIHsgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cyB9XG4gIHNldCBfZGVmYXVsdHMoZGVmYXVsdHMpIHsgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzIH1cbiAgZ2V0IF9zY2hlbWEoKSB7IHJldHVybiB0aGlzLl9zY2hlbWEgfVxuICBzZXQgX3NjaGVtYShzY2hlbWEpIHsgdGhpcy5zY2hlbWEgPSBzY2hlbWEgfVxuICBnZXQgX2hpc3Rpb2dyYW0oKSB7IHJldHVybiB0aGlzLmhpc3Rpb2dyYW0gfHwge1xuICAgIGxlbmd0aDogMVxuICB9IH1cbiAgc2V0IF9oaXN0aW9ncmFtKGhpc3Rpb2dyYW0pIHtcbiAgICB0aGlzLmhpc3Rpb2dyYW0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5faGlzdGlvZ3JhbSxcbiAgICAgIGhpc3Rpb2dyYW1cbiAgICApXG4gIH1cbiAgZ2V0IF9oaXN0b3J5KCkge1xuICAgIHRoaXMuaGlzdG9yeSA9ICh0aGlzLmhpc3RvcnkpXG4gICAgICA/IHRoaXMuaGlzdG9yeVxuICAgICAgOiBbXVxuICAgIHJldHVybiB0aGlzLmhpc3RvcnlcbiAgfVxuICBzZXQgX2hpc3RvcnkoZGF0YSkge1xuICAgIGlmKFxuICAgICAgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZih0aGlzLl9oaXN0aW9ncmFtLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9oaXN0b3J5LnVuc2hpZnQodGhpcy5wYXJzZShkYXRhKSlcbiAgICAgICAgdGhpcy5faGlzdG9yeS5zcGxpY2UodGhpcy5faGlzdGlvZ3JhbS5sZW5ndGgpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfZGIoKSB7XG4gICAgbGV0IGRiID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQpXG4gICAgdGhpcy5kYiA9IChkYilcbiAgICAgID8gZGJcbiAgICAgIDogJ3t9J1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZGIpXG4gIH1cbiAgc2V0IF9kYihkYikge1xuICAgIGRiID0gSlNPTi5zdHJpbmdpZnkoZGIpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQsIGRiKVxuICB9XG4gIGdldCBfZGF0YSgpIHtcbiAgICB0aGlzLmRhdGEgPSAgKHRoaXMuZGF0YSlcbiAgICAgID8gdGhpcy5kYXRhXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YVxuICB9XG4gIGdldCBfZGF0YUV2ZW50cygpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSAodGhpcy5kYXRhRXZlbnRzKVxuICAgICAgPyB0aGlzLmRhdGFFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhRXZlbnRzXG4gIH1cbiAgc2V0IF9kYXRhRXZlbnRzKGRhdGFFdmVudHMpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgZGF0YUV2ZW50cywgdGhpcy5fZGF0YUV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2RhdGFDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gKHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YUNhbGxiYWNrc1xuICB9XG4gIHNldCBfZGF0YUNhbGxiYWNrcyhkYXRhQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGRhdGFDYWxsYmFja3MsIHRoaXMuX2RhdGFDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlcygpIHtcbiAgICB0aGlzLnNlcnZpY2VzID0gICh0aGlzLnNlcnZpY2VzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZXNcbiAgfVxuICBzZXQgX3NlcnZpY2VzKHNlcnZpY2VzKSB7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlcywgdGhpcy5fc2VydmljZXNcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlRXZlbnRzKCkge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9ICh0aGlzLnNlcnZpY2VFdmVudHMpXG4gICAgICA/IHRoaXMuc2VydmljZUV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnNlcnZpY2VFdmVudHNcbiAgfVxuICBzZXQgX3NlcnZpY2VFdmVudHMoc2VydmljZUV2ZW50cykge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlRXZlbnRzLCB0aGlzLl9zZXJ2aWNlRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfc2VydmljZUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSAodGhpcy5zZXJ2aWNlQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9zZXJ2aWNlQ2FsbGJhY2tzKHNlcnZpY2VDYWxsYmFja3MpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgc2VydmljZUNhbGxiYWNrcywgdGhpcy5fc2VydmljZUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLnNlcnZpY2VFdmVudHMsIHRoaXMuc2VydmljZXMsIHRoaXMuc2VydmljZUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5zZXJ2aWNlRXZlbnRzLCB0aGlzLnNlcnZpY2VzLCB0aGlzLnNlcnZpY2VDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLmRhdGFFdmVudHMsIHRoaXMsIHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5kYXRhRXZlbnRzLCB0aGlzLCB0aGlzLmRhdGFDYWxsYmFja3MpXG4gIH1cbiAgc2V0RGVmYXVsdHMoKSB7XG4gICAgbGV0IF9kZWZhdWx0cyA9IHt9XG4gICAgaWYodGhpcy5kZWZhdWx0cykgT2JqZWN0LmFzc2lnbihfZGVmYXVsdHMsIHRoaXMuZGVmYXVsdHMpXG4gICAgaWYodGhpcy5sb2NhbFN0b3JhZ2UpIE9iamVjdC5hc3NpZ24oX2RlZmF1bHRzLCB0aGlzLl9kYilcbiAgICBpZihPYmplY3Qua2V5cyhfZGVmYXVsdHMpKSB0aGlzLnNldChfZGVmYXVsdHMpXG4gIH1cbiAgZ2V0KCkge1xuICAgIGxldCBwcm9wZXJ0eSA9IGFyZ3VtZW50c1swXVxuICAgIHJldHVybiB0aGlzLl9kYXRhWydfJy5jb25jYXQocHJvcGVydHkpXVxuICB9XG4gIHNldCgpIHtcbiAgICB0aGlzLl9oaXN0b3J5ID0gdGhpcy5wYXJzZSgpXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoYXJndW1lbnRzWzBdKVxuICAgICAgICAgIC5mb3JFYWNoKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICAgICAgaWYodGhpcy5sb2NhbFN0b3JhZ2UpIHRoaXMuc2V0REIoa2V5LCB2YWx1ZSlcbiAgICAgICAgICB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOlxuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1sxXVxuICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHVuc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLl9kYXRhKSkge1xuICAgICAgICAgIHRoaXMudW5zZXREYXRhUHJvcGVydHkoa2V5KVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGxldCBrZXkgPSBhcmd1bWVudHNbMF1cbiAgICAgICAgdGhpcy51bnNldERhdGFQcm9wZXJ0eShrZXkpXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgc2V0REIoKSB7XG4gICAgbGV0IGRiID0gdGhpcy5fZGJcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB2YXIgX2FyZ3VtZW50cyA9IE9iamVjdC5lbnRyaWVzKGFyZ3VtZW50c1swXSlcbiAgICAgICAgX2FyZ3VtZW50cy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBkYltrZXldID0gdmFsdWVcbiAgICAgICAgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICBsZXQgdmFsdWUgPSBhcmd1bWVudHNbMV1cbiAgICAgICAgZGJba2V5XSA9IHZhbHVlXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIHRoaXMuX2RiID0gZGJcbiAgfVxuICB1bnNldERCKCkge1xuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9kYlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQgZGIgPSB0aGlzLl9kYlxuICAgICAgICBsZXQga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIGRlbGV0ZSBkYltrZXldXG4gICAgICAgIHRoaXMuX2RiID0gZGJcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgc2V0RGF0YVByb3BlcnR5KGtleSwgdmFsdWUpIHtcbiAgICBpZighdGhpcy5fZGF0YVsnXycuY29uY2F0KGtleSldKSB7XG4gICAgICBsZXQgY29udGV4dCA9IHRoaXNcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgICAgICB0aGlzLl9kYXRhLFxuICAgICAgICB7XG4gICAgICAgICAgWydfJy5jb25jYXQoa2V5KV06IHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldCgpIHsgcmV0dXJuIHRoaXNba2V5XSB9LFxuICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlXG4gICAgICAgICAgICAgIGxldCBzZXRWYWx1ZUV2ZW50TmFtZSA9IFsnc2V0JywgJzonLCBrZXldLmpvaW4oJycpXG4gICAgICAgICAgICAgIGxldCBzZXRFdmVudE5hbWUgPSAnc2V0J1xuICAgICAgICAgICAgICBjb250ZXh0LmVtaXQoXG4gICAgICAgICAgICAgICAgc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIGNvbnRleHQuZW1pdChcbiAgICAgICAgICAgICAgICBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogc2V0RXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgICB0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV0gPSB2YWx1ZVxuICB9XG4gIHVuc2V0RGF0YVByb3BlcnR5KGtleSkge1xuICAgIGxldCB1bnNldFZhbHVlRXZlbnROYW1lID0gWyd1bnNldCcsICc6Jywga2V5XS5qb2luKCcnKVxuICAgIGxldCB1bnNldEV2ZW50TmFtZSA9ICd1bnNldCdcbiAgICBsZXQgdW5zZXRWYWx1ZSA9IHRoaXMuX2RhdGFba2V5XVxuICAgIGRlbGV0ZSB0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV1cbiAgICBkZWxldGUgdGhpcy5fZGF0YVtrZXldXG4gICAgdGhpcy5lbWl0KFxuICAgICAgdW5zZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdW5zZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB1bnNldFZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICAgIHRoaXMuZW1pdChcbiAgICAgIHVuc2V0RXZlbnROYW1lLFxuICAgICAge1xuICAgICAgICBuYW1lOiB1bnNldEV2ZW50TmFtZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgIHZhbHVlOiB1bnNldFZhbHVlLFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKVxuICB9XG4gIHBhcnNlKGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLl9kYXRhXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSwgZGF0YSkpKVxuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5sb2NhbFN0b3JhZ2UpIHRoaXMuX2xvY2FsU3RvcmFnZSA9IHRoaXMuc2V0dGluZ3MubG9jYWxTdG9yYWdlXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW0pIHRoaXMuX2hpc3Rpb2dyYW0gPSB0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW1cbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZW1pdHRlcnMpIHRoaXMuX2VtaXR0ZXJzID0gdGhpcy5zZXR0aW5ncy5lbWl0dGVyc1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zZXJ2aWNlcykgdGhpcy5fc2VydmljZXMgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnNlcnZpY2VDYWxsYmFja3MpIHRoaXMuX3NlcnZpY2VDYWxsYmFja3MgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2VydmljZUV2ZW50cykgdGhpcy5fc2VydmljZUV2ZW50cyA9IHRoaXMuc2V0dGluZ3Muc2VydmljZUV2ZW50c1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kYXRhKSB0aGlzLnNldCh0aGlzLnNldHRpbmdzLmRhdGEpXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRhdGFDYWxsYmFja3MpIHRoaXMuX2RhdGFDYWxsYmFja3MgPSB0aGlzLnNldHRpbmdzLmRhdGFDYWxsYmFja3NcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZGF0YUV2ZW50cykgdGhpcy5fZGF0YUV2ZW50cyA9IHRoaXMuc2V0dGluZ3MuZGF0YUV2ZW50c1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zY2hlbWEpIHRoaXMuX3NjaGVtYSA9IHRoaXMuc2V0dGluZ3Muc2NoZW1hXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRlZmF1bHRzKSB0aGlzLl9kZWZhdWx0cyA9IHRoaXMuc2V0dGluZ3MuZGVmYXVsdHNcbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnNlcnZpY2VzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUV2ZW50cyAmJlxuICAgICAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZVNlcnZpY2VFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZGF0YUV2ZW50cyAmJlxuICAgICAgICB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZURhdGFFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYoXG4gICAgICAgIHRoaXMuc2VydmljZXMgJiZcbiAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVNlcnZpY2VFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZGF0YUV2ZW50cyAmJlxuICAgICAgICB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVEYXRhRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLl9sb2NhbFN0b3JhZ2VcbiAgICAgIGRlbGV0ZSB0aGlzLl9oaXN0aW9ncmFtXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZXNcbiAgICAgIGRlbGV0ZSB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX3NjaGVtYVxuICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5FbWl0dGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuTW9kZWwge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgaWYodGhpcy5zZXR0aW5ncykge1xyXG4gICAgICBpZih0aGlzLnNldHRpbmdzLm5hbWUpIHRoaXMuX25hbWUgPSB0aGlzLnNldHRpbmdzLm5hbWVcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0IF9uYW1lKCkgeyByZXR1cm4gdGhpcy5uYW1lIH1cclxuICBzZXQgX25hbWUobmFtZSkgeyB0aGlzLm5hbWUgPSBuYW1lIH1cclxuICBlbWlzc2lvbigpIHtcclxuICAgIGxldCBldmVudERhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgZGF0YTogdGhpcy5kYXRhXHJcbiAgICB9XHJcbiAgICB0aGlzLmVtaXQoXHJcbiAgICAgIHRoaXMubmFtZSxcclxuICAgICAgZXZlbnREYXRhXHJcbiAgICApXHJcbiAgICByZXR1cm4gZXZlbnREYXRhXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5WaWV3ID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VsZW1lbnROYW1lKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC50YWdOYW1lIH1cbiAgc2V0IF9lbGVtZW50TmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmKCF0aGlzLl9lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50TmFtZSlcbiAgfVxuICBnZXQgX2VsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQgfVxuICBzZXQgX2VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmKFxuICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XG4gICAgICBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICApIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB9IGVsc2UgaWYodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIH0pXG4gIH1cbiAgZ2V0IF9hdHRyaWJ1dGVzKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC5hdHRyaWJ1dGVzIH1cbiAgc2V0IF9hdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IobGV0IFthdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgaWYodHlwZW9mIGF0dHJpYnV0ZVZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVLZXkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgX3VpKCkge1xuICAgIHRoaXMudWkgPSAodGhpcy51aSlcbiAgICAgID8gdGhpcy51aVxuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpXG4gIH1cbiAgc2V0IF91aSh1aSkge1xuICAgIGlmKCF0aGlzLl91aVsnJGVsZW1lbnQnXSkgdGhpcy5fdWlbJyRlbGVtZW50J10gPSB0aGlzLmVsZW1lbnRcbiAgICBmb3IobGV0IFt1aUtleSwgdWlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModWkpKSB7XG4gICAgICBpZih0eXBlb2YgdWlWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fdWlbdWlLZXldID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHVpVmFsdWUpXG4gICAgICB9IGVsc2UgaWYoXG4gICAgICAgIHVpVmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxuICAgICAgICB1aVZhbHVlIGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl91aVt1aUtleV0gPSB1aVZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfdWlFdmVudHMoKSB7IHJldHVybiB0aGlzLnVpRXZlbnRzIH1cbiAgc2V0IF91aUV2ZW50cyh1aUV2ZW50cykgeyB0aGlzLnVpRXZlbnRzID0gdWlFdmVudHMgfVxuICBnZXQgX3VpQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSAodGhpcy51aUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy51aUNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF91aUNhbGxiYWNrcyh1aUNhbGxiYWNrcykge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgdWlDYWxsYmFja3MsIHRoaXMuX3VpQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfb2JzZXJ2ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9ICh0aGlzLm9ic2VydmVyQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLm9ic2VydmVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX29ic2VydmVyQ2FsbGJhY2tzKG9ic2VydmVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBvYnNlcnZlckNhbGxiYWNrcywgdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IGVsZW1lbnRPYnNlcnZlcigpIHtcbiAgICB0aGlzLl9lbGVtZW50T2JzZXJ2ZXIgPSAodGhpcy5fZWxlbWVudE9ic2VydmVyKVxuICAgICAgPyB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgICAgIDogbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5lbGVtZW50T2JzZXJ2ZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgfVxuICBnZXQgX2luc2VydCgpIHsgcmV0dXJuIHRoaXMuaW5zZXJ0IH1cbiAgc2V0IF9pbnNlcnQoaW5zZXJ0KSB7IHRoaXMuaW5zZXJ0ID0gaW5zZXJ0IH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfdGVtcGxhdGVzKCkge1xuICAgIHRoaXMudGVtcGxhdGVzID0gKHRoaXMudGVtcGxhdGVzKVxuICAgICAgPyB0aGlzLnRlbXBsYXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlc1xuICB9XG4gIHNldCBfdGVtcGxhdGVzKHRlbXBsYXRlcykge1xuICAgIHRoaXMudGVtcGxhdGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHRlbXBsYXRlcywgdGhpcy5fdGVtcGxhdGVzXG4gICAgKVxuICB9XG4gIGVsZW1lbnRPYnNlcnZlKG11dGF0aW9uUmVjb3JkTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICBmb3IobGV0IFttdXRhdGlvblJlY29yZEluZGV4LCBtdXRhdGlvblJlY29yZF0gb2YgT2JqZWN0LmVudHJpZXMobXV0YXRpb25SZWNvcmRMaXN0KSkge1xuICAgICAgc3dpdGNoKG11dGF0aW9uUmVjb3JkLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICBsZXQgbXV0YXRpb25SZWNvcmRDYXRlZ29yaWVzID0gWydhZGRlZE5vZGVzJywgJ3JlbW92ZWROb2RlcyddXG4gICAgICAgICAgZm9yKGxldCBtdXRhdGlvblJlY29yZENhdGVnb3J5IG9mIG11dGF0aW9uUmVjb3JkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgaWYobXV0YXRpb25SZWNvcmRbbXV0YXRpb25SZWNvcmRDYXRlZ29yeV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXRVSSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF1dG9JbnNlcnQoKSB7XG4gICAgaWYodGhpcy5pbnNlcnQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnNlcnQuZWxlbWVudClcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMuaW5zZXJ0Lm1ldGhvZCwgdGhpcy5lbGVtZW50KVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgYXV0b1JlbW92ZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxuICBlbmFibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MuZWxlbWVudE5hbWUpIHRoaXMuX2VsZW1lbnROYW1lID0gc2V0dGluZ3MuZWxlbWVudE5hbWVcbiAgICBpZihzZXR0aW5ncy5lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gc2V0dGluZ3MuZWxlbWVudFxuICAgIGlmKHNldHRpbmdzLmF0dHJpYnV0ZXMpIHRoaXMuX2F0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzXG4gICAgaWYoc2V0dGluZ3MudGVtcGxhdGVzKSB0aGlzLl90ZW1wbGF0ZXMgPSBzZXR0aW5ncy50ZW1wbGF0ZXNcbiAgICBpZihzZXR0aW5ncy5pbnNlcnQpIHRoaXMuX2luc2VydCA9IHNldHRpbmdzLmluc2VydFxuICB9XG4gIGRpc2FibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVsZW1lbnQgJiZcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgKSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgaWYodGhpcy5lbGVtZW50KSBkZWxldGUgdGhpcy5lbGVtZW50XG4gICAgaWYodGhpcy5hdHRyaWJ1dGVzKSBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzXG4gICAgaWYodGhpcy50ZW1wbGF0ZXMpIGRlbGV0ZSB0aGlzLnRlbXBsYXRlc1xuICAgIGlmKHRoaXMuaW5zZXJ0KSBkZWxldGUgdGhpcy5pbnNlcnRcbiAgfVxuICByZXNldFVJKCkge1xuICAgIHRoaXMuZGlzYWJsZVVJKClcbiAgICB0aGlzLmVuYWJsZVVJKClcbiAgfVxuICBlbmFibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpKSB0aGlzLl91aSA9IHNldHRpbmdzLnVpXG4gICAgaWYoc2V0dGluZ3MudWlDYWxsYmFja3MpIHRoaXMuX3VpQ2FsbGJhY2tzID0gc2V0dGluZ3MudWlDYWxsYmFja3NcbiAgICBpZihzZXR0aW5ncy51aUV2ZW50cykge1xuICAgICAgdGhpcy5fdWlFdmVudHMgPSBzZXR0aW5ncy51aUV2ZW50c1xuICAgICAgdGhpcy5lbmFibGVVSUV2ZW50cygpXG4gICAgfVxuICB9XG4gIGRpc2FibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpRXZlbnRzKSB7XG4gICAgICB0aGlzLmRpc2FibGVVSUV2ZW50cygpXG4gICAgICBkZWxldGUgdGhpcy5fdWlFdmVudHNcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMudWlFdmVudHNcbiAgICBkZWxldGUgdGhpcy51aVxuICAgIGRlbGV0ZSB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgZW5hYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyhcbiAgICAgICAgdGhpcy51aUV2ZW50cyxcbiAgICAgICAgdGhpcy51aSxcbiAgICAgICAgdGhpcy51aUNhbGxiYWNrc1xuICAgICAgKVxuICAgIH1cbiAgfVxuICBkaXNhYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoXG4gICAgICAgIHRoaXMudWlFdmVudHMsXG4gICAgICAgIHRoaXMudWksXG4gICAgICAgIHRoaXMudWlDYWxsYmFja3NcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5lbWl0dGVycykgdGhpcy5fZW1pdHRlcnMgPSB0aGlzLnNldHRpbmdzLmVtaXR0ZXJzXG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGlmKHRoaXMuX2VtaXR0ZXJzKSBkZWxldGUgdGhpcy5fZW1pdHRlcnNcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLl9lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuZW5hYmxlRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMuZW5hYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5fZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLmRpc2FibGVFbGVtZW50KHNldHRpbmdzKVxuICAgICAgdGhpcy5kaXNhYmxlRW1pdHRlcnMoKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgICByZXR1cm4gdGhpc3NcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Db250cm9sbGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VtaXR0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gKHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5lbWl0dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICB9XG4gIHNldCBfZW1pdHRlckNhbGxiYWNrcyhlbWl0dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGVtaXR0ZXJDYWxsYmFja3MsIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbENhbGxiYWNrcygpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gKHRoaXMubW9kZWxDYWxsYmFja3MpXG4gICAgICA/IHRoaXMubW9kZWxDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbENhbGxiYWNrc1xuICB9XG4gIHNldCBfbW9kZWxDYWxsYmFja3MobW9kZWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsQ2FsbGJhY2tzLCB0aGlzLl9tb2RlbENhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdDYWxsYmFja3MoKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gKHRoaXMudmlld0NhbGxiYWNrcylcbiAgICAgID8gdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0NhbGxiYWNrc1xuICB9XG4gIHNldCBfdmlld0NhbGxiYWNrcyh2aWV3Q2FsbGJhY2tzKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdDYWxsYmFja3MsIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9ICh0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJDYWxsYmFja3MoY29udHJvbGxlckNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyQ2FsbGJhY2tzLCB0aGlzLl9jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxzKCkge1xuICAgIHRoaXMubW9kZWxzID0gKHRoaXMubW9kZWxzKVxuICAgICAgPyB0aGlzLm1vZGVsc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICB9XG4gIHNldCBfbW9kZWxzKG1vZGVscykge1xuICAgIHRoaXMubW9kZWxzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVscywgdGhpcy5fbW9kZWxzXG4gICAgKVxuICB9XG4gIGdldCBfdmlld3MoKSB7XG4gICAgdGhpcy52aWV3cyA9ICh0aGlzLnZpZXdzKVxuICAgICAgPyB0aGlzLnZpZXdzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld3NcbiAgfVxuICBzZXQgX3ZpZXdzKHZpZXdzKSB7XG4gICAgdGhpcy52aWV3cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3cywgdGhpcy5fdmlld3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVycygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gKHRoaXMuY29udHJvbGxlcnMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyc1xuICB9XG4gIHNldCBfY29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGNvbnRyb2xsZXJzLCB0aGlzLl9jb250cm9sbGVyc1xuICAgIClcbiAgfVxuICBnZXQgX3JvdXRlcnMoKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gKHRoaXMucm91dGVycylcbiAgICAgID8gdGhpcy5yb3V0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyc1xuICB9XG4gIHNldCBfcm91dGVycyhyb3V0ZXJzKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcnMsIHRoaXMuX3JvdXRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSAodGhpcy5yb3V0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMucm91dGVyRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9yb3V0ZXJFdmVudHMocm91dGVyRXZlbnRzKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyRXZlbnRzLCB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSAodGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9yb3V0ZXJDYWxsYmFja3Mocm91dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyQ2FsbGJhY2tzLCB0aGlzLl9yb3V0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9lbWl0dGVyRXZlbnRzKCkge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9ICh0aGlzLmVtaXR0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMuZW1pdHRlckV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXJFdmVudHNcbiAgfVxuICBzZXQgX2VtaXR0ZXJFdmVudHMoZW1pdHRlckV2ZW50cykge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBlbWl0dGVyRXZlbnRzLCB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxFdmVudHMoKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9ICh0aGlzLm1vZGVsRXZlbnRzKVxuICAgICAgPyB0aGlzLm1vZGVsRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMubW9kZWxFdmVudHNcbiAgfVxuICBzZXQgX21vZGVsRXZlbnRzKG1vZGVsRXZlbnRzKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBtb2RlbEV2ZW50cywgdGhpcy5fbW9kZWxFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF92aWV3RXZlbnRzKCkge1xuICAgIHRoaXMudmlld0V2ZW50cyA9ICh0aGlzLnZpZXdFdmVudHMpXG4gICAgICA/IHRoaXMudmlld0V2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnZpZXdFdmVudHNcbiAgfVxuICBzZXQgX3ZpZXdFdmVudHModmlld0V2ZW50cykge1xuICAgIHRoaXMudmlld0V2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3RXZlbnRzLCB0aGlzLl92aWV3RXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlckV2ZW50cygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSAodGhpcy5jb250cm9sbGVyRXZlbnRzKVxuICAgICAgPyB0aGlzLmNvbnRyb2xsZXJFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9jb250cm9sbGVyRXZlbnRzKGNvbnRyb2xsZXJFdmVudHMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgY29udHJvbGxlckV2ZW50cywgdGhpcy5fY29udHJvbGxlckV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlTW9kZWxFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5tb2RlbEV2ZW50cywgdGhpcy5tb2RlbHMsIHRoaXMubW9kZWxDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZU1vZGVsRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLm1vZGVsRXZlbnRzLCB0aGlzLm1vZGVscywgdGhpcy5tb2RlbENhbGxiYWNrcylcbiAgfVxuICBlbmFibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMudmlld0V2ZW50cywgdGhpcy52aWV3cywgdGhpcy52aWV3Q2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLnZpZXdFdmVudHMsIHRoaXMudmlld3MsIHRoaXMudmlld0NhbGxiYWNrcylcbiAgfVxuICBlbmFibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuY29udHJvbGxlckV2ZW50cywgdGhpcy5jb250cm9sbGVycywgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmNvbnRyb2xsZXJFdmVudHMsIHRoaXMuY29udHJvbGxlcnMsIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuZW1pdHRlckV2ZW50cywgdGhpcy5lbWl0dGVycywgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmVtaXR0ZXJFdmVudHMsIHRoaXMuZW1pdHRlcnMsIHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVSb3V0ZXJFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZVJvdXRlckV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy5tb2RlbENhbGxiYWNrcykgdGhpcy5fbW9kZWxDYWxsYmFja3MgPSBzZXR0aW5ncy5tb2RlbENhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mudmlld0NhbGxiYWNrcykgdGhpcy5fdmlld0NhbGxiYWNrcyA9IHNldHRpbmdzLnZpZXdDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLmNvbnRyb2xsZXJDYWxsYmFja3MpIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy5lbWl0dGVyQ2FsbGJhY2tzKSB0aGlzLl9lbWl0dGVyQ2FsbGJhY2tzID0gc2V0dGluZ3MuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mucm91dGVyQ2FsbGJhY2tzKSB0aGlzLl9yb3V0ZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLm1vZGVscykgdGhpcy5fbW9kZWxzID0gc2V0dGluZ3MubW9kZWxzXG4gICAgICBpZihzZXR0aW5ncy52aWV3cykgdGhpcy5fdmlld3MgPSBzZXR0aW5ncy52aWV3c1xuICAgICAgaWYoc2V0dGluZ3MuY29udHJvbGxlcnMpIHRoaXMuX2NvbnRyb2xsZXJzID0gc2V0dGluZ3MuY29udHJvbGxlcnNcbiAgICAgIGlmKHNldHRpbmdzLmVtaXR0ZXJzKSB0aGlzLl9lbWl0dGVycyA9IHNldHRpbmdzLmVtaXR0ZXJzXG4gICAgICBpZihzZXR0aW5ncy5yb3V0ZXJzKSB0aGlzLl9yb3V0ZXJzID0gc2V0dGluZ3Mucm91dGVyc1xuICAgICAgaWYoc2V0dGluZ3MubW9kZWxFdmVudHMpIHRoaXMuX21vZGVsRXZlbnRzID0gc2V0dGluZ3MubW9kZWxFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnZpZXdFdmVudHMpIHRoaXMuX3ZpZXdFdmVudHMgPSBzZXR0aW5ncy52aWV3RXZlbnRzXG4gICAgICBpZihzZXR0aW5ncy5jb250cm9sbGVyRXZlbnRzKSB0aGlzLl9jb250cm9sbGVyRXZlbnRzID0gc2V0dGluZ3MuY29udHJvbGxlckV2ZW50c1xuICAgICAgaWYoc2V0dGluZ3MuZW1pdHRlckV2ZW50cykgdGhpcy5fZW1pdHRlckV2ZW50cyA9IHNldHRpbmdzLmVtaXR0ZXJFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnJvdXRlckV2ZW50cykgdGhpcy5fcm91dGVyRXZlbnRzID0gc2V0dGluZ3Mucm91dGVyRXZlbnRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVNb2RlbEV2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy52aWV3RXZlbnRzICYmXG4gICAgICAgIHRoaXMudmlld3MgJiZcbiAgICAgICAgdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVWaWV3RXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVycyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMucm91dGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMucm91dGVycyAmJlxuICAgICAgICB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlUm91dGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmVtaXR0ZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5lbWl0dGVycyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kaXNhYmxlKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVZpZXdFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfX1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnJvdXRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLnJvdXRlcnMgJiZcbiAgICAgICAgdGhpcy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVSb3V0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZW1pdHRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJzICYmXG4gICAgICAgIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JvdXRlckNhbGxiYWNrc1xuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1xuICAgICAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlcnNcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3RXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5FbWl0dGVycy5OYXZpZ2F0ZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkVtaXR0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgdGhpcy5hZGRTZXR0aW5ncygpXHJcbiAgICB0aGlzLmVuYWJsZSgpXHJcbiAgfVxyXG4gIGFkZFNldHRpbmdzKCkge1xyXG4gICAgdGhpcy5fbmFtZSA9ICduYXZpZ2F0ZSdcclxuICAgIHRoaXMuX3NjaGVtYSA9IHtcclxuICAgICAgb2xkVVJMOiBTdHJpbmcsXHJcbiAgICAgIG5ld1VSTDogU3RyaW5nLFxyXG4gICAgICBjdXJyZW50Um91dGU6IFN0cmluZyxcclxuICAgICAgY3VycmVudENvbnRyb2xsZXI6IFN0cmluZyxcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiTVZDLlJvdXRlciA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gIH1cbiAgZ2V0IHByb3RvY29sKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sIH1cbiAgZ2V0IGhvc3RuYW1lKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIH1cbiAgZ2V0IHBvcnQoKSB7IHJldHVybiB3aW5kb3cubG9jYXRpb24ucG9ydCB9XG4gIGdldCBwYXRoKCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lIH1cbiAgZ2V0IGhhc2goKSB7XG4gICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKVxuICAgIGlmKGhhc2hJbmRleCA+IC0xKSB7XG4gICAgICBsZXQgcGFyYW1JbmRleCA9IGhyZWYuaW5kZXhPZignPycpXG4gICAgICBsZXQgc2xpY2VTdGFydCA9IGhhc2hJbmRleCArIDFcbiAgICAgIGxldCBzbGljZVN0b3BcbiAgICAgIGlmKHBhcmFtSW5kZXggPiAtMSkge1xuICAgICAgICBzbGljZVN0b3AgPSAoaGFzaEluZGV4ID4gcGFyYW1JbmRleClcbiAgICAgICAgICA/IGhyZWYubGVuZ3RoXG4gICAgICAgICAgOiBwYXJhbUluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGljZVN0b3AgPSBocmVmLmxlbmd0aFxuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYuc2xpY2Uoc2xpY2VTdGFydCwgc2xpY2VTdG9wKVxuICAgICAgaWYoaHJlZi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGhyZWZcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG4gIGdldCBwYXJhbXMoKSB7XG4gICAgbGV0IGhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCBwYXJhbUluZGV4ID0gaHJlZi5pbmRleE9mKCc/JylcbiAgICBpZihwYXJhbUluZGV4ID4gLTEpIHtcbiAgICAgIGxldCBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKVxuICAgICAgbGV0IHNsaWNlU3RhcnQgPSBwYXJhbUluZGV4ICsgMVxuICAgICAgbGV0IHNsaWNlU3RvcFxuICAgICAgaWYoaGFzaEluZGV4ID4gLTEpIHtcbiAgICAgICAgc2xpY2VTdG9wID0gKHBhcmFtSW5kZXggPiBoYXNoSW5kZXgpXG4gICAgICAgICAgPyBocmVmLmxlbmd0aFxuICAgICAgICAgIDogaGFzaEluZGV4XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGljZVN0b3AgPSBocmVmLmxlbmd0aFxuICAgICAgfVxuICAgICAgaHJlZiA9IGhyZWYuc2xpY2Uoc2xpY2VTdGFydCwgc2xpY2VTdG9wKVxuICAgICAgaWYoaHJlZi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGhyZWZcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG4gIGdldCBfcm91dGVEYXRhKCkge1xuICAgIGxldCByb3V0ZURhdGEgPSB7fVxuICAgIGxldCBwYXRoID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgIHBhdGggPSAocGF0aC5sZW5ndGgpXG4gICAgICA/IHBhdGhcbiAgICAgIDogWycvJ11cbiAgICBsZXQgaGFzaCA9IHRoaXMuaGFzaFxuICAgIGxldCBoYXNoRnJhZ21lbnRzID0gKGhhc2gpXG4gICAgICA/IGhhc2guc3BsaXQoJy8nKS5maWx0ZXIoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5sZW5ndGgpXG4gICAgICA6IG51bGxcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wYXJhbXNcbiAgICBsZXQgcGFyYW1EYXRhID0gKHBhcmFtcylcbiAgICAgID8gTVZDLlV0aWxzLnBhcmFtc1RvT2JqZWN0KHBhcmFtcylcbiAgICAgIDogbnVsbFxuICAgIGlmKHRoaXMucHJvdG9jb2wpIHJvdXRlRGF0YS5wcm90b2NvbCA9IHRoaXMucHJvdG9jb2xcbiAgICBpZih0aGlzLmhvc3RuYW1lKSByb3V0ZURhdGEuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lXG4gICAgaWYodGhpcy5wb3J0KSByb3V0ZURhdGEucG9ydCA9IHRoaXMucG9ydFxuICAgIGlmKHRoaXMucGF0aCkgcm91dGVEYXRhLnBhdGggPSB0aGlzLnBhdGhcbiAgICBpZihcbiAgICAgIGhhc2ggJiZcbiAgICAgIGhhc2hGcmFnbWVudHNcbiAgICApIHtcbiAgICAgIGhhc2hGcmFnbWVudHMgPSAoaGFzaEZyYWdtZW50cy5sZW5ndGgpXG4gICAgICA/IGhhc2hGcmFnbWVudHNcbiAgICAgIDogWycvJ11cbiAgICAgIHJvdXRlRGF0YS5oYXNoID0ge1xuICAgICAgICBwYXRoOiBoYXNoLFxuICAgICAgICBmcmFnbWVudHM6IGhhc2hGcmFnbWVudHMsXG4gICAgICB9XG4gICAgfVxuICAgIGlmKFxuICAgICAgcGFyYW1zICYmXG4gICAgICBwYXJhbURhdGFcbiAgICApIHtcbiAgICAgIHJvdXRlRGF0YS5wYXJhbXMgPSB7XG4gICAgICAgIHBhdGg6IHBhcmFtcyxcbiAgICAgICAgZGF0YTogcGFyYW1EYXRhLFxuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZURhdGEucGF0aCA9IHtcbiAgICAgIG5hbWU6IHRoaXMucGF0aCxcbiAgICAgIGZyYWdtZW50czogcGF0aCxcbiAgICB9XG4gICAgcm91dGVEYXRhLmN1cnJlbnRVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICByb3V0ZURhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgcm91dGVEYXRhLFxuICAgICAgdGhpcy5fcm91dGVDb250cm9sbGVyRGF0YVxuICAgIClcbiAgICB0aGlzLnJvdXRlRGF0YSA9IHJvdXRlRGF0YVxuICAgIHJldHVybiB0aGlzLnJvdXRlRGF0YVxuICB9XG4gIGdldCBfcm91dGVDb250cm9sbGVyRGF0YSgpIHtcbiAgICBsZXQgcm91dGVEYXRhID0ge31cbiAgICBPYmplY3QuZW50cmllcyh0aGlzLnJvdXRlcylcbiAgICAgIC5mb3JFYWNoKChbcm91dGVQYXRoLCByb3V0ZVNldHRpbmdzXSkgPT4ge1xuICAgICAgICBsZXQgcGF0aEZyYWdtZW50cyA9IHRoaXMucGF0aC5zcGxpdCgnLycpLmZpbHRlcigoZnJhZ21lbnQpID0+IGZyYWdtZW50Lmxlbmd0aClcbiAgICAgICAgcGF0aEZyYWdtZW50cyA9IChwYXRoRnJhZ21lbnRzLmxlbmd0aClcbiAgICAgICAgICA/IHBhdGhGcmFnbWVudHNcbiAgICAgICAgICA6IFsnLyddXG4gICAgICAgIGxldCByb3V0ZUZyYWdtZW50cyA9IHJvdXRlUGF0aC5zcGxpdCgnLycpLmZpbHRlcigoZnJhZ21lbnQsIGZyYWdtZW50SW5kZXgpID0+IGZyYWdtZW50Lmxlbmd0aClcbiAgICAgICAgcm91dGVGcmFnbWVudHMgPSAocm91dGVGcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgID8gcm91dGVGcmFnbWVudHNcbiAgICAgICAgICA6IFsnLyddXG4gICAgICAgIGlmKFxuICAgICAgICAgIHBhdGhGcmFnbWVudHMubGVuZ3RoICYmXG4gICAgICAgICAgcGF0aEZyYWdtZW50cy5sZW5ndGggPT09IHJvdXRlRnJhZ21lbnRzLmxlbmd0aFxuICAgICAgICApIHtcbiAgICAgICAgICBsZXQgbWF0Y2hcbiAgICAgICAgICByZXR1cm4gcm91dGVGcmFnbWVudHMuZmlsdGVyKChyb3V0ZUZyYWdtZW50LCByb3V0ZUZyYWdtZW50SW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmKFxuICAgICAgICAgICAgICBtYXRjaCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgIG1hdGNoID09PSB0cnVlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYocm91dGVGcmFnbWVudFswXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgcm91dGVEYXRhW3JvdXRlRnJhZ21lbnQucmVwbGFjZSgnOicsICcnKV0gPSBwYXRoRnJhZ21lbnRzW3JvdXRlRnJhZ21lbnRJbmRleF1cbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gdGhpcy5mcmFnbWVudElEUmVnRXhwXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm91dGVGcmFnbWVudCA9IHJvdXRlRnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCcvJywgJ2dpJyksICdcXFxcXFwvJylcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gdGhpcy5yb3V0ZUZyYWdtZW50TmFtZVJlZ0V4cChyb3V0ZUZyYWdtZW50KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1hdGNoID0gcm91dGVGcmFnbWVudC50ZXN0KHBhdGhGcmFnbWVudHNbcm91dGVGcmFnbWVudEluZGV4XSlcbiAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgbWF0Y2ggPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50SW5kZXggPT09IHBhdGhGcmFnbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByb3V0ZURhdGEucm91dGUgPSB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiByb3V0ZVBhdGgsXG4gICAgICAgICAgICAgICAgICBmcmFnbWVudHM6IHJvdXRlRnJhZ21lbnRzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZURhdGEuY29udHJvbGxlciA9IHJvdXRlU2V0dGluZ3NcbiAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVTZXR0aW5nc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlbMF1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICByZXR1cm4gcm91dGVEYXRhXG4gIH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfcm91dGVzKCkge1xuICAgIHRoaXMucm91dGVzID0gKHRoaXMucm91dGVzKVxuICAgICAgPyB0aGlzLnJvdXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnJvdXRlc1xuICB9XG4gIHNldCBfcm91dGVzKHJvdXRlcykge1xuICAgIHRoaXMucm91dGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcywgdGhpcy5fcm91dGVzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlcigpIHsgcmV0dXJuIHRoaXMuY29udHJvbGxlciB9XG4gIHNldCBfY29udHJvbGxlcihjb250cm9sbGVyKSB7IHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXIgfVxuICBnZXQgX3ByZXZpb3VzVVJMKCkgeyByZXR1cm4gdGhpcy5wcmV2aW91c1VSTCB9XG4gIHNldCBfcHJldmlvdXNVUkwocHJldmlvdXNVUkwpIHsgdGhpcy5wcmV2aW91c1VSTCA9IHByZXZpb3VzVVJMIH1cbiAgZ2V0IF9jdXJyZW50VVJMKCkgeyByZXR1cm4gdGhpcy5jdXJyZW50VVJMIH1cbiAgc2V0IF9jdXJyZW50VVJMKGN1cnJlbnRVUkwpIHtcbiAgICBpZih0aGlzLmN1cnJlbnRVUkwpIHRoaXMuX3ByZXZpb3VzVVJMID0gdGhpcy5jdXJyZW50VVJMXG4gICAgdGhpcy5jdXJyZW50VVJMID0gY3VycmVudFVSTFxuICB9XG4gIGdldCBmcmFnbWVudElEUmVnRXhwKCkgeyByZXR1cm4gbmV3IFJlZ0V4cCgvXihbMC05QS1aXFw/XFw9XFwsXFwuXFwqXFwtXFxfXFwnXFxcIlxcXlxcJVxcJFxcI1xcQFxcIVxcflxcKFxcKVxce1xcfVxcJlxcPFxcPlxcXFxcXC9dKSokLywgJ2dpJykgfVxuICByb3V0ZUZyYWdtZW50TmFtZVJlZ0V4cChmcmFnbWVudCkgeyByZXR1cm4gbmV3IFJlZ0V4cCgnXicuY29uY2F0KGZyYWdtZW50LCAnJCcpKSB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5lbmFibGVFbWl0dGVycygpXG4gICAgICB0aGlzLmVuYWJsZUV2ZW50cygpXG4gICAgICB0aGlzLmVuYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLnJvdXRlQ2hhbmdlKClcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgIHRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlRXZlbnRzKClcbiAgICAgIHRoaXMuZGlzYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLmRpc2FibGVFbWl0dGVycygpXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbiAgZW5hYmxlUm91dGVzKCkge1xuICAgIGlmKHRoaXMuc2V0dGluZ3MuY29udHJvbGxlcikgdGhpcy5fY29udHJvbGxlciA9IHRoaXMuc2V0dGluZ3MuY29udHJvbGxlclxuICAgIHRoaXMuX3JvdXRlcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZ3Mucm91dGVzKS5yZWR1Y2UoXG4gICAgICAoXG4gICAgICAgIF9yb3V0ZXMsXG4gICAgICAgIFtyb3V0ZVBhdGgsIHJvdXRlU2V0dGluZ3NdLFxuICAgICAgICByb3V0ZUluZGV4LFxuICAgICAgICBvcmlnaW5hbFJvdXRlcyxcbiAgICAgICkgPT4ge1xuICAgICAgICBfcm91dGVzW3JvdXRlUGF0aF0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHJvdXRlU2V0dGluZ3MsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY29udHJvbGxlcltyb3V0ZVNldHRpbmdzLmNhbGxiYWNrXS5iaW5kKHRoaXMuY29udHJvbGxlciksXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBfcm91dGVzXG4gICAgICB9LFxuICAgICAge31cbiAgICApXG4gICAgcmV0dXJuXG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgdGhpcy5fZW1pdHRlcnMgPSB7XG4gICAgICBuYXZpZ2F0ZUVtaXR0ZXI6IG5ldyBNVkMuRW1pdHRlcnMuTmF2aWdhdGUoKSxcbiAgICB9XG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVycy5uYXZpZ2F0ZUVtaXR0ZXJcbiAgfVxuICBkaXNhYmxlUm91dGVzKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXNcbiAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlclxuICB9XG4gIGVuYWJsZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMucm91dGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgfVxuICBkaXNhYmxlRXZlbnRzKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5yb3V0ZUNoYW5nZS5iaW5kKHRoaXMpKVxuICB9XG4gIHJvdXRlQ2hhbmdlKCkge1xuICAgIHRoaXMuX2N1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZlxuICAgIGxldCByb3V0ZURhdGEgPSB0aGlzLl9yb3V0ZURhdGFcbiAgICBpZihyb3V0ZURhdGEuY29udHJvbGxlcikge1xuICAgICAgbGV0IG5hdmlnYXRlRW1pdHRlciA9IHRoaXMuZW1pdHRlcnMubmF2aWdhdGVFbWl0dGVyXG4gICAgICBpZih0aGlzLnByZXZpb3VzVVJMKSByb3V0ZURhdGEucHJldmlvdXNVUkwgPSB0aGlzLnByZXZpb3VzVVJMXG4gICAgICBuYXZpZ2F0ZUVtaXR0ZXJcbiAgICAgICAgLnVuc2V0KClcbiAgICAgICAgLnNldChyb3V0ZURhdGEpXG4gICAgICB0aGlzLmVtaXQoXG4gICAgICAgIG5hdmlnYXRlRW1pdHRlci5uYW1lLFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIuZW1pc3Npb24oKVxuICAgICAgKVxuICAgICAgcm91dGVEYXRhLmNvbnRyb2xsZXIuY2FsbGJhY2soXG4gICAgICAgIG5hdmlnYXRlRW1pdHRlci5lbWlzc2lvbigpXG4gICAgICApXG4gICAgfVxuICB9XG4gIG5hdmlnYXRlKHBhdGgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGhcbiAgfVxufVxuIl0sImZpbGUiOiJicm93c2VyL212Yy1mcmFtZXdvcmstbWluLmpzIn0=

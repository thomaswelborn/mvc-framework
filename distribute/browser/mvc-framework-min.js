var MVC=MVC||{};MVC.Constants={},MVC.CONST=MVC.Constants,MVC.Constants.Events={},MVC.CONST.EV=MVC.Constants.Events,MVC.Constants.Operators={},MVC.CONST.Operators={},MVC.CONST.Operators.Comparison={EQ:"EQ",STEQ:"STEQ",NOEQ:"NOEQ",STNOEQ:"STNOEQ",GT:"GT",LT:"LT",GTE:"GTE",LTE:"LTE"},MVC.CONST.Operators.Statement={AND:"AND",OR:"OR"},console.log(MVC.CONST),MVC.Utils={},MVC.Utils.isArray=function(t){return Array.isArray(t)},MVC.Utils.isObject=function(t){return!Array.isArray(t)&&null!==t&&"object"==typeof t},MVC.Utils.typeOf=function(t){return"object"==typeof valueA?MVC.Utils.isObject(valueA)?"object":MVC.Utils.isArray(valueA)?"array":null===valueA?"null":void 0:typeof t},MVC.Utils.isHTMLElement=function(t){return t instanceof HTMLElement},MVC.Utils.typeOf=function(t){switch(typeof t){case"object":return MVC.Utils.isArray(t)?"array":MVC.Utils.isObject(t)?"object":null===t?"null":void 0;case"string":case"number":case"boolean":case"undefined":case"function":return typeof t}},MVC.Utils.addPropertiesToObject=function(){var t;switch(arguments.length){case 2:var e=arguments[0];for(var[s,i]of(t=arguments[1],Object.entries(e)))t[s]=i;break;case 3:var r=arguments[0],a=arguments[1];(t=arguments[2])[r]=a}return t},MVC.Utils.objectQuery=function(t,e){var s=MVC.Utils.objectQuery.parseNotation(t);return"@"===s[0]&&s.splice(0,1),s.length?(e=MVC.Utils.isObject(e)?Object.entries(e):e,s.reduce((t,e,s,i)=>{var r=[];for(var[a,n]of(e=MVC.Utils.objectQuery.parseFragment(e),t))a.match(e)&&(r=s===i.length-1?r.concat([[a,n]]):r.concat(Object.entries(n)));return t=r},e)):e},MVC.Utils.objectQuery.parseNotation=function(t){return t="["===t.charAt(0)&&"]"==t.charAt(t.length-1)?t.slice(1,-1).split("]["):t.split(".")},MVC.Utils.objectQuery.parseFragment=function(t){return"/"===t.charAt(0)&&"/"==t.charAt(t.length-1)&&(t=t.slice(1,-1),t=new RegExp("^".concat(t,"$"))),t},MVC.Utils.toggleEventsForTargetObjects=function(t,e,s,i){for(var[r,a]of Object.entries(e)){var n=r.split(" "),l=n[0],h=n[1],o=MVC.Utils.objectQuery(l,s);for(var[c,u]of o=MVC.Utils.isArray(o)?o:[["@",o]]){var v="on"===t?u instanceof NodeList||u instanceof HTMLElement||u instanceof Document?"addEventListener":"on":u instanceof NodeList||u instanceof HTMLElement||u instanceof Document?"removeEventListener":"off",d=MVC.Utils.objectQuery(a,i)[0][1];if(u instanceof NodeList)for(var b of u)b[v](h,d);else HTMLElement,u[v](h,d)}}},MVC.Utils.bindEventsToTargetObjects=function(){this.toggleEventsForTargetObjects("on",...arguments)},MVC.Utils.unbindEventsFromTargetObjects=function(){this.toggleEventsForTargetObjects("off",...arguments)},MVC.Events=class{constructor(){}get _events(){return this.events=this.events?this.events:{},this.events}getEventCallbacks(t){return this._events[t]||{}}getEventCallbackName(t){return t.name.length?t.name:"anonymousFunction"}getEventCallbackGroup(t,e){return t[e]||[]}on(t,e){var s=this.getEventCallbacks(t),i=this.getEventCallbackName(e),r=this.getEventCallbackGroup(s,i);return r.push(e),s[i]=r,this._events[t]=s,this}off(){switch(arguments.length){case 0:delete this._events;break;case 1:var t=arguments[0];delete this._events[t];break;case 2:t=arguments[0];var e=arguments[1],s="string"==typeof e?e:this.getEventCallbackName(e);delete this._events[t][s],0===Object.keys(this._events[t]).length&&delete this._events[t]}}emit(t,e){var s=Object.values(arguments),i=Object.entries(this.getEventCallbacks(t));for(var[r,a]of i)for(var n of a){n(e,...s.splice(2)||[])}}},MVC.Channels=class{constructor(){}get _channels(){return this.channels=this.channels?this.channels:{},this.channels}channel(t){return this._channels[t]=this._channels[t]?this._channels[t]:new MVC.Channels.Channel,this._channels[t]}off(t){delete this._channels[t]}},MVC.Channels.Channel=class{constructor(){}get _responses(){return this.responses=this.responses?this.responses:{},this.responses}response(t,e){if(!e)return this._responses[response];this._responses[t]=e}request(t,e){if(this._responses[t])return this._responses[t](e)}off(t){if(t)delete this._responses[t];else for(var[e]of Object.keys(this._responses))delete this._responses[e]}},MVC.Base=class extends MVC.Events{constructor(t,e){super(),e&&(this._configuration=e),t&&(this._settings=t)}get _configuration(){return this.configuration=this.configuration?this.configuration:{},this.configuration}set _configuration(t){this.configuration=t}get _settings(){return this.settings=this.settings?this.settings:{},this.settings}set _settings(t){this.settings=MVC.Utils.addPropertiesToObject(t,this._settings)}get _emitters(){return this.emitters=this.emitters?this.emitters:{},this.emitters}set _emitters(t){this.emitters=MVC.Utils.addPropertiesToObject(t,this._emitters)}},MVC.Service=class extends MVC.Base{constructor(){super(...arguments)}get _defaults(){return this.defaults||{contentType:{"Content-Type":"application/json"},responseType:"json"}}get _responseTypes(){return["","arraybuffer","blob","document","json","text"]}get _responseType(){return this.responseType}set _responseType(t){this._xhr.responseType=this._responseTypes.find(e=>e===t)||this._defaults.responseType}get _type(){return this.type}set _type(t){this.type=t}get _url(){return this.url}set _url(t){this.url=t}get _headers(){return this.headers||[]}set _headers(t){this._headers.length=0,t.forEach(t=>{this._headers.push(t),t=Object.entries(t)[0],this._xhr.setRequestHeader(t[0],t[1])})}get _data(){return this.data}set _data(t){this.data=t}get _xhr(){return this.xhr=this.xhr?this.xhr:new XMLHttpRequest,this.xhr}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}request(t){return t=t||this.data||null,new Promise((e,s)=>{200===this._xhr.status&&this._xhr.abort(),this._xhr.open(this.type,this.url),this._headers=this.settings.headers||[this._defaults.contentType],this._xhr.onload=e,this._xhr.onerror=s,this._xhr.send(t)}).then(t=>(this.emit("xhr:resolve",{name:"xhr:resolve",data:t.currentTarget}),t)).catch(t=>{throw t})}enable(){var t=this.settings;return!this.enabled&&Object.keys(t).length&&(t.type&&(this._type=t.type),t.url&&(this._url=t.url),t.data&&(this._data=t.data||null),this.settings.responseType&&(this._responseType=this._settings.responseType),this._enabled=!0),this}disable(){var t=this.settings;return this.enabled&&Object.keys(t).length&&(delete this._type,delete this._url,delete this._data,delete this._headers,delete this._responseType,this._enabled=!1),this}},MVC.Validator=class{constructor(t){this._schema=t}get _schema(){return this.schema}set _schema(t){this.schema=t}get _results(){return this.results}set _results(t){this.results=t}get _data(){return this.data}set _data(t){this.data=t}validate(t){this._data=t;var e={};return Object.entries(this._schema).forEach(s=>{var[i,r]=s,a={},n=t[i];if(a.key=i,r.required&&(a.required=this.required(n,r.required)),r.type&&(a.type=this.type(n,r.type)),r.evaluations){var l=this.evaluations(n,r.evaluations);a.evaluations=this.evaluationResults(l)}e[i]=a}),this._results=e,e}required(t,e){var s={value:t},i=Object.assign({pass:"Value is defined.",fail:"Value is not defined."},e.messages);switch(t=void 0!==t,MVC.Utils.typeOf(e)){case"boolean":s.comparator=e,s.result=t===e;break;case"object":s.comparator=e.value,s.result=t===e.value}return s.message=s.result?i.pass:i.fail,s}type(t,e){var s={value:t},i=Object.assign({pass:"Valid Type.",fail:"Invalid Type."},e.messages);switch(MVC.Utils.typeOf(e)){case"string":s.comparator,s.result=MVC.Utils.typeOf(t)===e;break;case"object":s.result=MVC.Utils.typeOf(t)===e.value}return s.message=s.result?i.pass:i.fail,s}evaluations(t,e){return e.reduce((e,s,i)=>{if(MVC.Utils.isArray(s))e.push(...this.evaluations(t,s));else{s.value=t;var r=this.compareValues(s.value,s.comparison.value,s.comparator,s.messages);s.results=s.results||{},s.results.value=r,e.push(s)}if(e.length>1){var a=e[i];if(a.comparison.statement){e[i-1];var n=a.results.statement?a.results.statement.result:a.results.value.result,l=this.compareStatements(n,a.comparison.statement,a.results.value.result,a.messages);a.results=a.results||{},a.results.statement=l}}return e},[])}evaluationResults(t){var e={pass:[],fail:[]};return t.forEach(t=>{t.results.statement?!1===t.results.statement.result?e.fail.push(t):!0===t.results.statement.result&&e.pass.push(t):t.results.value&&(!1===t.results.value.result?e.fail.push(t):!0===t.results.value.result&&e.pass.push(t))}),e}compareValues(t,e,s,i){var r;switch(e){case MVC.CONST.Operators.Comparison.EQ:r=t==s;break;case MVC.CONST.Operators.Comparison.STEQ:r=t===s;break;case MVC.CONST.Operators.Comparison.NOEQ:r=t!=s;break;case MVC.CONST.Operators.Comparison.STNOEQ:r=t!==s;break;case MVC.CONST.Operators.Comparison.GT:r=t>s;break;case MVC.CONST.Operators.Comparison.LT:r=t<s;break;case MVC.CONST.Operators.Comparison.GTE:r=t>=s;break;case MVC.CONST.Operators.Comparison.LTE:r=t<=s}return{result:r,message:r?i.pass:i.fail}}compareStatements(t,e,s,i){var r;switch(e){case MVC.CONST.Operators.Statement.AND:r=t&&s;break;case MVC.CONST.Operators.Statement.OR:r=t||s}return{result:r,message:r?i.pass:i.fail}}},MVC.Model=class extends MVC.Base{constructor(){super(...arguments)}get _validator(){return this.validator}set _validator(t){this.validator=new MVC.Validator(t)}get _isSetting(){return this.isSetting}set _isSetting(t){this.isSetting=t}get _changing(){return this.changing=this.changing?this.changing:{},this.changing}get _localStorage(){return this.localStorage}set _localStorage(t){this.localStorage=t}get _defaults(){return this.defaults}set _defaults(t){this.defaults=t}get _schema(){return this._schema}set _schema(t){this.schema=t}get _histiogram(){return this.histiogram||{length:1}}set _histiogram(t){this.histiogram=Object.assign(this._histiogram,t)}get _history(){return this.history=this.history?this.history:[],this.history}set _history(t){Object.keys(t).length&&this._histiogram.length&&(this._history.unshift(this.parse(t)),this._history.splice(this._histiogram.length))}get _db(){var t=localStorage.getItem(this.localStorage.endpoint);return this.db=t||"{}",JSON.parse(this.db)}set _db(t){t=JSON.stringify(t),localStorage.setItem(this.localStorage.endpoint,t)}get _data(){return this.data=this.data?this.data:{},this.data}get _dataEvents(){return this.dataEvents=this.dataEvents?this.dataEvents:{},this.dataEvents}set _dataEvents(t){this.dataEvents=MVC.Utils.addPropertiesToObject(t,this._dataEvents)}get _dataCallbacks(){return this.dataCallbacks=this.dataCallbacks?this.dataCallbacks:{},this.dataCallbacks}set _dataCallbacks(t){this.dataCallbacks=MVC.Utils.addPropertiesToObject(t,this._dataCallbacks)}get _services(){return this.services=this.services?this.services:{},this.services}set _services(t){this.services=MVC.Utils.addPropertiesToObject(t,this._services)}get _serviceEvents(){return this.serviceEvents=this.serviceEvents?this.serviceEvents:{},this.serviceEvents}set _serviceEvents(t){this.serviceEvents=MVC.Utils.addPropertiesToObject(t,this._serviceEvents)}get _serviceCallbacks(){return this.serviceCallbacks=this.serviceCallbacks?this.serviceCallbacks:{},this.serviceCallbacks}set _serviceCallbacks(t){this.serviceCallbacks=MVC.Utils.addPropertiesToObject(t,this._serviceCallbacks)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableServiceEvents(){MVC.Utils.bindEventsToTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}disableServiceEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}enableDataEvents(){MVC.Utils.bindEventsToTargetObjects(this.dataEvents,this,this.dataCallbacks)}disableDataEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.dataEvents,this,this.dataCallbacks)}setDefaults(){var t={};this.defaults&&Object.assign(t,this.defaults),this.localStorage&&Object.assign(t,this._db),Object.keys(t)&&this.set(t)}get(){switch(arguments.length){case 0:return this.data;case 1:var t=arguments[0];return this.data[t]}}set(){switch(this._history=this.parse(),arguments.length){case 1:this._isSetting=!0;var t=Object.entries(arguments[0]);t.forEach((e,s)=>{var[i,r]=e;s===t.length-1&&(this._isSetting=!1),this._changing[i]=r,this.setDataProperty(i,r),this.localStorage&&this.setDB(i,r)}),delete this.changing;break;case 2:var e=arguments[0],s=arguments[1];this.setDataProperty(e,s),this.localStorage&&this.setDB(e,s)}if(this._validator){var i=this.emitters.validate;this._validator.validate(JSON.parse(JSON.stringify(this.data))),i.set({data:this.validator.data,results:this.validator.results}),this.emit(i.name,i.emission())}return this}unset(){switch(this._history=this.parse(),arguments.length){case 0:for(var t of Object.keys(this._data))this.unsetDataProperty(t);break;case 1:var e=arguments[0];this.unsetDataProperty(e)}return this}setDB(){var t=this._db;switch(arguments.length){case 1:Object.entries(arguments[0]).forEach(e=>{var[s,i]=e;t[s]=i});break;case 2:var e=arguments[0],s=arguments[1];t[e]=s}return this._db=t,this}unsetDB(){switch(arguments.length){case 0:delete this._db;break;case 1:var t=this._db;delete t[arguments[0]],this._db=t}return this}setDataProperty(t,e){if(!this._data["_".concat(t)]){var s=this;Object.defineProperties(this._data,{["_".concat(t)]:{configurable:!0,get(){return this[t]},set(e){this[t]=e;var i=["set",":",t].join("");s.emit(i,{name:i,data:{key:t,value:e}},s),s._isSetting||(Object.values(s._changing).length?s.emit("set",{name:"set",data:s._changing}):s.emit("set",{name:"set",data:{key:t,value:e}},s))}}})}return this._data["_".concat(t)]=e,this}unsetDataProperty(t){var e=["unset",":",t].join(""),s=this._data[t];return delete this._data["_".concat(t)],delete this._data[t],this.emit(e,{name:e,data:{key:t,value:s}}),this.emit("unset",{name:"unset",data:{key:t,value:s}}),this}parse(t){return t=t||this._data,JSON.parse(JSON.stringify(Object.assign({},t)))}enableEmitters(){return Object.assign(this._emitters,this.settings.emitters,{validate:new MVC.Emitters.Validate}),this}disableEmitters(){return delete this._emitters,this}enable(){return this.settings&&!this.enabled&&(this.enableEmitters(),this.settings.validator&&(this._validator=this.settings.validator),this.settings.localStorage&&(this._localStorage=this.settings.localStorage),this.settings.histiogram&&(this._histiogram=this.settings.histiogram),this.settings.services&&(this._services=this.settings.services),this.settings.serviceCallbacks&&(this._serviceCallbacks=this.settings.serviceCallbacks),this.settings.serviceEvents&&(this._serviceEvents=this.settings.serviceEvents),this.settings.data&&this.set(this.settings.data),this.settings.dataCallbacks&&(this._dataCallbacks=this.settings.dataCallbacks),this.settings.dataEvents&&(this._dataEvents=this.settings.dataEvents),this.settings.schema&&(this._schema=this.settings.schema),this.settings.defaults&&(this._defaults=this.settings.defaults),this.services&&this.serviceEvents&&this.serviceCallbacks&&this.enableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.enableDataEvents(),this._enabled=!0),this}disable(){return this.settings&&!this.enabled&&(this.services&&this.serviceEvents&&this.serviceCallbacks&&this.disableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.disableDataEvents(),delete this._localStorage,delete this._histiogram,delete this._services,delete this._serviceCallbacks,delete this._serviceEvents,delete this._data,delete this._dataCallbacks,delete this._dataEvents,delete this._schema,delete this._validator,this.disableEmitters(),this._enabled=!1),this}},MVC.Emitter=class extends MVC.Model{constructor(){super(...arguments),this.settings&&this.settings.name&&(this._name=this.settings.name)}get _name(){return this.name}set _name(t){this.name=t}emission(){var t={name:this.name,data:this.data};return this.emit(this.name,t),t}},MVC.Emitters={},MVC.Emitters.Navigate=class extends MVC.Emitter{constructor(){super(...arguments),this.addSettings(),this.enable()}addSettings(){this._name="navigate",this._schema={oldURL:String,newURL:String,currentRoute:String,currentController:String}}},MVC.Emitters.Validate=class extends MVC.Emitter{constructor(){super(...arguments),this.addSettings(),this.enable()}addSettings(){this._name="validate",this._schema={data:Object,results:Object}}},MVC.View=class extends MVC.Base{constructor(){super(...arguments)}get _elementName(){return this._element.tagName}set _elementName(t){this._element||(this._element=document.createElement(t))}get _element(){return this.element}set _element(t){t instanceof HTMLElement||t instanceof Document?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}get _attributes(){return this._element.attributes}set _attributes(t){for(var[e,s]of Object.entries(t))void 0===s?this._element.removeAttribute(e):this._element.setAttribute(e,s)}get _ui(){return this.ui=this.ui?this.ui:{},this.ui}set _ui(t){for(var[e,s]of(this._ui.$element||(this._ui.$element=this.element),Object.entries(t)))"string"==typeof s?this._ui[e]=this._element.querySelectorAll(s):(s instanceof HTMLElement||s instanceof Document)&&(this._ui[e]=s)}get _uiEvents(){return this.uiEvents}set _uiEvents(t){this.uiEvents=t}get _uiCallbacks(){return this.uiCallbacks=this.uiCallbacks?this.uiCallbacks:{},this.uiCallbacks}set _uiCallbacks(t){this.uiCallbacks=MVC.Utils.addPropertiesToObject(t,this._uiCallbacks)}get _observerCallbacks(){return this.observerCallbacks=this.observerCallbacks?this.observerCallbacks:{},this.observerCallbacks}set _observerCallbacks(t){this.observerCallbacks=MVC.Utils.addPropertiesToObject(t,this._observerCallbacks)}get elementObserver(){return this._elementObserver=this._elementObserver?this._elementObserver:new MutationObserver(this.elementObserve.bind(this)),this._elementObserver}get _insert(){return this.insert}set _insert(t){this.insert=t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _templates(){return this.templates=this.templates?this.templates:{},this.templates}set _templates(t){this.templates=MVC.Utils.addPropertiesToObject(t,this._templates)}elementObserve(t,e){for(var[s,i]of Object.entries(t))switch(i.type){case"childList":for(var r of["addedNodes","removedNodes"])i[r].length&&this.resetUI()}}autoInsert(){this.insert&&document.querySelectorAll(this.insert.element).forEach(t=>{t.insertAdjacentElement(this.insert.method,this.element)})}autoRemove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}enableElement(t){(t=t||this.settings).elementName&&(this._elementName=t.elementName),t.element&&(this._element=t.element),t.attributes&&(this._attributes=t.attributes),t.templates&&(this._templates=t.templates),t.insert&&(this._insert=t.insert)}disableElement(t){t=t||this.settings,this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element&&delete this.element,this.attributes&&delete this.attributes,this.templates&&delete this.templates,this.insert&&delete this.insert}resetUI(){this.disableUI(),this.enableUI()}enableUI(t){(t=t||this.settings).ui&&(this._ui=t.ui),t.uiCallbacks&&(this._uiCallbacks=t.uiCallbacks),t.uiEvents&&(this._uiEvents=t.uiEvents,this.enableUIEvents())}disableUI(t){(t=t||this.settings).uiEvents&&(this.disableUIEvents(),delete this._uiEvents),delete this.uiEvents,delete this.ui,delete this.uiCallbacks}enableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.bindEventsToTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}disableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.unbindEventsFromTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}enableEmitters(){this.settings.emitters&&(this._emitters=this.settings.emitters)}disableEmitters(){this._emitters&&delete this._emitters}enable(){var t=this.settings;if(t&&!this._enabled)return this.enableEmitters(),this.enableElement(t),this.enableUI(t),this._enabled=!0,this}disable(){var t=this.settings;if(t&&this._enabled)return this.disableUI(t),this.disableElement(t),this.disableEmitters(),this._enabled=!1,thiss}},MVC.Controller=class extends MVC.Base{constructor(){super(...arguments)}get _emitterCallbacks(){return this.emitterCallbacks=this.emitterCallbacks?this.emitterCallbacks:{},this.emitterCallbacks}set _emitterCallbacks(t){this.emitterCallbacks=MVC.Utils.addPropertiesToObject(t,this._emitterCallbacks)}get _modelCallbacks(){return this.modelCallbacks=this.modelCallbacks?this.modelCallbacks:{},this.modelCallbacks}set _modelCallbacks(t){this.modelCallbacks=MVC.Utils.addPropertiesToObject(t,this._modelCallbacks)}get _viewCallbacks(){return this.viewCallbacks=this.viewCallbacks?this.viewCallbacks:{},this.viewCallbacks}set _viewCallbacks(t){this.viewCallbacks=MVC.Utils.addPropertiesToObject(t,this._viewCallbacks)}get _controllerCallbacks(){return this.controllerCallbacks=this.controllerCallbacks?this.controllerCallbacks:{},this.controllerCallbacks}set _controllerCallbacks(t){this.controllerCallbacks=MVC.Utils.addPropertiesToObject(t,this._controllerCallbacks)}get _models(){return this.models=this.models?this.models:{},this.models}set _models(t){this.models=MVC.Utils.addPropertiesToObject(t,this._models)}get _views(){return this.views=this.views?this.views:{},this.views}set _views(t){this.views=MVC.Utils.addPropertiesToObject(t,this._views)}get _controllers(){return this.controllers=this.controllers?this.controllers:{},this.controllers}set _controllers(t){this.controllers=MVC.Utils.addPropertiesToObject(t,this._controllers)}get _routers(){return this.routers=this.routers?this.routers:{},this.routers}set _routers(t){this.routers=MVC.Utils.addPropertiesToObject(t,this._routers)}get _routerEvents(){return this.routerEvents=this.routerEvents?this.routerEvents:{},this.routerEvents}set _routerEvents(t){this.routerEvents=MVC.Utils.addPropertiesToObject(t,this._routerEvents)}get _routerCallbacks(){return this.routerCallbacks=this.routerCallbacks?this.routerCallbacks:{},this.routerCallbacks}set _routerCallbacks(t){this.routerCallbacks=MVC.Utils.addPropertiesToObject(t,this._routerCallbacks)}get _emitterEvents(){return this.emitterEvents=this.emitterEvents?this.emitterEvents:{},this.emitterEvents}set _emitterEvents(t){this.emitterEvents=MVC.Utils.addPropertiesToObject(t,this._emitterEvents)}get _modelEvents(){return this.modelEvents=this.modelEvents?this.modelEvents:{},this.modelEvents}set _modelEvents(t){this.modelEvents=MVC.Utils.addPropertiesToObject(t,this._modelEvents)}get _viewEvents(){return this.viewEvents=this.viewEvents?this.viewEvents:{},this.viewEvents}set _viewEvents(t){this.viewEvents=MVC.Utils.addPropertiesToObject(t,this._viewEvents)}get _controllerEvents(){return this.controllerEvents=this.controllerEvents?this.controllerEvents:{},this.controllerEvents}set _controllerEvents(t){this.controllerEvents=MVC.Utils.addPropertiesToObject(t,this._controllerEvents)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableModelEvents(){MVC.Utils.bindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}disableModelEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}enableViewEvents(){MVC.Utils.bindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}disableViewEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}enableControllerEvents(){MVC.Utils.bindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}disableControllerEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}enableEmitterEvents(){MVC.Utils.bindEventsToTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}disableEmitterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}enableRouterEvents(){MVC.Utils.bindEventsToTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}disableRouterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}enable(){var t=this.settings;t&&!this.enabled&&(t.modelCallbacks&&(this._modelCallbacks=t.modelCallbacks),t.viewCallbacks&&(this._viewCallbacks=t.viewCallbacks),t.controllerCallbacks&&(this._controllerCallbacks=t.controllerCallbacks),t.emitterCallbacks&&(this._emitterCallbacks=t.emitterCallbacks),t.routerCallbacks&&(this._routerCallbacks=t.routerCallbacks),t.models&&(this._models=t.models),t.views&&(this._views=t.views),t.controllers&&(this._controllers=t.controllers),t.emitters&&(this._emitters=t.emitters),t.routers&&(this._routers=t.routers),t.modelEvents&&(this._modelEvents=t.modelEvents),t.viewEvents&&(this._viewEvents=t.viewEvents),t.controllerEvents&&(this._controllerEvents=t.controllerEvents),t.emitterEvents&&(this._emitterEvents=t.emitterEvents),t.routerEvents&&(this._routerEvents=t.routerEvents),this.modelEvents&&this.models&&this.modelCallbacks&&this.enableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.enableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.enableControllerEvents(),this.routerEvents&&this.routers&&this.routerCallbacks&&this.enableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&this.enableEmitterEvents(),this._enabled=!0)}reset(){this.disable(),this.enable()}disable(){this.settings&&this.enabled&&(this.modelEvents&&this.models&&this.modelCallbacks&&this.disableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.disableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.disableControllerEvents()),this.routerEvents&&this.routers&&this.routerCallbacks&&this.disableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&(this.disableEmitterEvents(),delete this._modelCallbacks,delete this._viewCallbacks,delete this._controllerCallbacks,delete this._emitterCallbacks,delete this._routerCallbacks,delete this._models,delete this._views,delete this._controllers,delete this._emitters,delete this._routers,delete this._routerEvents,delete this._modelEvents,delete this._viewEvents,delete this._controllerEvents,delete this._emitterEvents,this._enabled=!1)}},MVC.Router=class extends MVC.Base{constructor(){super(...arguments)}get protocol(){return window.location.protocol}get hostname(){return window.location.hostname}get port(){return window.location.port}get path(){return window.location.pathname}get hash(){var t=window.location.href,e=t.indexOf("#");if(e>-1){var s,i=t.indexOf("?"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get params(){var t=window.location.href,e=t.indexOf("?");if(e>-1){var s,i=t.indexOf("#"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get _routeData(){var t={location:{},controller:{}},e=this.path.split("/").filter(t=>t.length);e=e.length?e:["/"];var s=this.hash,i=s?s.split("/").filter(t=>t.length):null,r=this.params,a=r?MVC.Utils.paramsToObject(r):null;this.protocol&&(t.location.protocol=this.protocol),this.hostname&&(t.location.hostname=this.hostname),this.port&&(t.location.port=this.port),this.path&&(t.location.path=this.path),s&&i&&(i=i.length?i:["/"],t.location.hash={path:s,fragments:i}),r&&a&&(t.location.params={path:r,data:a}),t.location.path={name:this.path,fragments:e},t.location.currentURL=this.currentURL;var n=this._routeControllerData;return t.location=Object.assign(t.location,n.location),t.controller=n.controller,this.routeData=t,this.routeData}get _routeControllerData(){var t={location:{}};return Object.entries(this.routes).forEach(e=>{var[s,i]=e,r=this.path.split("/").filter(t=>t.length);r=r.length?r:["/"];var a,n=s.split("/").filter((t,e)=>t.length);if(n=n.length?n:["/"],r.length&&r.length===n.length)return n.filter((e,l)=>{if(void 0===a||!0===a){if(":"===e[0]){var h=e.replace(":","");l===r.length-1&&(t.location.currentIDKey=h),t.location[h]=r[l],e=this.fragmentIDRegExp}else e=e.replace(new RegExp("/","gi"),"\\/"),e=this.routeFragmentNameRegExp(e);if(!0===(a=e.test(r[l]))&&l===r.length-1)return t.location.route={name:s,fragments:n},t.controller=i,i}})[0]}),t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _routes(){return this.routes=this.routes?this.routes:{},this.routes}set _routes(t){this.routes=MVC.Utils.addPropertiesToObject(t,this._routes)}get _controller(){return this.controller}set _controller(t){this.controller=t}get _previousURL(){return this.previousURL}set _previousURL(t){this.previousURL=t}get _currentURL(){return this.currentURL}set _currentURL(t){this.currentURL&&(this._previousURL=this.currentURL),this.currentURL=t}get fragmentIDRegExp(){return new RegExp(/^([0-9A-Z\?\=\,\.\*\-\_\'\"\^\%\$\#\@\!\~\(\)\{\}\&\<\>\\\/])*$/,"gi")}routeFragmentNameRegExp(t){return new RegExp("^".concat(t,"$"))}enable(){return this.enabled||(this.enableEmitters(),this.enableEvents(),this.enableRoutes(),this._enabled=!0),this}disable(){this.enabled&&(this.disableEvents(),this.disableRoutes(),this.disableEmitters(),this._enabled=!1)}enableRoutes(){return this.settings.controller&&(this._controller=this.settings.controller),this._routes=Object.entries(this.settings.routes).reduce((t,e,s,i)=>{var[r,a]=e;return t[r]=Object.assign(a,{callback:this.controller[a.callback].bind(this.controller)}),t},{}),this}enableEmitters(){return Object.assign(this._emitters,this.settings.emitters,{navigateEmitter:new MVC.Emitters.Navigate}),this}disableEmitters(){delete this._emitters.navigateEmitter}disableRoutes(){delete this._routes,delete this._controller}enableEvents(){return window.addEventListener("hashchange",this.routeChange.bind(this)),this}disableEvents(){window.removeEventListener("hashchange",this.routeChange.bind(this))}routeChange(){this._currentURL=window.location.href;var t=this._routeData;if(t.controller){var e=this.emitters.navigateEmitter;this.previousURL&&(t.previousURL=this.previousURL),e.unset().set(t),this.emit(e.name,e.emission()),t.controller.callback(e.emission())}return this}navigate(t){window.location.href=t}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1WQy5qcyIsIkNvbnN0YW50cy5qcyIsIkV2ZW50cy5qcyIsIk9wZXJhdG9ycy5qcyIsImluZGV4LmpzIiwiaXMuanMiLCJ0eXBlT2YuanMiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QuanMiLCJvYmplY3RRdWVyeS5qcyIsInRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMuanMiLCJDaGFubmVscy5qcyIsIkNoYW5uZWwuanMiLCJCYXNlLmpzIiwiU2VydmljZS5qcyIsIlZhbGlkYXRvci5qcyIsIk1vZGVsLmpzIiwiRW1pdHRlci5qcyIsIk5hdmlnYXRlLmpzIiwiVmFsaWRhdGUuanMiLCJWaWV3LmpzIiwiQ29udHJvbGxlci5qcyIsIlJvdXRlci5qcyJdLCJuYW1lcyI6WyJNVkMiLCJDb25zdGFudHMiLCJDT05TVCIsIkV2ZW50cyIsIkVWIiwiT3BlcmF0b3JzIiwiQ29tcGFyaXNvbiIsIkVRIiwiU1RFUSIsIk5PRVEiLCJTVE5PRVEiLCJHVCIsIkxUIiwiR1RFIiwiTFRFIiwiU3RhdGVtZW50IiwiQU5EIiwiT1IiLCJjb25zb2xlIiwibG9nIiwiVXRpbHMiLCJpc0FycmF5Iiwib2JqZWN0IiwiQXJyYXkiLCJpc09iamVjdCIsInR5cGVPZiIsInZhbHVlIiwidmFsdWVBIiwidW5kZWZpbmVkIiwiaXNIVE1MRWxlbWVudCIsIkhUTUxFbGVtZW50IiwiZGF0YSIsImFkZFByb3BlcnRpZXNUb09iamVjdCIsInRhcmdldE9iamVjdCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInByb3BlcnRpZXMiLCJfcHJvcGVydHlOYW1lIiwiX3Byb3BlcnR5VmFsdWUiLCJPYmplY3QiLCJlbnRyaWVzIiwicHJvcGVydHlOYW1lIiwicHJvcGVydHlWYWx1ZSIsIm9iamVjdFF1ZXJ5Iiwic3RyaW5nIiwiY29udGV4dCIsInN0cmluZ0RhdGEiLCJwYXJzZU5vdGF0aW9uIiwic3BsaWNlIiwicmVkdWNlIiwiZnJhZ21lbnQiLCJmcmFnbWVudEluZGV4IiwiZnJhZ21lbnRzIiwicHJvcGVydHlLZXkiLCJwYXJzZUZyYWdtZW50IiwibWF0Y2giLCJjb25jYXQiLCJjaGFyQXQiLCJzbGljZSIsInNwbGl0IiwiUmVnRXhwIiwidG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cyIsInRvZ2dsZU1ldGhvZCIsImV2ZW50cyIsInRhcmdldE9iamVjdHMiLCJjYWxsYmFja3MiLCJldmVudFNldHRpbmdzIiwiZXZlbnRDYWxsYmFja05hbWUiLCJldmVudERhdGEiLCJldmVudFRhcmdldFNldHRpbmdzIiwiZXZlbnROYW1lIiwiZXZlbnRUYXJnZXRzIiwiZXZlbnRUYXJnZXROYW1lIiwiZXZlbnRUYXJnZXQiLCJldmVudE1ldGhvZE5hbWUiLCJOb2RlTGlzdCIsIkRvY3VtZW50IiwiZXZlbnRDYWxsYmFjayIsIl9ldmVudFRhcmdldCIsImJpbmRFdmVudHNUb1RhcmdldE9iamVjdHMiLCJ0aGlzIiwidW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMiLCJbb2JqZWN0IE9iamVjdF0iLCJfZXZlbnRzIiwibmFtZSIsImV2ZW50Q2FsbGJhY2tzIiwiZ2V0RXZlbnRDYWxsYmFja3MiLCJnZXRFdmVudENhbGxiYWNrTmFtZSIsImV2ZW50Q2FsbGJhY2tHcm91cCIsImdldEV2ZW50Q2FsbGJhY2tHcm91cCIsInB1c2giLCJrZXlzIiwiX2FyZ3VtZW50cyIsInZhbHVlcyIsImV2ZW50Q2FsbGJhY2tHcm91cE5hbWUiLCJDaGFubmVscyIsIl9jaGFubmVscyIsImNoYW5uZWxzIiwiY2hhbm5lbE5hbWUiLCJDaGFubmVsIiwiX3Jlc3BvbnNlcyIsInJlc3BvbnNlcyIsInJlc3BvbnNlTmFtZSIsInJlc3BvbnNlQ2FsbGJhY2siLCJyZXNwb25zZSIsInJlcXVlc3REYXRhIiwiX3Jlc3BvbnNlTmFtZSIsIkJhc2UiLCJzZXR0aW5ncyIsImNvbmZpZ3VyYXRpb24iLCJzdXBlciIsIl9jb25maWd1cmF0aW9uIiwiX3NldHRpbmdzIiwiX2VtaXR0ZXJzIiwiZW1pdHRlcnMiLCJTZXJ2aWNlIiwiX2RlZmF1bHRzIiwiZGVmYXVsdHMiLCJjb250ZW50VHlwZSIsIkNvbnRlbnQtVHlwZSIsInJlc3BvbnNlVHlwZSIsIl9yZXNwb25zZVR5cGVzIiwiX3Jlc3BvbnNlVHlwZSIsIl94aHIiLCJmaW5kIiwicmVzcG9uc2VUeXBlSXRlbSIsIl90eXBlIiwidHlwZSIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmb3JFYWNoIiwiaGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsIl9kYXRhIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJfZW5hYmxlZCIsImVuYWJsZWQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXR1cyIsImFib3J0Iiwib3BlbiIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzZW5kIiwidGhlbiIsImVtaXQiLCJjdXJyZW50VGFyZ2V0IiwiY2F0Y2giLCJlcnJvciIsIlZhbGlkYXRvciIsInNjaGVtYSIsIl9zY2hlbWEiLCJfcmVzdWx0cyIsInJlc3VsdHMiLCJ2YWxpZGF0aW9uU3VtbWFyeSIsIl9yZWYiLCJzY2hlbWFLZXkiLCJzY2hlbWFTZXR0aW5ncyIsInZhbGlkYXRpb24iLCJrZXkiLCJyZXF1aXJlZCIsImV2YWx1YXRpb25zIiwidmFsaWRhdGlvbkV2YWx1YXRpb25zIiwiZXZhbHVhdGlvblJlc3VsdHMiLCJtZXNzYWdlcyIsImFzc2lnbiIsInBhc3MiLCJmYWlsIiwiY29tcGFyYXRvciIsInJlc3VsdCIsIm1lc3NhZ2UiLCJfZXZhbHVhdGlvbnMiLCJldmFsdWF0aW9uIiwiZXZhbHVhdGlvbkluZGV4IiwidmFsdWVDb21wYXJpc29uIiwiY29tcGFyZVZhbHVlcyIsImNvbXBhcmlzb24iLCJjdXJyZW50RXZhbHVhdGlvbiIsInN0YXRlbWVudCIsInByZXZpb3VzRXZhbHVhdGlvbkNvbXBhcmlzb25WYWx1ZSIsInN0YXRlbWVudENvbXBhcmlzb24iLCJjb21wYXJlU3RhdGVtZW50cyIsImV2YWx1YXRpb25WYWxpZGF0aW9uIiwib3BlcmF0b3IiLCJldmFsdWF0aW9uUmVzdWx0IiwiTW9kZWwiLCJfdmFsaWRhdG9yIiwidmFsaWRhdG9yIiwiX2lzU2V0dGluZyIsImlzU2V0dGluZyIsIl9jaGFuZ2luZyIsImNoYW5naW5nIiwiX2xvY2FsU3RvcmFnZSIsImxvY2FsU3RvcmFnZSIsIl9oaXN0aW9ncmFtIiwiaGlzdGlvZ3JhbSIsIl9oaXN0b3J5IiwiaGlzdG9yeSIsInVuc2hpZnQiLCJwYXJzZSIsIl9kYiIsImRiIiwiZ2V0SXRlbSIsImVuZHBvaW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJfZGF0YUV2ZW50cyIsImRhdGFFdmVudHMiLCJfZGF0YUNhbGxiYWNrcyIsImRhdGFDYWxsYmFja3MiLCJfc2VydmljZXMiLCJzZXJ2aWNlcyIsIl9zZXJ2aWNlRXZlbnRzIiwic2VydmljZUV2ZW50cyIsIl9zZXJ2aWNlQ2FsbGJhY2tzIiwic2VydmljZUNhbGxiYWNrcyIsInNldCIsImluZGV4Iiwic2V0RGF0YVByb3BlcnR5Iiwic2V0REIiLCJ2YWxpZGF0ZUVtaXR0ZXIiLCJ2YWxpZGF0ZSIsImVtaXNzaW9uIiwiX2tleSIsInVuc2V0RGF0YVByb3BlcnR5IiwiX3JlZjIiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY29uZmlndXJhYmxlIiwic2V0VmFsdWVFdmVudE5hbWUiLCJqb2luIiwidW5zZXRWYWx1ZUV2ZW50TmFtZSIsInVuc2V0VmFsdWUiLCJFbWl0dGVycyIsIlZhbGlkYXRlIiwiZW5hYmxlRW1pdHRlcnMiLCJlbmFibGVTZXJ2aWNlRXZlbnRzIiwiZW5hYmxlRGF0YUV2ZW50cyIsImRpc2FibGVTZXJ2aWNlRXZlbnRzIiwiZGlzYWJsZURhdGFFdmVudHMiLCJkaXNhYmxlRW1pdHRlcnMiLCJFbWl0dGVyIiwiX25hbWUiLCJOYXZpZ2F0ZSIsImFkZFNldHRpbmdzIiwiZW5hYmxlIiwib2xkVVJMIiwiU3RyaW5nIiwibmV3VVJMIiwiY3VycmVudFJvdXRlIiwiY3VycmVudENvbnRyb2xsZXIiLCJWaWV3IiwiX2VsZW1lbnROYW1lIiwiX2VsZW1lbnQiLCJ0YWdOYW1lIiwiZWxlbWVudE5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImVsZW1lbnRPYnNlcnZlciIsIm9ic2VydmUiLCJzdWJ0cmVlIiwiY2hpbGRMaXN0IiwiX2F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiYXR0cmlidXRlS2V5IiwiYXR0cmlidXRlVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJfdWkiLCJ1aSIsInVpS2V5IiwidWlWYWx1ZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdWlFdmVudHMiLCJ1aUV2ZW50cyIsIl91aUNhbGxiYWNrcyIsInVpQ2FsbGJhY2tzIiwiX29ic2VydmVyQ2FsbGJhY2tzIiwib2JzZXJ2ZXJDYWxsYmFja3MiLCJfZWxlbWVudE9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImVsZW1lbnRPYnNlcnZlIiwiYmluZCIsIl9pbnNlcnQiLCJpbnNlcnQiLCJfdGVtcGxhdGVzIiwidGVtcGxhdGVzIiwibXV0YXRpb25SZWNvcmRMaXN0Iiwib2JzZXJ2ZXIiLCJtdXRhdGlvblJlY29yZEluZGV4IiwibXV0YXRpb25SZWNvcmQiLCJtdXRhdGlvblJlY29yZENhdGVnb3J5IiwicmVzZXRVSSIsImluc2VydEFkamFjZW50RWxlbWVudCIsIm1ldGhvZCIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsImRpc2FibGVVSSIsImVuYWJsZVVJIiwiZW5hYmxlVUlFdmVudHMiLCJkaXNhYmxlVUlFdmVudHMiLCJlbmFibGVFbGVtZW50IiwiZGlzYWJsZUVsZW1lbnQiLCJ0aGlzcyIsIkNvbnRyb2xsZXIiLCJfZW1pdHRlckNhbGxiYWNrcyIsImVtaXR0ZXJDYWxsYmFja3MiLCJfbW9kZWxDYWxsYmFja3MiLCJtb2RlbENhbGxiYWNrcyIsIl92aWV3Q2FsbGJhY2tzIiwidmlld0NhbGxiYWNrcyIsIl9jb250cm9sbGVyQ2FsbGJhY2tzIiwiY29udHJvbGxlckNhbGxiYWNrcyIsIl9tb2RlbHMiLCJtb2RlbHMiLCJfdmlld3MiLCJ2aWV3cyIsIl9jb250cm9sbGVycyIsImNvbnRyb2xsZXJzIiwiX3JvdXRlcnMiLCJyb3V0ZXJzIiwiX3JvdXRlckV2ZW50cyIsInJvdXRlckV2ZW50cyIsIl9yb3V0ZXJDYWxsYmFja3MiLCJyb3V0ZXJDYWxsYmFja3MiLCJfZW1pdHRlckV2ZW50cyIsImVtaXR0ZXJFdmVudHMiLCJfbW9kZWxFdmVudHMiLCJtb2RlbEV2ZW50cyIsIl92aWV3RXZlbnRzIiwidmlld0V2ZW50cyIsIl9jb250cm9sbGVyRXZlbnRzIiwiY29udHJvbGxlckV2ZW50cyIsImVuYWJsZU1vZGVsRXZlbnRzIiwiZW5hYmxlVmlld0V2ZW50cyIsImVuYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJlbmFibGVSb3V0ZXJFdmVudHMiLCJlbmFibGVFbWl0dGVyRXZlbnRzIiwiZGlzYWJsZSIsImRpc2FibGVNb2RlbEV2ZW50cyIsImRpc2FibGVWaWV3RXZlbnRzIiwiZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJkaXNhYmxlUm91dGVyRXZlbnRzIiwiZGlzYWJsZUVtaXR0ZXJFdmVudHMiLCJSb3V0ZXIiLCJwcm90b2NvbCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aCIsInBhdGhuYW1lIiwiaGFzaCIsImhyZWYiLCJoYXNoSW5kZXgiLCJpbmRleE9mIiwic2xpY2VTdG9wIiwicGFyYW1JbmRleCIsInNsaWNlU3RhcnQiLCJwYXJhbXMiLCJfcm91dGVEYXRhIiwicm91dGVEYXRhIiwiY29udHJvbGxlciIsImZpbHRlciIsImhhc2hGcmFnbWVudHMiLCJwYXJhbURhdGEiLCJwYXJhbXNUb09iamVjdCIsImN1cnJlbnRVUkwiLCJyb3V0ZUNvbnRyb2xsZXJEYXRhIiwiX3JvdXRlQ29udHJvbGxlckRhdGEiLCJyb3V0ZXMiLCJyb3V0ZVBhdGgiLCJyb3V0ZVNldHRpbmdzIiwicGF0aEZyYWdtZW50cyIsInJvdXRlRnJhZ21lbnRzIiwicm91dGVGcmFnbWVudCIsInJvdXRlRnJhZ21lbnRJbmRleCIsImN1cnJlbnRJREtleSIsInJlcGxhY2UiLCJmcmFnbWVudElEUmVnRXhwIiwicm91dGVGcmFnbWVudE5hbWVSZWdFeHAiLCJ0ZXN0Iiwicm91dGUiLCJfcm91dGVzIiwiX2NvbnRyb2xsZXIiLCJfcHJldmlvdXNVUkwiLCJwcmV2aW91c1VSTCIsIl9jdXJyZW50VVJMIiwiZW5hYmxlRXZlbnRzIiwiZW5hYmxlUm91dGVzIiwiZGlzYWJsZUV2ZW50cyIsImRpc2FibGVSb3V0ZXMiLCJyb3V0ZUluZGV4Iiwib3JpZ2luYWxSb3V0ZXMiLCJjYWxsYmFjayIsIm5hdmlnYXRlRW1pdHRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyb3V0ZUNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bnNldCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsSUFBTUEsS0FBTyxHQUNqQkEsSUFBSUMsVUFBWSxHQUNoQkQsSUFBSUUsTUFBUUYsSUFBSUMsVUFDaEJELElBQUlDLFVBQVVFLE9BQVMsR0FDdkJILElBQUlFLE1BQU1FLEdBQUtKLElBQUlDLFVBQVVFLE9BQzdCSCxJQUFJQyxVQUFVSSxVQUFZLEdBQzFCTCxJQUFJRSxNQUFNRyxVQUFZLEdBQ3RCTCxJQUFJRSxNQUFNRyxVQUFVQyxXQUFhLENBQy9CQyxHQUFJLEtBQ0pDLEtBQU0sT0FDTkMsS0FBTSxPQUNOQyxPQUFRLFNBQ1JDLEdBQUksS0FDSkMsR0FBSSxLQUNKQyxJQUFLLE1BQ0xDLElBQUssT0FFUGQsSUFBSUUsTUFBTUcsVUFBVVUsVUFBWSxDQUM5QkMsSUFBSyxNQUNMQyxHQUFJLE1BRU5DLFFBQVFDLElBQUluQixJQUFJRSxPQUNoQkYsSUFBSW9CLE1BQVEsR0FDWnBCLElBQUlvQixNQUFNQyxRQUFVLFNBQWlCQyxHQUNuQyxPQUFPQyxNQUFNRixRQUFRQyxJQUd2QnRCLElBQUlvQixNQUFNSSxTQUFXLFNBQWtCRixHQUNyQyxPQUFRQyxNQUFNRixRQUFRQyxJQUFzQixPQUFYQSxHQUFvQyxpQkFB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QUdqRUUsY0FDRUYsS0FBSzBULFlBQWN6QyxPQUFPQyxTQUFTTSxLQUNuQyxJQUFJUSxFQUFZaFMsS0FBSytSLFdBRXJCLEdBQUlDLEVBQVVDLFdBQVksQ0FDeEIsSUFBSWlDLEVBQWtCbFUsS0FBS2tDLFNBQVNnUyxnQkFDaENsVSxLQUFLeVQsY0FBYXpCLEVBQVV5QixZQUFjelQsS0FBS3lULGFBQ25EUyxFQUFnQkksUUFBUXhMLElBQUlrSixHQUM1QmhTLEtBQUtzRSxLQUFLNFAsRUFBZ0I5VCxLQUFNOFQsRUFBZ0I5SyxZQUNoRDRJLEVBQVVDLFdBQVdnQyxTQUFTQyxFQUFnQjlLLFlBR2hELE9BQU9wSixLQUdURSxTQUFTbVIsR0FDUEosT0FBT0MsU0FBU00sS0FBT0giLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTVZDID0gTVZDIHx8IHt9XHJcbiIsIk1WQy5Db25zdGFudHMgPSB7fVxuTVZDLkNPTlNUID0gTVZDLkNvbnN0YW50c1xuIiwiTVZDLkNvbnN0YW50cy5FdmVudHMgPSB7fVxyXG5NVkMuQ09OU1QuRVYgPSBNVkMuQ29uc3RhbnRzLkV2ZW50c1xyXG4iLCJNVkMuQ29uc3RhbnRzLk9wZXJhdG9ycyA9IHt9XHJcbk1WQy5DT05TVC5PcGVyYXRvcnMgPSB7fVxyXG5NVkMuQ09OU1QuT3BlcmF0b3JzLkNvbXBhcmlzb24gPSB7XHJcbiAgRVE6ICdFUScsXHJcbiAgU1RFUTogJ1NURVEnLFxyXG4gIE5PRVE6ICdOT0VRJyxcclxuICBTVE5PRVE6ICdTVE5PRVEnLFxyXG4gIEdUOiAnR1QnLFxyXG4gIExUOiAnTFQnLFxyXG4gIEdURTogJ0dURScsXHJcbiAgTFRFOiAnTFRFJyxcclxufVxyXG5NVkMuQ09OU1QuT3BlcmF0b3JzLlN0YXRlbWVudCA9IHtcclxuICBBTkQ6ICdBTkQnLFxyXG4gIE9SOiAnT1InXHJcbn1cclxuY29uc29sZS5sb2coTVZDLkNPTlNUKVxyXG4iLCJNVkMuRW1pdHRlcnMgPSB7fVxyXG4iLCJNVkMuVXRpbHMuaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkob2JqZWN0KSB7IHJldHVybiBBcnJheS5pc0FycmF5KG9iamVjdCkgfVxyXG5NVkMuVXRpbHMuaXNPYmplY3QgPSBmdW5jdGlvbiBpc09iamVjdChvYmplY3QpIHtcclxuICByZXR1cm4gKFxyXG4gICAgIUFycmF5LmlzQXJyYXkob2JqZWN0KSAmJlxyXG4gICAgb2JqZWN0ICE9PSBudWxsXHJcbiAgKSA/IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnXHJcbiAgICA6IGZhbHNlXHJcbn1cclxuTVZDLlV0aWxzLnR5cGVPZiA9IGZ1bmN0aW9uIHR5cGVPZih2YWx1ZSkge1xyXG4gIHJldHVybiAodHlwZW9mIHZhbHVlQSA9PT0gJ29iamVjdCcpXHJcbiAgICA/IChNVkMuVXRpbHMuaXNPYmplY3QodmFsdWVBKSlcclxuICAgICAgPyAnb2JqZWN0J1xyXG4gICAgICA6IChNVkMuVXRpbHMuaXNBcnJheSh2YWx1ZUEpKVxyXG4gICAgICAgID8gJ2FycmF5J1xyXG4gICAgICAgIDogKHZhbHVlQSA9PT0gbnVsbClcclxuICAgICAgICAgID8gJ251bGwnXHJcbiAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgOiB0eXBlb2YgdmFsdWVcclxufVxyXG5NVkMuVXRpbHMuaXNIVE1MRWxlbWVudCA9IGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQob2JqZWN0KSB7XHJcbiAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbn1cclxuIiwiTVZDLlV0aWxzLnR5cGVPZiA9ICBmdW5jdGlvbiB0eXBlT2YoZGF0YSkge1xyXG4gIHN3aXRjaCh0eXBlb2YgZGF0YSkge1xyXG4gICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgbGV0IF9vYmplY3RcclxuICAgICAgaWYoTVZDLlV0aWxzLmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAvLyBBcnJheVxyXG4gICAgICAgIHJldHVybiAnYXJyYXknXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBNVkMuVXRpbHMuaXNPYmplY3QoZGF0YSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8gT2JqZWN0XHJcbiAgICAgICAgcmV0dXJuICdvYmplY3QnXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBkYXRhID09PSBudWxsXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE51bGxcclxuICAgICAgICByZXR1cm4gJ251bGwnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIF9vYmplY3RcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICBjYXNlICdudW1iZXInOlxyXG4gICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICByZXR1cm4gdHlwZW9mIGRhdGFcclxuICAgICAgYnJlYWtcclxuICB9XHJcbn1cclxuIiwiTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdCA9IGZ1bmN0aW9uIGFkZFByb3BlcnRpZXNUb09iamVjdCgpIHtcclxuICBsZXQgdGFyZ2V0T2JqZWN0XHJcbiAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGNhc2UgMjpcclxuICAgICAgbGV0IHByb3BlcnRpZXMgPSBhcmd1bWVudHNbMF1cclxuICAgICAgdGFyZ2V0T2JqZWN0ID0gYXJndW1lbnRzWzFdXHJcbiAgICAgIGZvcihsZXQgW3Byb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykpIHtcclxuICAgICAgICB0YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWVcclxuICAgICAgfVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAzOlxyXG4gICAgICBsZXQgcHJvcGVydHlOYW1lID0gYXJndW1lbnRzWzBdXHJcbiAgICAgIGxldCBwcm9wZXJ0eVZhbHVlID0gYXJndW1lbnRzWzFdXHJcbiAgICAgIHRhcmdldE9iamVjdCA9IGFyZ3VtZW50c1syXVxyXG4gICAgICB0YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWVcclxuICAgICAgYnJlYWtcclxuICB9XHJcbiAgcmV0dXJuIHRhcmdldE9iamVjdFxyXG59XHJcbiIsIk1WQy5VdGlscy5vYmplY3RRdWVyeSA9IGZ1bmN0aW9uIG9iamVjdFF1ZXJ5KFxyXG4gIHN0cmluZyxcclxuICBjb250ZXh0XHJcbikge1xyXG4gIGxldCBzdHJpbmdEYXRhID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlTm90YXRpb24oc3RyaW5nKVxyXG4gIGlmKHN0cmluZ0RhdGFbMF0gPT09ICdAJykgc3RyaW5nRGF0YS5zcGxpY2UoMCwgMSlcclxuICBpZighc3RyaW5nRGF0YS5sZW5ndGgpIHJldHVybiBjb250ZXh0XHJcbiAgY29udGV4dCA9IChNVkMuVXRpbHMuaXNPYmplY3QoY29udGV4dCkpXHJcbiAgICA/IE9iamVjdC5lbnRyaWVzKGNvbnRleHQpXHJcbiAgICA6IGNvbnRleHRcclxuICByZXR1cm4gc3RyaW5nRGF0YS5yZWR1Y2UoKG9iamVjdCwgZnJhZ21lbnQsIGZyYWdtZW50SW5kZXgsIGZyYWdtZW50cykgPT4ge1xyXG4gICAgbGV0IHByb3BlcnRpZXMgPSBbXVxyXG4gICAgZnJhZ21lbnQgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudChmcmFnbWVudClcclxuICAgIGZvcihsZXQgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXSBvZiBvYmplY3QpIHtcclxuICAgICAgaWYocHJvcGVydHlLZXkubWF0Y2goZnJhZ21lbnQpKSB7XHJcbiAgICAgICAgaWYoZnJhZ21lbnRJbmRleCA9PT0gZnJhZ21lbnRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXV0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChPYmplY3QuZW50cmllcyhwcm9wZXJ0eVZhbHVlKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG9iamVjdCA9IHByb3BlcnRpZXNcclxuICAgIHJldHVybiBvYmplY3RcclxuICB9LCBjb250ZXh0KVxyXG59XHJcbk1WQy5VdGlscy5vYmplY3RRdWVyeS5wYXJzZU5vdGF0aW9uID0gZnVuY3Rpb24gcGFyc2VOb3RhdGlvbihzdHJpbmcpIHtcclxuICBpZihcclxuICAgIHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJyAmJlxyXG4gICAgc3RyaW5nLmNoYXJBdChzdHJpbmcubGVuZ3RoIC0gMSkgPT0gJ10nXHJcbiAgKSB7XHJcbiAgICBzdHJpbmcgPSBzdHJpbmdcclxuICAgICAgLnNsaWNlKDEsIC0xKVxyXG4gICAgICAuc3BsaXQoJ11bJylcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyaW5nID0gc3RyaW5nXHJcbiAgICAgIC5zcGxpdCgnLicpXHJcbiAgfVxyXG4gIHJldHVybiBzdHJpbmdcclxufVxyXG5NVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudCA9IGZ1bmN0aW9uIHBhcnNlRnJhZ21lbnQoZnJhZ21lbnQpIHtcclxuICBpZihcclxuICAgIGZyYWdtZW50LmNoYXJBdCgwKSA9PT0gJy8nICYmXHJcbiAgICBmcmFnbWVudC5jaGFyQXQoZnJhZ21lbnQubGVuZ3RoIC0gMSkgPT0gJy8nXHJcbiAgKSB7XHJcbiAgICBmcmFnbWVudCA9IGZyYWdtZW50LnNsaWNlKDEsIC0xKVxyXG4gICAgZnJhZ21lbnQgPSBuZXcgUmVnRXhwKCdeJy5jb25jYXQoZnJhZ21lbnQsICckJykpXHJcbiAgfVxyXG4gIHJldHVybiBmcmFnbWVudFxyXG59XHJcbiIsIk1WQy5VdGlscy50b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gdG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cyhcclxuICB0b2dnbGVNZXRob2QsXHJcbiAgZXZlbnRzLFxyXG4gIHRhcmdldE9iamVjdHMsXHJcbiAgY2FsbGJhY2tzXHJcbikge1xyXG4gIGZvcihsZXQgW2V2ZW50U2V0dGluZ3MsIGV2ZW50Q2FsbGJhY2tOYW1lXSBvZiBPYmplY3QuZW50cmllcyhldmVudHMpKSB7XHJcbiAgICBsZXQgZXZlbnREYXRhID0gZXZlbnRTZXR0aW5ncy5zcGxpdCgnICcpXHJcbiAgICBsZXQgZXZlbnRUYXJnZXRTZXR0aW5ncyA9IGV2ZW50RGF0YVswXVxyXG4gICAgbGV0IGV2ZW50TmFtZSA9IGV2ZW50RGF0YVsxXVxyXG4gICAgbGV0IGV2ZW50VGFyZ2V0cyA9IE1WQy5VdGlscy5vYmplY3RRdWVyeShcclxuICAgICAgZXZlbnRUYXJnZXRTZXR0aW5ncyxcclxuICAgICAgdGFyZ2V0T2JqZWN0c1xyXG4gICAgKVxyXG4gICAgZXZlbnRUYXJnZXRzID0gKCFNVkMuVXRpbHMuaXNBcnJheShldmVudFRhcmdldHMpKVxyXG4gICAgICA/IFtbJ0AnLCBldmVudFRhcmdldHNdXVxyXG4gICAgICA6IGV2ZW50VGFyZ2V0c1xyXG4gICAgZm9yKGxldCBbZXZlbnRUYXJnZXROYW1lLCBldmVudFRhcmdldF0gb2YgZXZlbnRUYXJnZXRzKSB7XHJcbiAgICAgIGxldCBldmVudE1ldGhvZE5hbWUgPSAodG9nZ2xlTWV0aG9kID09PSAnb24nKVxyXG4gICAgICA/IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdhZGRFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29uJ1xyXG4gICAgICA6IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdyZW1vdmVFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29mZidcclxuICAgICAgbGV0IGV2ZW50Q2FsbGJhY2sgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkoXHJcbiAgICAgICAgZXZlbnRDYWxsYmFja05hbWUsXHJcbiAgICAgICAgY2FsbGJhY2tzXHJcbiAgICAgIClbMF1bMV1cclxuICAgICAgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgIGZvcihsZXQgX2V2ZW50VGFyZ2V0IG9mIGV2ZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBfZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbk1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cygpIHtcclxuICB0aGlzLnRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMoJ29uJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbk1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyA9IGZ1bmN0aW9uIHVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzKCkge1xyXG4gIHRoaXMudG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cygnb2ZmJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbiIsIk1WQy5DaGFubmVscyA9IGNsYXNzIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcbiAgZ2V0IF9jaGFubmVscygpIHtcclxuICAgIHRoaXMuY2hhbm5lbHMgPSAodGhpcy5jaGFubmVscylcclxuICAgICAgPyB0aGlzLmNoYW5uZWxzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLmNoYW5uZWxzXHJcbiAgfVxyXG4gIGNoYW5uZWwoY2hhbm5lbE5hbWUpIHtcclxuICAgIHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXSA9ICh0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV0pXHJcbiAgICAgID8gdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdXHJcbiAgICAgIDogbmV3IE1WQy5DaGFubmVscy5DaGFubmVsKClcclxuICAgIHJldHVybiB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV1cclxuICB9XHJcbiAgb2ZmKGNoYW5uZWxOYW1lKSB7XHJcbiAgICBkZWxldGUgdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5DaGFubmVscy5DaGFubmVsID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBnZXQgX3Jlc3BvbnNlcygpIHtcclxuICAgIHRoaXMucmVzcG9uc2VzID0gKHRoaXMucmVzcG9uc2VzKVxyXG4gICAgICA/IHRoaXMucmVzcG9uc2VzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlc1xyXG4gIH1cclxuICByZXNwb25zZShyZXNwb25zZU5hbWUsIHJlc3BvbnNlQ2FsbGJhY2spIHtcclxuICAgIGlmKHJlc3BvbnNlQ2FsbGJhY2spIHtcclxuICAgICAgdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV0gPSByZXNwb25zZUNhbGxiYWNrXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlXVxyXG4gICAgfVxyXG4gIH1cclxuICByZXF1ZXN0KHJlc3BvbnNlTmFtZSwgcmVxdWVzdERhdGEpIHtcclxuICAgIGlmKHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXShyZXF1ZXN0RGF0YSlcclxuICAgIH1cclxuICB9XHJcbiAgb2ZmKHJlc3BvbnNlTmFtZSkge1xyXG4gICAgaWYocmVzcG9uc2VOYW1lKSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yKGxldCBbcmVzcG9uc2VOYW1lXSBvZiBPYmplY3Qua2V5cyh0aGlzLl9yZXNwb25zZXMpKSB7XHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiTVZDLkJhc2UgPSBjbGFzcyBleHRlbmRzIE1WQy5FdmVudHMge1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBjb25maWd1cmF0aW9uKSB7XHJcbiAgICBzdXBlcigpXHJcbiAgICBpZihjb25maWd1cmF0aW9uKSB0aGlzLl9jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvblxyXG4gICAgaWYoc2V0dGluZ3MpIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3NcclxuICB9XHJcbiAgZ2V0IF9jb25maWd1cmF0aW9uKCkge1xyXG4gICAgdGhpcy5jb25maWd1cmF0aW9uID0gKHRoaXMuY29uZmlndXJhdGlvbilcclxuICAgICAgPyB0aGlzLmNvbmZpZ3VyYXRpb25cclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMuY29uZmlndXJhdGlvblxyXG4gIH1cclxuICBzZXQgX2NvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbikgeyB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uIH1cclxuICBnZXQgX3NldHRpbmdzKCkge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9ICh0aGlzLnNldHRpbmdzKVxyXG4gICAgICA/IHRoaXMuc2V0dGluZ3NcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3NcclxuICB9XHJcbiAgc2V0IF9zZXR0aW5ncyhzZXR0aW5ncykge1xyXG4gICAgdGhpcy5zZXR0aW5ncyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXHJcbiAgICAgIHNldHRpbmdzLCB0aGlzLl9zZXR0aW5nc1xyXG4gICAgKVxyXG4gIH1cclxuICBnZXQgX2VtaXR0ZXJzKCkge1xyXG4gICAgdGhpcy5lbWl0dGVycyA9ICh0aGlzLmVtaXR0ZXJzKVxyXG4gICAgICA/IHRoaXMuZW1pdHRlcnNcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlcnNcclxuICB9XHJcbiAgc2V0IF9lbWl0dGVycyhlbWl0dGVycykge1xyXG4gICAgdGhpcy5lbWl0dGVycyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXHJcbiAgICAgIGVtaXR0ZXJzLCB0aGlzLl9lbWl0dGVyc1xyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJNVkMuU2VydmljZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gIH1cbiAgZ2V0IF9kZWZhdWx0cygpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdHMgfHwge1xuICAgIGNvbnRlbnRUeXBlOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0gfVxuICBnZXQgX3Jlc3BvbnNlVHlwZXMoKSB7IHJldHVybiBbJycsICdhcnJheWJ1ZmZlcicsICdibG9iJywgJ2RvY3VtZW50JywgJ2pzb24nLCAndGV4dCddIH1cbiAgZ2V0IF9yZXNwb25zZVR5cGUoKSB7IHJldHVybiB0aGlzLnJlc3BvbnNlVHlwZSB9XG4gIHNldCBfcmVzcG9uc2VUeXBlKHJlc3BvbnNlVHlwZSkge1xuICAgIHRoaXMuX3hoci5yZXNwb25zZVR5cGUgPSB0aGlzLl9yZXNwb25zZVR5cGVzLmZpbmQoXG4gICAgICAocmVzcG9uc2VUeXBlSXRlbSkgPT4gcmVzcG9uc2VUeXBlSXRlbSA9PT0gcmVzcG9uc2VUeXBlXG4gICAgKSB8fCB0aGlzLl9kZWZhdWx0cy5yZXNwb25zZVR5cGVcbiAgfVxuICBnZXQgX3R5cGUoKSB7IHJldHVybiB0aGlzLnR5cGUgfVxuICBzZXQgX3R5cGUodHlwZSkgeyB0aGlzLnR5cGUgPSB0eXBlIH1cbiAgZ2V0IF91cmwoKSB7IHJldHVybiB0aGlzLnVybCB9XG4gIHNldCBfdXJsKHVybCkgeyB0aGlzLnVybCA9IHVybCB9XG4gIGdldCBfaGVhZGVycygpIHsgcmV0dXJuIHRoaXMuaGVhZGVycyB8fCBbXSB9XG4gIHNldCBfaGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5faGVhZGVycy5sZW5ndGggPSAwXG4gICAgaGVhZGVycy5mb3JFYWNoKChoZWFkZXIpID0+IHtcbiAgICAgIHRoaXMuX2hlYWRlcnMucHVzaChoZWFkZXIpXG4gICAgICBoZWFkZXIgPSBPYmplY3QuZW50cmllcyhoZWFkZXIpWzBdXG4gICAgICB0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9KVxuICB9XG4gIGdldCBfZGF0YSgpIHsgcmV0dXJuIHRoaXMuZGF0YSB9XG4gIHNldCBfZGF0YShkYXRhKSB7IHRoaXMuZGF0YSA9IGRhdGEgfVxuICBnZXQgX3hocigpIHtcbiAgICB0aGlzLnhociA9ICh0aGlzLnhocilcbiAgICAgID8gdGhpcy54aHJcbiAgICAgIDogbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICByZXR1cm4gdGhpcy54aHJcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgcmVxdWVzdChkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhIHx8IG51bGxcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYodGhpcy5feGhyLnN0YXR1cyA9PT0gMjAwKSB0aGlzLl94aHIuYWJvcnQoKVxuICAgICAgdGhpcy5feGhyLm9wZW4odGhpcy50eXBlLCB0aGlzLnVybClcbiAgICAgIHRoaXMuX2hlYWRlcnMgPSB0aGlzLnNldHRpbmdzLmhlYWRlcnMgfHwgW3RoaXMuX2RlZmF1bHRzLmNvbnRlbnRUeXBlXVxuICAgICAgdGhpcy5feGhyLm9ubG9hZCA9IHJlc29sdmVcbiAgICAgIHRoaXMuX3hoci5vbmVycm9yID0gcmVqZWN0XG4gICAgICB0aGlzLl94aHIuc2VuZChkYXRhKVxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLmVtaXQoJ3hocjpyZXNvbHZlJywge1xuICAgICAgICBuYW1lOiAneGhyOnJlc29sdmUnLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5jdXJyZW50VGFyZ2V0LFxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4geyB0aHJvdyBlcnJvciB9KVxuICB9XG4gIGVuYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICAhdGhpcy5lbmFibGVkICYmXG4gICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncykubGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy50eXBlKSB0aGlzLl90eXBlID0gc2V0dGluZ3MudHlwZVxuICAgICAgaWYoc2V0dGluZ3MudXJsKSB0aGlzLl91cmwgPSBzZXR0aW5ncy51cmxcbiAgICAgIGlmKHNldHRpbmdzLmRhdGEpIHRoaXMuX2RhdGEgPSBzZXR0aW5ncy5kYXRhIHx8IG51bGxcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MucmVzcG9uc2VUeXBlKSB0aGlzLl9yZXNwb25zZVR5cGUgPSB0aGlzLl9zZXR0aW5ncy5yZXNwb25zZVR5cGVcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVuYWJsZWQgJiZcbiAgICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl90eXBlXG4gICAgICBkZWxldGUgdGhpcy5fdXJsXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YVxuICAgICAgZGVsZXRlIHRoaXMuX2hlYWRlcnNcbiAgICAgIGRlbGV0ZSB0aGlzLl9yZXNwb25zZVR5cGVcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJNVkMuVmFsaWRhdG9yID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKHNjaGVtYSkge1xyXG4gICAgdGhpcy5fc2NoZW1hID0gc2NoZW1hXHJcbiAgfVxyXG4gIGdldCBfc2NoZW1hKCkgeyByZXR1cm4gdGhpcy5zY2hlbWEgfVxyXG4gIHNldCBfc2NoZW1hKHNjaGVtYSkgeyB0aGlzLnNjaGVtYSA9IHNjaGVtYSB9XHJcbiAgZ2V0IF9yZXN1bHRzKCkgeyByZXR1cm4gdGhpcy5yZXN1bHRzIH1cclxuICBzZXQgX3Jlc3VsdHMocmVzdWx0cykgeyB0aGlzLnJlc3VsdHMgPSByZXN1bHRzIH1cclxuICBnZXQgX2RhdGEoKSB7IHJldHVybiB0aGlzLmRhdGEgfVxyXG4gIHNldCBfZGF0YShkYXRhKSB7IHRoaXMuZGF0YSA9IGRhdGEgfVxyXG4gIHZhbGlkYXRlKGRhdGEpIHtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhXHJcbiAgICBsZXQgdmFsaWRhdGlvblN1bW1hcnkgPSB7fVxyXG4gICAgT2JqZWN0LmVudHJpZXModGhpcy5fc2NoZW1hKVxyXG4gICAgICAuZm9yRWFjaCgoW3NjaGVtYUtleSwgc2NoZW1hU2V0dGluZ3NdKSA9PiB7XHJcbiAgICAgICAgbGV0IHZhbGlkYXRpb24gPSB7fVxyXG4gICAgICAgIGxldCB2YWx1ZSA9IGRhdGFbc2NoZW1hS2V5XVxyXG4gICAgICAgIHZhbGlkYXRpb24ua2V5ID0gc2NoZW1hS2V5XHJcbiAgICAgICAgaWYoc2NoZW1hU2V0dGluZ3MucmVxdWlyZWQpIHtcclxuICAgICAgICAgIHZhbGlkYXRpb24ucmVxdWlyZWQgPSB0aGlzLnJlcXVpcmVkKHZhbHVlLCBzY2hlbWFTZXR0aW5ncy5yZXF1aXJlZClcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoc2NoZW1hU2V0dGluZ3MudHlwZSkge1xyXG4gICAgICAgICAgdmFsaWRhdGlvbi50eXBlID0gdGhpcy50eXBlKHZhbHVlLCBzY2hlbWFTZXR0aW5ncy50eXBlKVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihzY2hlbWFTZXR0aW5ncy5ldmFsdWF0aW9ucykge1xyXG4gICAgICAgICAgbGV0IHZhbGlkYXRpb25FdmFsdWF0aW9ucyA9IHRoaXMuZXZhbHVhdGlvbnModmFsdWUsIHNjaGVtYVNldHRpbmdzLmV2YWx1YXRpb25zKVxyXG4gICAgICAgICAgdmFsaWRhdGlvbi5ldmFsdWF0aW9ucyA9IHRoaXMuZXZhbHVhdGlvblJlc3VsdHModmFsaWRhdGlvbkV2YWx1YXRpb25zKVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YWxpZGF0aW9uU3VtbWFyeVtzY2hlbWFLZXldID0gdmFsaWRhdGlvblxyXG4gICAgICB9KVxyXG4gICAgdGhpcy5fcmVzdWx0cyA9IHZhbGlkYXRpb25TdW1tYXJ5XHJcbiAgICByZXR1cm4gdmFsaWRhdGlvblN1bW1hcnlcclxuICB9XHJcbiAgcmVxdWlyZWQodmFsdWUsIHNjaGVtYVNldHRpbmdzKSB7XHJcbiAgICBsZXQgdmFsaWRhdGlvblN1bW1hcnkgPSB7XHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgIH1cclxuICAgIGxldCBtZXNzYWdlcyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBwYXNzOiAnVmFsdWUgaXMgZGVmaW5lZC4nLFxyXG4gICAgICAgIGZhaWw6ICdWYWx1ZSBpcyBub3QgZGVmaW5lZC4nLFxyXG4gICAgICB9LFxyXG4gICAgICBzY2hlbWFTZXR0aW5ncy5tZXNzYWdlc1xyXG4gICAgKVxyXG4gICAgdmFsdWUgPSAodmFsdWUgIT09IHVuZGVmaW5lZClcclxuICAgIHN3aXRjaChNVkMuVXRpbHMudHlwZU9mKHNjaGVtYVNldHRpbmdzKSkge1xyXG4gICAgICBjYXNlICdib29sZWFuJzpcclxuICAgICAgICB2YWxpZGF0aW9uU3VtbWFyeS5jb21wYXJhdG9yID0gc2NoZW1hU2V0dGluZ3NcclxuICAgICAgICB2YWxpZGF0aW9uU3VtbWFyeS5yZXN1bHQgPSAodmFsdWUgPT09IHNjaGVtYVNldHRpbmdzKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgdmFsaWRhdGlvblN1bW1hcnkuY29tcGFyYXRvciA9IHNjaGVtYVNldHRpbmdzLnZhbHVlXHJcbiAgICAgICAgdmFsaWRhdGlvblN1bW1hcnkucmVzdWx0ID0gKHZhbHVlID09PSBzY2hlbWFTZXR0aW5ncy52YWx1ZSlcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgdmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICh2YWxpZGF0aW9uU3VtbWFyeS5yZXN1bHQpXHJcbiAgICAgID8gbWVzc2FnZXMucGFzc1xyXG4gICAgICA6IG1lc3NhZ2VzLmZhaWxcclxuICAgIHJldHVybiB2YWxpZGF0aW9uU3VtbWFyeVxyXG4gIH1cclxuICB0eXBlKHZhbHVlLCBzY2hlbWFTZXR0aW5ncykge1xyXG4gICAgbGV0IHZhbGlkYXRpb25TdW1tYXJ5ID0ge1xyXG4gICAgICB2YWx1ZTogdmFsdWVcclxuICAgIH1cclxuICAgIGxldCBtZXNzYWdlcyA9IE9iamVjdC5hc3NpZ24oXHJcbiAgICAgIHtcclxuICAgICAgICBwYXNzOiAnVmFsaWQgVHlwZS4nLFxyXG4gICAgICAgIGZhaWw6ICdJbnZhbGlkIFR5cGUuJyxcclxuICAgICAgfSxcclxuICAgICAgc2NoZW1hU2V0dGluZ3MubWVzc2FnZXNcclxuICAgIClcclxuICAgIHN3aXRjaChNVkMuVXRpbHMudHlwZU9mKHNjaGVtYVNldHRpbmdzKSkge1xyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgIHZhbGlkYXRpb25TdW1tYXJ5LmNvbXBhcmF0b3JcclxuICAgICAgICB2YWxpZGF0aW9uU3VtbWFyeS5yZXN1bHQgPSAoTVZDLlV0aWxzLnR5cGVPZih2YWx1ZSkgPT09IHNjaGVtYVNldHRpbmdzKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgdmFsaWRhdGlvblN1bW1hcnkucmVzdWx0ID0gKE1WQy5VdGlscy50eXBlT2YodmFsdWUpID09PSBzY2hlbWFTZXR0aW5ncy52YWx1ZSlcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gICAgdmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICh2YWxpZGF0aW9uU3VtbWFyeS5yZXN1bHQpXHJcbiAgICAgID8gbWVzc2FnZXMucGFzc1xyXG4gICAgICA6IG1lc3NhZ2VzLmZhaWxcclxuICAgIHJldHVybiB2YWxpZGF0aW9uU3VtbWFyeVxyXG4gIH1cclxuICBldmFsdWF0aW9ucyh2YWx1ZSwgZXZhbHVhdGlvbnMpIHtcclxuICAgIHJldHVybiBldmFsdWF0aW9ucy5yZWR1Y2UoKF9ldmFsdWF0aW9ucywgZXZhbHVhdGlvbiwgZXZhbHVhdGlvbkluZGV4KSA9PiB7XHJcbiAgICAgIGlmKE1WQy5VdGlscy5pc0FycmF5KGV2YWx1YXRpb24pKSB7XHJcbiAgICAgICAgX2V2YWx1YXRpb25zLnB1c2goXHJcbiAgICAgICAgICAuLi50aGlzLmV2YWx1YXRpb25zKHZhbHVlLCBldmFsdWF0aW9uKVxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBldmFsdWF0aW9uLnZhbHVlID0gdmFsdWVcclxuICAgICAgICBsZXQgdmFsdWVDb21wYXJpc29uID0gdGhpcy5jb21wYXJlVmFsdWVzKFxyXG4gICAgICAgICAgZXZhbHVhdGlvbi52YWx1ZSxcclxuICAgICAgICAgIGV2YWx1YXRpb24uY29tcGFyaXNvbi52YWx1ZSxcclxuICAgICAgICAgIGV2YWx1YXRpb24uY29tcGFyYXRvcixcclxuICAgICAgICAgIGV2YWx1YXRpb24ubWVzc2FnZXNcclxuICAgICAgICApXHJcbiAgICAgICAgZXZhbHVhdGlvbi5yZXN1bHRzID0gZXZhbHVhdGlvbi5yZXN1bHRzIHx8IHt9XHJcbiAgICAgICAgZXZhbHVhdGlvbi5yZXN1bHRzLnZhbHVlID0gdmFsdWVDb21wYXJpc29uXHJcbiAgICAgICAgX2V2YWx1YXRpb25zLnB1c2goZXZhbHVhdGlvbilcclxuICAgICAgfVxyXG4gICAgICBpZihfZXZhbHVhdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGxldCBjdXJyZW50RXZhbHVhdGlvbiA9IF9ldmFsdWF0aW9uc1tldmFsdWF0aW9uSW5kZXhdXHJcbiAgICAgICAgaWYoY3VycmVudEV2YWx1YXRpb24uY29tcGFyaXNvbi5zdGF0ZW1lbnQpIHtcclxuICAgICAgICAgIGxldCBwcmV2aW91c0V2YWx1YXRpb24gPSBfZXZhbHVhdGlvbnNbZXZhbHVhdGlvbkluZGV4IC0gMV1cclxuICAgICAgICAgIGxldCBwcmV2aW91c0V2YWx1YXRpb25Db21wYXJpc29uVmFsdWUgPSAoY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cy5zdGF0ZW1lbnQpXHJcbiAgICAgICAgICAgID8gY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cy5zdGF0ZW1lbnQucmVzdWx0XHJcbiAgICAgICAgICAgIDogY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cy52YWx1ZS5yZXN1bHRcclxuICAgICAgICAgIGxldCBzdGF0ZW1lbnRDb21wYXJpc29uID0gdGhpcy5jb21wYXJlU3RhdGVtZW50cyhcclxuICAgICAgICAgICAgcHJldmlvdXNFdmFsdWF0aW9uQ29tcGFyaXNvblZhbHVlLFxyXG4gICAgICAgICAgICBjdXJyZW50RXZhbHVhdGlvbi5jb21wYXJpc29uLnN0YXRlbWVudCxcclxuICAgICAgICAgICAgY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cy52YWx1ZS5yZXN1bHQsXHJcbiAgICAgICAgICAgIGN1cnJlbnRFdmFsdWF0aW9uLm1lc3NhZ2VzXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICBjdXJyZW50RXZhbHVhdGlvbi5yZXN1bHRzID0gY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cyB8fCB7fVxyXG4gICAgICAgICAgY3VycmVudEV2YWx1YXRpb24ucmVzdWx0cy5zdGF0ZW1lbnQgPSBzdGF0ZW1lbnRDb21wYXJpc29uXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBfZXZhbHVhdGlvbnNcclxuICAgIH0sIFtdKVxyXG4gIH1cclxuICBldmFsdWF0aW9uUmVzdWx0cyhldmFsdWF0aW9ucykge1xyXG4gICAgbGV0IHZhbGlkYXRpb25FdmFsdWF0aW9ucyA9IHtcclxuICAgICAgcGFzczogW10sXHJcbiAgICAgIGZhaWw6IFtdLFxyXG4gICAgfVxyXG4gICAgZXZhbHVhdGlvbnMuZm9yRWFjaCgoZXZhbHVhdGlvblZhbGlkYXRpb24pID0+IHtcclxuICAgICAgaWYoZXZhbHVhdGlvblZhbGlkYXRpb24ucmVzdWx0cy5zdGF0ZW1lbnQpIHtcclxuICAgICAgICBpZihldmFsdWF0aW9uVmFsaWRhdGlvbi5yZXN1bHRzLnN0YXRlbWVudC5yZXN1bHQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICB2YWxpZGF0aW9uRXZhbHVhdGlvbnMuZmFpbC5wdXNoKGV2YWx1YXRpb25WYWxpZGF0aW9uKVxyXG4gICAgICAgIH0gZWxzZSBpZihldmFsdWF0aW9uVmFsaWRhdGlvbi5yZXN1bHRzLnN0YXRlbWVudC5yZXN1bHQgPT09IHRydWUpIHtcclxuICAgICAgICAgIHZhbGlkYXRpb25FdmFsdWF0aW9ucy5wYXNzLnB1c2goZXZhbHVhdGlvblZhbGlkYXRpb24pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoZXZhbHVhdGlvblZhbGlkYXRpb24ucmVzdWx0cy52YWx1ZSkge1xyXG4gICAgICAgIGlmKGV2YWx1YXRpb25WYWxpZGF0aW9uLnJlc3VsdHMudmFsdWUucmVzdWx0ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgdmFsaWRhdGlvbkV2YWx1YXRpb25zLmZhaWwucHVzaChldmFsdWF0aW9uVmFsaWRhdGlvbilcclxuICAgICAgICB9IGVsc2UgaWYoZXZhbHVhdGlvblZhbGlkYXRpb24ucmVzdWx0cy52YWx1ZS5yZXN1bHQgPT09IHRydWUpIHtcclxuICAgICAgICAgIHZhbGlkYXRpb25FdmFsdWF0aW9ucy5wYXNzLnB1c2goZXZhbHVhdGlvblZhbGlkYXRpb24pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgcmV0dXJuIHZhbGlkYXRpb25FdmFsdWF0aW9uc1xyXG4gIH1cclxuICBjb21wYXJlVmFsdWVzKHZhbHVlLCBvcGVyYXRvciwgY29tcGFyYXRvciwgbWVzc2FnZXMpIHtcclxuICAgIGxldCBldmFsdWF0aW9uUmVzdWx0XHJcbiAgICBzd2l0Y2gob3BlcmF0b3IpIHtcclxuICAgICAgY2FzZSBNVkMuQ09OU1QuT3BlcmF0b3JzLkNvbXBhcmlzb24uRVE6XHJcbiAgICAgICAgZXZhbHVhdGlvblJlc3VsdCA9ICh2YWx1ZSA9PSBjb21wYXJhdG9yKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgTVZDLkNPTlNULk9wZXJhdG9ycy5Db21wYXJpc29uLlNURVE6XHJcbiAgICAgICAgZXZhbHVhdGlvblJlc3VsdCA9ICh2YWx1ZSA9PT0gY29tcGFyYXRvcilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuQ29tcGFyaXNvbi5OT0VROlxyXG4gICAgICAgIGV2YWx1YXRpb25SZXN1bHQgPSAodmFsdWUgIT0gY29tcGFyYXRvcilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuQ29tcGFyaXNvbi5TVE5PRVE6XHJcbiAgICAgICAgZXZhbHVhdGlvblJlc3VsdCA9ICh2YWx1ZSAhPT0gY29tcGFyYXRvcilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuQ29tcGFyaXNvbi5HVDpcclxuICAgICAgICBldmFsdWF0aW9uUmVzdWx0ID0gKHZhbHVlID4gY29tcGFyYXRvcilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuQ29tcGFyaXNvbi5MVDpcclxuICAgICAgICBldmFsdWF0aW9uUmVzdWx0ID0gKHZhbHVlIDwgY29tcGFyYXRvcilcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuQ29tcGFyaXNvbi5HVEU6XHJcbiAgICAgICAgZXZhbHVhdGlvblJlc3VsdCA9ICh2YWx1ZSA+PSBjb21wYXJhdG9yKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgTVZDLkNPTlNULk9wZXJhdG9ycy5Db21wYXJpc29uLkxURTpcclxuICAgICAgICBldmFsdWF0aW9uUmVzdWx0ID0gKHZhbHVlIDw9IGNvbXBhcmF0b3IpXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3VsdDogZXZhbHVhdGlvblJlc3VsdCxcclxuICAgICAgbWVzc2FnZTogKGV2YWx1YXRpb25SZXN1bHQpXHJcbiAgICAgICAgPyBtZXNzYWdlcy5wYXNzXHJcbiAgICAgICAgOiBtZXNzYWdlcy5mYWlsXHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbXBhcmVTdGF0ZW1lbnRzKHZhbHVlLCBvcGVyYXRvciwgY29tcGFyYXRvciwgbWVzc2FnZXMpIHtcclxuICAgIGxldCBldmFsdWF0aW9uUmVzdWx0XHJcbiAgICBzd2l0Y2gob3BlcmF0b3IpIHtcclxuICAgICAgY2FzZSBNVkMuQ09OU1QuT3BlcmF0b3JzLlN0YXRlbWVudC5BTkQ6XHJcbiAgICAgICAgZXZhbHVhdGlvblJlc3VsdCA9IHZhbHVlICYmIGNvbXBhcmF0b3JcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIE1WQy5DT05TVC5PcGVyYXRvcnMuU3RhdGVtZW50Lk9SOlxyXG4gICAgICAgIGV2YWx1YXRpb25SZXN1bHQgPSB2YWx1ZSB8fCBjb21wYXJhdG9yXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3VsdDogZXZhbHVhdGlvblJlc3VsdCxcclxuICAgICAgbWVzc2FnZTogKGV2YWx1YXRpb25SZXN1bHQpXHJcbiAgICAgICAgPyBtZXNzYWdlcy5wYXNzXHJcbiAgICAgICAgOiBtZXNzYWdlcy5mYWlsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5Nb2RlbCA9IGNsYXNzIGV4dGVuZHMgTVZDLkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpXG4gIH1cbiAgZ2V0IF92YWxpZGF0b3IoKSB7IHJldHVybiB0aGlzLnZhbGlkYXRvciB9XG4gIHNldCBfdmFsaWRhdG9yKHZhbGlkYXRvcikgeyB0aGlzLnZhbGlkYXRvciA9IG5ldyBNVkMuVmFsaWRhdG9yKHZhbGlkYXRvcikgfVxuICBnZXQgX2lzU2V0dGluZygpIHsgcmV0dXJuIHRoaXMuaXNTZXR0aW5nIH1cbiAgc2V0IF9pc1NldHRpbmcoaXNTZXR0aW5nKSB7IHRoaXMuaXNTZXR0aW5nID0gaXNTZXR0aW5nIH1cbiAgZ2V0IF9jaGFuZ2luZygpIHtcbiAgICB0aGlzLmNoYW5naW5nID0gKHRoaXMuY2hhbmdpbmcpXG4gICAgICA/IHRoaXMuY2hhbmdpbmdcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2luZ1xuICB9XG4gIGdldCBfbG9jYWxTdG9yYWdlKCkgeyByZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2UgfVxuICBzZXQgX2xvY2FsU3RvcmFnZShsb2NhbFN0b3JhZ2UpIHsgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cyB9XG4gIHNldCBfZGVmYXVsdHMoZGVmYXVsdHMpIHsgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzIH1cbiAgZ2V0IF9zY2hlbWEoKSB7IHJldHVybiB0aGlzLl9zY2hlbWEgfVxuICBzZXQgX3NjaGVtYShzY2hlbWEpIHsgdGhpcy5zY2hlbWEgPSBzY2hlbWEgfVxuICBnZXQgX2hpc3Rpb2dyYW0oKSB7IHJldHVybiB0aGlzLmhpc3Rpb2dyYW0gfHwge1xuICAgIGxlbmd0aDogMVxuICB9IH1cbiAgc2V0IF9oaXN0aW9ncmFtKGhpc3Rpb2dyYW0pIHtcbiAgICB0aGlzLmhpc3Rpb2dyYW0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5faGlzdGlvZ3JhbSxcbiAgICAgIGhpc3Rpb2dyYW1cbiAgICApXG4gIH1cbiAgZ2V0IF9oaXN0b3J5KCkge1xuICAgIHRoaXMuaGlzdG9yeSA9ICh0aGlzLmhpc3RvcnkpXG4gICAgICA/IHRoaXMuaGlzdG9yeVxuICAgICAgOiBbXVxuICAgIHJldHVybiB0aGlzLmhpc3RvcnlcbiAgfVxuICBzZXQgX2hpc3RvcnkoZGF0YSkge1xuICAgIGlmKFxuICAgICAgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZih0aGlzLl9oaXN0aW9ncmFtLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9oaXN0b3J5LnVuc2hpZnQodGhpcy5wYXJzZShkYXRhKSlcbiAgICAgICAgdGhpcy5faGlzdG9yeS5zcGxpY2UodGhpcy5faGlzdGlvZ3JhbS5sZW5ndGgpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfZGIoKSB7XG4gICAgbGV0IGRiID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQpXG4gICAgdGhpcy5kYiA9IChkYilcbiAgICAgID8gZGJcbiAgICAgIDogJ3t9J1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZGIpXG4gIH1cbiAgc2V0IF9kYihkYikge1xuICAgIGRiID0gSlNPTi5zdHJpbmdpZnkoZGIpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQsIGRiKVxuICB9XG4gIGdldCBfZGF0YSgpIHtcbiAgICB0aGlzLmRhdGEgPSAgKHRoaXMuZGF0YSlcbiAgICAgID8gdGhpcy5kYXRhXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YVxuICB9XG4gIGdldCBfZGF0YUV2ZW50cygpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSAodGhpcy5kYXRhRXZlbnRzKVxuICAgICAgPyB0aGlzLmRhdGFFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhRXZlbnRzXG4gIH1cbiAgc2V0IF9kYXRhRXZlbnRzKGRhdGFFdmVudHMpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgZGF0YUV2ZW50cywgdGhpcy5fZGF0YUV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2RhdGFDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gKHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YUNhbGxiYWNrc1xuICB9XG4gIHNldCBfZGF0YUNhbGxiYWNrcyhkYXRhQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGRhdGFDYWxsYmFja3MsIHRoaXMuX2RhdGFDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlcygpIHtcbiAgICB0aGlzLnNlcnZpY2VzID0gICh0aGlzLnNlcnZpY2VzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZXNcbiAgfVxuICBzZXQgX3NlcnZpY2VzKHNlcnZpY2VzKSB7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlcywgdGhpcy5fc2VydmljZXNcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlRXZlbnRzKCkge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9ICh0aGlzLnNlcnZpY2VFdmVudHMpXG4gICAgICA/IHRoaXMuc2VydmljZUV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnNlcnZpY2VFdmVudHNcbiAgfVxuICBzZXQgX3NlcnZpY2VFdmVudHMoc2VydmljZUV2ZW50cykge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlRXZlbnRzLCB0aGlzLl9zZXJ2aWNlRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfc2VydmljZUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSAodGhpcy5zZXJ2aWNlQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9zZXJ2aWNlQ2FsbGJhY2tzKHNlcnZpY2VDYWxsYmFja3MpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgc2VydmljZUNhbGxiYWNrcywgdGhpcy5fc2VydmljZUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLnNlcnZpY2VFdmVudHMsIHRoaXMuc2VydmljZXMsIHRoaXMuc2VydmljZUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5zZXJ2aWNlRXZlbnRzLCB0aGlzLnNlcnZpY2VzLCB0aGlzLnNlcnZpY2VDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLmRhdGFFdmVudHMsIHRoaXMsIHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5kYXRhRXZlbnRzLCB0aGlzLCB0aGlzLmRhdGFDYWxsYmFja3MpXG4gIH1cbiAgc2V0RGVmYXVsdHMoKSB7XG4gICAgbGV0IF9kZWZhdWx0cyA9IHt9XG4gICAgaWYodGhpcy5kZWZhdWx0cykgT2JqZWN0LmFzc2lnbihfZGVmYXVsdHMsIHRoaXMuZGVmYXVsdHMpXG4gICAgaWYodGhpcy5sb2NhbFN0b3JhZ2UpIE9iamVjdC5hc3NpZ24oX2RlZmF1bHRzLCB0aGlzLl9kYilcbiAgICBpZihPYmplY3Qua2V5cyhfZGVmYXVsdHMpKSB0aGlzLnNldChfZGVmYXVsdHMpXG4gIH1cbiAgZ2V0KCkge1xuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aGlzLl9pc1NldHRpbmcgPSB0cnVlXG4gICAgICAgIGxldCBfYXJndW1lbnRzID0gT2JqZWN0LmVudHJpZXMoYXJndW1lbnRzWzBdKVxuICAgICAgICBfYXJndW1lbnRzLmZvckVhY2goKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZihpbmRleCA9PT0gKF9hcmd1bWVudHMubGVuZ3RoIC0gMSkpIHRoaXMuX2lzU2V0dGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5fY2hhbmdpbmdba2V5XSA9IHZhbHVlXG4gICAgICAgICAgdGhpcy5zZXREYXRhUHJvcGVydHkoa2V5LCB2YWx1ZSlcbiAgICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgICBkZWxldGUgdGhpcy5jaGFuZ2luZ1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAyOlxuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1sxXVxuICAgICAgICB0aGlzLnNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKVxuICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBpZih0aGlzLl92YWxpZGF0b3IpIHtcbiAgICAgIGxldCB2YWxpZGF0ZUVtaXR0ZXIgPSB0aGlzLmVtaXR0ZXJzLnZhbGlkYXRlXG4gICAgICB0aGlzLl92YWxpZGF0b3IudmFsaWRhdGUoXG4gICAgICAgIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSlcbiAgICAgIClcbiAgICAgIHZhbGlkYXRlRW1pdHRlci5zZXQoe1xuICAgICAgICBkYXRhOiB0aGlzLnZhbGlkYXRvci5kYXRhLFxuICAgICAgICByZXN1bHRzOiB0aGlzLnZhbGlkYXRvci5yZXN1bHRzXG4gICAgICB9KVxuICAgICAgdGhpcy5lbWl0KFxuICAgICAgICB2YWxpZGF0ZUVtaXR0ZXIubmFtZSxcbiAgICAgICAgdmFsaWRhdGVFbWl0dGVyLmVtaXNzaW9uKClcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB1bnNldCgpIHtcbiAgICB0aGlzLl9oaXN0b3J5ID0gdGhpcy5wYXJzZSgpXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgZm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5fZGF0YSkpIHtcbiAgICAgICAgICB0aGlzLnVuc2V0RGF0YVByb3BlcnR5KGtleSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHRoaXMudW5zZXREYXRhUHJvcGVydHkoa2V5KVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHNldERCKCkge1xuICAgIGxldCBkYiA9IHRoaXMuX2RiXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIF9hcmd1bWVudHMgPSBPYmplY3QuZW50cmllcyhhcmd1bWVudHNbMF0pXG4gICAgICAgIF9hcmd1bWVudHMuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgZGJba2V5XSA9IHZhbHVlXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDI6XG4gICAgICAgIGxldCBrZXkgPSBhcmd1bWVudHNbMF1cbiAgICAgICAgbGV0IHZhbHVlID0gYXJndW1lbnRzWzFdXG4gICAgICAgIGRiW2tleV0gPSB2YWx1ZVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICB0aGlzLl9kYiA9IGRiXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB1bnNldERCKCkge1xuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9kYlxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQgZGIgPSB0aGlzLl9kYlxuICAgICAgICBsZXQga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIGRlbGV0ZSBkYltrZXldXG4gICAgICAgIHRoaXMuX2RiID0gZGJcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBzZXREYXRhUHJvcGVydHkoa2V5LCB2YWx1ZSkge1xuICAgIGlmKCF0aGlzLl9kYXRhWydfJy5jb25jYXQoa2V5KV0pIHtcbiAgICAgIGxldCBjb250ZXh0ID0gdGhpc1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgICAgIHRoaXMuX2RhdGEsXG4gICAgICAgIHtcbiAgICAgICAgICBbJ18nLmNvbmNhdChrZXkpXToge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZ2V0KCkgeyByZXR1cm4gdGhpc1trZXldIH0sXG4gICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWVcbiAgICAgICAgICAgICAgbGV0IHNldFZhbHVlRXZlbnROYW1lID0gWydzZXQnLCAnOicsIGtleV0uam9pbignJylcbiAgICAgICAgICAgICAgbGV0IHNldEV2ZW50TmFtZSA9ICdzZXQnXG4gICAgICAgICAgICAgIGNvbnRleHQuZW1pdChcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBzZXRWYWx1ZUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb250ZXh0XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYoIWNvbnRleHQuX2lzU2V0dGluZykge1xuICAgICAgICAgICAgICAgIGlmKCFPYmplY3QudmFsdWVzKGNvbnRleHQuX2NoYW5naW5nKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRleHQuZW1pdChcbiAgICAgICAgICAgICAgICAgICAgc2V0RXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2V0RXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KFxuICAgICAgICAgICAgICAgICAgICBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogY29udGV4dC5fY2hhbmdpbmcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICAgIHRoaXMuX2RhdGFbJ18nLmNvbmNhdChrZXkpXSA9IHZhbHVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB1bnNldERhdGFQcm9wZXJ0eShrZXkpIHtcbiAgICBsZXQgdW5zZXRWYWx1ZUV2ZW50TmFtZSA9IFsndW5zZXQnLCAnOicsIGtleV0uam9pbignJylcbiAgICBsZXQgdW5zZXRFdmVudE5hbWUgPSAndW5zZXQnXG4gICAgbGV0IHVuc2V0VmFsdWUgPSB0aGlzLl9kYXRhW2tleV1cbiAgICBkZWxldGUgdGhpcy5fZGF0YVsnXycuY29uY2F0KGtleSldXG4gICAgZGVsZXRlIHRoaXMuX2RhdGFba2V5XVxuICAgIHRoaXMuZW1pdChcbiAgICAgIHVuc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHVuc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB2YWx1ZTogdW5zZXRWYWx1ZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgICB0aGlzLmVtaXQoXG4gICAgICB1bnNldEV2ZW50TmFtZSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdW5zZXRFdmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB2YWx1ZTogdW5zZXRWYWx1ZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHBhcnNlKGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLl9kYXRhXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmFzc2lnbih7fSwgZGF0YSkpKVxuICB9XG4gIGVuYWJsZUVtaXR0ZXJzKCkge1xuICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICB0aGlzLl9lbWl0dGVycyxcbiAgICAgIHRoaXMuc2V0dGluZ3MuZW1pdHRlcnMsXG4gICAgICB7XG4gICAgICAgIHZhbGlkYXRlOiBuZXcgTVZDLkVtaXR0ZXJzLlZhbGlkYXRlKCksXG4gICAgICB9XG4gICAgKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyc1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MudmFsaWRhdG9yKSB0aGlzLl92YWxpZGF0b3IgPSB0aGlzLnNldHRpbmdzLnZhbGlkYXRvclxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5sb2NhbFN0b3JhZ2UpIHRoaXMuX2xvY2FsU3RvcmFnZSA9IHRoaXMuc2V0dGluZ3MubG9jYWxTdG9yYWdlXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW0pIHRoaXMuX2hpc3Rpb2dyYW0gPSB0aGlzLnNldHRpbmdzLmhpc3Rpb2dyYW1cbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2VydmljZXMpIHRoaXMuX3NlcnZpY2VzID0gdGhpcy5zZXR0aW5ncy5zZXJ2aWNlc1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zZXJ2aWNlQ2FsbGJhY2tzKSB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzID0gdGhpcy5zZXR0aW5ncy5zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnNlcnZpY2VFdmVudHMpIHRoaXMuX3NlcnZpY2VFdmVudHMgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VFdmVudHNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZGF0YSkgdGhpcy5zZXQodGhpcy5zZXR0aW5ncy5kYXRhKVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzKSB0aGlzLl9kYXRhQ2FsbGJhY2tzID0gdGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRhdGFFdmVudHMpIHRoaXMuX2RhdGFFdmVudHMgPSB0aGlzLnNldHRpbmdzLmRhdGFFdmVudHNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2NoZW1hKSB0aGlzLl9zY2hlbWEgPSB0aGlzLnNldHRpbmdzLnNjaGVtYVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kZWZhdWx0cykgdGhpcy5fZGVmYXVsdHMgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5zZXJ2aWNlcyAmJlxuICAgICAgICB0aGlzLnNlcnZpY2VFdmVudHMgJiZcbiAgICAgICAgdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVTZXJ2aWNlRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmRhdGFFdmVudHMgJiZcbiAgICAgICAgdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVEYXRhRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgaWYoXG4gICAgICAgIHRoaXMuc2VydmljZXMgJiZcbiAgICAgICAgdGhpcy5zZXJ2aWNlRXZlbnRzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVNlcnZpY2VFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZGF0YUV2ZW50cyAmJlxuICAgICAgICB0aGlzLmRhdGFDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVEYXRhRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLl9sb2NhbFN0b3JhZ2VcbiAgICAgIGRlbGV0ZSB0aGlzLl9oaXN0aW9ncmFtXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZXNcbiAgICAgIGRlbGV0ZSB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhQ2FsbGJhY2tzXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YUV2ZW50c1xuICAgICAgZGVsZXRlIHRoaXMuX3NjaGVtYVxuICAgICAgZGVsZXRlIHRoaXMuX3ZhbGlkYXRvclxuICAgICAgZGVsZXRlIHRoaXMuZGlzYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG4iLCJNVkMuRW1pdHRlciA9IGNsYXNzIGV4dGVuZHMgTVZDLk1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcclxuICAgIGlmKHRoaXMuc2V0dGluZ3MpIHtcclxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5uYW1lKSB0aGlzLl9uYW1lID0gdGhpcy5zZXR0aW5ncy5uYW1lXHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBfbmFtZSgpIHsgcmV0dXJuIHRoaXMubmFtZSB9XHJcbiAgc2V0IF9uYW1lKG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZSB9XHJcbiAgZW1pc3Npb24oKSB7XHJcbiAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgIGRhdGE6IHRoaXMuZGF0YVxyXG4gICAgfVxyXG4gICAgdGhpcy5lbWl0KFxyXG4gICAgICB0aGlzLm5hbWUsXHJcbiAgICAgIGV2ZW50RGF0YVxyXG4gICAgKVxyXG4gICAgcmV0dXJuIGV2ZW50RGF0YVxyXG4gIH1cclxufVxyXG4iLCJNVkMuRW1pdHRlcnMuTmF2aWdhdGUgPSBjbGFzcyBleHRlbmRzIE1WQy5FbWl0dGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcclxuICAgIHRoaXMuYWRkU2V0dGluZ3MoKVxyXG4gICAgdGhpcy5lbmFibGUoKVxyXG4gIH1cclxuICBhZGRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuX25hbWUgPSAnbmF2aWdhdGUnXHJcbiAgICB0aGlzLl9zY2hlbWEgPSB7XHJcbiAgICAgIG9sZFVSTDogU3RyaW5nLFxyXG4gICAgICBuZXdVUkw6IFN0cmluZyxcclxuICAgICAgY3VycmVudFJvdXRlOiBTdHJpbmcsXHJcbiAgICAgIGN1cnJlbnRDb250cm9sbGVyOiBTdHJpbmcsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5FbWl0dGVycy5WYWxpZGF0ZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkVtaXR0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxyXG4gICAgdGhpcy5hZGRTZXR0aW5ncygpXHJcbiAgICB0aGlzLmVuYWJsZSgpXHJcbiAgfVxyXG4gIGFkZFNldHRpbmdzKCkge1xyXG4gICAgdGhpcy5fbmFtZSA9ICd2YWxpZGF0ZSdcclxuICAgIHRoaXMuX3NjaGVtYSA9IHtcclxuICAgICAgZGF0YTogT2JqZWN0LFxyXG4gICAgICByZXN1bHRzOiBPYmplY3QsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5WaWV3ID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VsZW1lbnROYW1lKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC50YWdOYW1lIH1cbiAgc2V0IF9lbGVtZW50TmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmKCF0aGlzLl9lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50TmFtZSlcbiAgfVxuICBnZXQgX2VsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQgfVxuICBzZXQgX2VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmKFxuICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XG4gICAgICBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICApIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB9IGVsc2UgaWYodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIH0pXG4gIH1cbiAgZ2V0IF9hdHRyaWJ1dGVzKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC5hdHRyaWJ1dGVzIH1cbiAgc2V0IF9hdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IobGV0IFthdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgaWYodHlwZW9mIGF0dHJpYnV0ZVZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVLZXkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgX3VpKCkge1xuICAgIHRoaXMudWkgPSAodGhpcy51aSlcbiAgICAgID8gdGhpcy51aVxuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpXG4gIH1cbiAgc2V0IF91aSh1aSkge1xuICAgIGlmKCF0aGlzLl91aVsnJGVsZW1lbnQnXSkgdGhpcy5fdWlbJyRlbGVtZW50J10gPSB0aGlzLmVsZW1lbnRcbiAgICBmb3IobGV0IFt1aUtleSwgdWlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModWkpKSB7XG4gICAgICBpZih0eXBlb2YgdWlWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fdWlbdWlLZXldID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHVpVmFsdWUpXG4gICAgICB9IGVsc2UgaWYoXG4gICAgICAgIHVpVmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxuICAgICAgICB1aVZhbHVlIGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl91aVt1aUtleV0gPSB1aVZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfdWlFdmVudHMoKSB7IHJldHVybiB0aGlzLnVpRXZlbnRzIH1cbiAgc2V0IF91aUV2ZW50cyh1aUV2ZW50cykgeyB0aGlzLnVpRXZlbnRzID0gdWlFdmVudHMgfVxuICBnZXQgX3VpQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSAodGhpcy51aUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy51aUNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF91aUNhbGxiYWNrcyh1aUNhbGxiYWNrcykge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgdWlDYWxsYmFja3MsIHRoaXMuX3VpQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfb2JzZXJ2ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9ICh0aGlzLm9ic2VydmVyQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLm9ic2VydmVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX29ic2VydmVyQ2FsbGJhY2tzKG9ic2VydmVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBvYnNlcnZlckNhbGxiYWNrcywgdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IGVsZW1lbnRPYnNlcnZlcigpIHtcbiAgICB0aGlzLl9lbGVtZW50T2JzZXJ2ZXIgPSAodGhpcy5fZWxlbWVudE9ic2VydmVyKVxuICAgICAgPyB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgICAgIDogbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5lbGVtZW50T2JzZXJ2ZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgfVxuICBnZXQgX2luc2VydCgpIHsgcmV0dXJuIHRoaXMuaW5zZXJ0IH1cbiAgc2V0IF9pbnNlcnQoaW5zZXJ0KSB7IHRoaXMuaW5zZXJ0ID0gaW5zZXJ0IH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfdGVtcGxhdGVzKCkge1xuICAgIHRoaXMudGVtcGxhdGVzID0gKHRoaXMudGVtcGxhdGVzKVxuICAgICAgPyB0aGlzLnRlbXBsYXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlc1xuICB9XG4gIHNldCBfdGVtcGxhdGVzKHRlbXBsYXRlcykge1xuICAgIHRoaXMudGVtcGxhdGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHRlbXBsYXRlcywgdGhpcy5fdGVtcGxhdGVzXG4gICAgKVxuICB9XG4gIGVsZW1lbnRPYnNlcnZlKG11dGF0aW9uUmVjb3JkTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICBmb3IobGV0IFttdXRhdGlvblJlY29yZEluZGV4LCBtdXRhdGlvblJlY29yZF0gb2YgT2JqZWN0LmVudHJpZXMobXV0YXRpb25SZWNvcmRMaXN0KSkge1xuICAgICAgc3dpdGNoKG11dGF0aW9uUmVjb3JkLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICBsZXQgbXV0YXRpb25SZWNvcmRDYXRlZ29yaWVzID0gWydhZGRlZE5vZGVzJywgJ3JlbW92ZWROb2RlcyddXG4gICAgICAgICAgZm9yKGxldCBtdXRhdGlvblJlY29yZENhdGVnb3J5IG9mIG11dGF0aW9uUmVjb3JkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgaWYobXV0YXRpb25SZWNvcmRbbXV0YXRpb25SZWNvcmRDYXRlZ29yeV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXRVSSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF1dG9JbnNlcnQoKSB7XG4gICAgaWYodGhpcy5pbnNlcnQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnNlcnQuZWxlbWVudClcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMuaW5zZXJ0Lm1ldGhvZCwgdGhpcy5lbGVtZW50KVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgYXV0b1JlbW92ZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxuICBlbmFibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MuZWxlbWVudE5hbWUpIHRoaXMuX2VsZW1lbnROYW1lID0gc2V0dGluZ3MuZWxlbWVudE5hbWVcbiAgICBpZihzZXR0aW5ncy5lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gc2V0dGluZ3MuZWxlbWVudFxuICAgIGlmKHNldHRpbmdzLmF0dHJpYnV0ZXMpIHRoaXMuX2F0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzXG4gICAgaWYoc2V0dGluZ3MudGVtcGxhdGVzKSB0aGlzLl90ZW1wbGF0ZXMgPSBzZXR0aW5ncy50ZW1wbGF0ZXNcbiAgICBpZihzZXR0aW5ncy5pbnNlcnQpIHRoaXMuX2luc2VydCA9IHNldHRpbmdzLmluc2VydFxuICB9XG4gIGRpc2FibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVsZW1lbnQgJiZcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgKSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgaWYodGhpcy5lbGVtZW50KSBkZWxldGUgdGhpcy5lbGVtZW50XG4gICAgaWYodGhpcy5hdHRyaWJ1dGVzKSBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzXG4gICAgaWYodGhpcy50ZW1wbGF0ZXMpIGRlbGV0ZSB0aGlzLnRlbXBsYXRlc1xuICAgIGlmKHRoaXMuaW5zZXJ0KSBkZWxldGUgdGhpcy5pbnNlcnRcbiAgfVxuICByZXNldFVJKCkge1xuICAgIHRoaXMuZGlzYWJsZVVJKClcbiAgICB0aGlzLmVuYWJsZVVJKClcbiAgfVxuICBlbmFibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpKSB0aGlzLl91aSA9IHNldHRpbmdzLnVpXG4gICAgaWYoc2V0dGluZ3MudWlDYWxsYmFja3MpIHRoaXMuX3VpQ2FsbGJhY2tzID0gc2V0dGluZ3MudWlDYWxsYmFja3NcbiAgICBpZihzZXR0aW5ncy51aUV2ZW50cykge1xuICAgICAgdGhpcy5fdWlFdmVudHMgPSBzZXR0aW5ncy51aUV2ZW50c1xuICAgICAgdGhpcy5lbmFibGVVSUV2ZW50cygpXG4gICAgfVxuICB9XG4gIGRpc2FibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpRXZlbnRzKSB7XG4gICAgICB0aGlzLmRpc2FibGVVSUV2ZW50cygpXG4gICAgICBkZWxldGUgdGhpcy5fdWlFdmVudHNcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMudWlFdmVudHNcbiAgICBkZWxldGUgdGhpcy51aVxuICAgIGRlbGV0ZSB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgZW5hYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyhcbiAgICAgICAgdGhpcy51aUV2ZW50cyxcbiAgICAgICAgdGhpcy51aSxcbiAgICAgICAgdGhpcy51aUNhbGxiYWNrc1xuICAgICAgKVxuICAgIH1cbiAgfVxuICBkaXNhYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoXG4gICAgICAgIHRoaXMudWlFdmVudHMsXG4gICAgICAgIHRoaXMudWksXG4gICAgICAgIHRoaXMudWlDYWxsYmFja3NcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5lbWl0dGVycykgdGhpcy5fZW1pdHRlcnMgPSB0aGlzLnNldHRpbmdzLmVtaXR0ZXJzXG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGlmKHRoaXMuX2VtaXR0ZXJzKSBkZWxldGUgdGhpcy5fZW1pdHRlcnNcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLl9lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuZW5hYmxlRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMuZW5hYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5fZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLmRpc2FibGVFbGVtZW50KHNldHRpbmdzKVxuICAgICAgdGhpcy5kaXNhYmxlRW1pdHRlcnMoKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgICByZXR1cm4gdGhpc3NcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Db250cm9sbGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VtaXR0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gKHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5lbWl0dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICB9XG4gIHNldCBfZW1pdHRlckNhbGxiYWNrcyhlbWl0dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGVtaXR0ZXJDYWxsYmFja3MsIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbENhbGxiYWNrcygpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gKHRoaXMubW9kZWxDYWxsYmFja3MpXG4gICAgICA/IHRoaXMubW9kZWxDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbENhbGxiYWNrc1xuICB9XG4gIHNldCBfbW9kZWxDYWxsYmFja3MobW9kZWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsQ2FsbGJhY2tzLCB0aGlzLl9tb2RlbENhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdDYWxsYmFja3MoKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gKHRoaXMudmlld0NhbGxiYWNrcylcbiAgICAgID8gdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0NhbGxiYWNrc1xuICB9XG4gIHNldCBfdmlld0NhbGxiYWNrcyh2aWV3Q2FsbGJhY2tzKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdDYWxsYmFja3MsIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9ICh0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJDYWxsYmFja3MoY29udHJvbGxlckNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyQ2FsbGJhY2tzLCB0aGlzLl9jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxzKCkge1xuICAgIHRoaXMubW9kZWxzID0gKHRoaXMubW9kZWxzKVxuICAgICAgPyB0aGlzLm1vZGVsc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICB9XG4gIHNldCBfbW9kZWxzKG1vZGVscykge1xuICAgIHRoaXMubW9kZWxzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVscywgdGhpcy5fbW9kZWxzXG4gICAgKVxuICB9XG4gIGdldCBfdmlld3MoKSB7XG4gICAgdGhpcy52aWV3cyA9ICh0aGlzLnZpZXdzKVxuICAgICAgPyB0aGlzLnZpZXdzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld3NcbiAgfVxuICBzZXQgX3ZpZXdzKHZpZXdzKSB7XG4gICAgdGhpcy52aWV3cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3cywgdGhpcy5fdmlld3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVycygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gKHRoaXMuY29udHJvbGxlcnMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyc1xuICB9XG4gIHNldCBfY29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGNvbnRyb2xsZXJzLCB0aGlzLl9jb250cm9sbGVyc1xuICAgIClcbiAgfVxuICBnZXQgX3JvdXRlcnMoKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gKHRoaXMucm91dGVycylcbiAgICAgID8gdGhpcy5yb3V0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyc1xuICB9XG4gIHNldCBfcm91dGVycyhyb3V0ZXJzKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcnMsIHRoaXMuX3JvdXRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSAodGhpcy5yb3V0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMucm91dGVyRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9yb3V0ZXJFdmVudHMocm91dGVyRXZlbnRzKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyRXZlbnRzLCB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSAodGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9yb3V0ZXJDYWxsYmFja3Mocm91dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyQ2FsbGJhY2tzLCB0aGlzLl9yb3V0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9lbWl0dGVyRXZlbnRzKCkge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9ICh0aGlzLmVtaXR0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMuZW1pdHRlckV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXJFdmVudHNcbiAgfVxuICBzZXQgX2VtaXR0ZXJFdmVudHMoZW1pdHRlckV2ZW50cykge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBlbWl0dGVyRXZlbnRzLCB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxFdmVudHMoKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9ICh0aGlzLm1vZGVsRXZlbnRzKVxuICAgICAgPyB0aGlzLm1vZGVsRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMubW9kZWxFdmVudHNcbiAgfVxuICBzZXQgX21vZGVsRXZlbnRzKG1vZGVsRXZlbnRzKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBtb2RlbEV2ZW50cywgdGhpcy5fbW9kZWxFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF92aWV3RXZlbnRzKCkge1xuICAgIHRoaXMudmlld0V2ZW50cyA9ICh0aGlzLnZpZXdFdmVudHMpXG4gICAgICA/IHRoaXMudmlld0V2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnZpZXdFdmVudHNcbiAgfVxuICBzZXQgX3ZpZXdFdmVudHModmlld0V2ZW50cykge1xuICAgIHRoaXMudmlld0V2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3RXZlbnRzLCB0aGlzLl92aWV3RXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlckV2ZW50cygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSAodGhpcy5jb250cm9sbGVyRXZlbnRzKVxuICAgICAgPyB0aGlzLmNvbnRyb2xsZXJFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9jb250cm9sbGVyRXZlbnRzKGNvbnRyb2xsZXJFdmVudHMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgY29udHJvbGxlckV2ZW50cywgdGhpcy5fY29udHJvbGxlckV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlTW9kZWxFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5tb2RlbEV2ZW50cywgdGhpcy5tb2RlbHMsIHRoaXMubW9kZWxDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZU1vZGVsRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLm1vZGVsRXZlbnRzLCB0aGlzLm1vZGVscywgdGhpcy5tb2RlbENhbGxiYWNrcylcbiAgfVxuICBlbmFibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMudmlld0V2ZW50cywgdGhpcy52aWV3cywgdGhpcy52aWV3Q2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLnZpZXdFdmVudHMsIHRoaXMudmlld3MsIHRoaXMudmlld0NhbGxiYWNrcylcbiAgfVxuICBlbmFibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuY29udHJvbGxlckV2ZW50cywgdGhpcy5jb250cm9sbGVycywgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmNvbnRyb2xsZXJFdmVudHMsIHRoaXMuY29udHJvbGxlcnMsIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuZW1pdHRlckV2ZW50cywgdGhpcy5lbWl0dGVycywgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmVtaXR0ZXJFdmVudHMsIHRoaXMuZW1pdHRlcnMsIHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVSb3V0ZXJFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZVJvdXRlckV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy5tb2RlbENhbGxiYWNrcykgdGhpcy5fbW9kZWxDYWxsYmFja3MgPSBzZXR0aW5ncy5tb2RlbENhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mudmlld0NhbGxiYWNrcykgdGhpcy5fdmlld0NhbGxiYWNrcyA9IHNldHRpbmdzLnZpZXdDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLmNvbnRyb2xsZXJDYWxsYmFja3MpIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy5lbWl0dGVyQ2FsbGJhY2tzKSB0aGlzLl9lbWl0dGVyQ2FsbGJhY2tzID0gc2V0dGluZ3MuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mucm91dGVyQ2FsbGJhY2tzKSB0aGlzLl9yb3V0ZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLm1vZGVscykgdGhpcy5fbW9kZWxzID0gc2V0dGluZ3MubW9kZWxzXG4gICAgICBpZihzZXR0aW5ncy52aWV3cykgdGhpcy5fdmlld3MgPSBzZXR0aW5ncy52aWV3c1xuICAgICAgaWYoc2V0dGluZ3MuY29udHJvbGxlcnMpIHRoaXMuX2NvbnRyb2xsZXJzID0gc2V0dGluZ3MuY29udHJvbGxlcnNcbiAgICAgIGlmKHNldHRpbmdzLmVtaXR0ZXJzKSB0aGlzLl9lbWl0dGVycyA9IHNldHRpbmdzLmVtaXR0ZXJzXG4gICAgICBpZihzZXR0aW5ncy5yb3V0ZXJzKSB0aGlzLl9yb3V0ZXJzID0gc2V0dGluZ3Mucm91dGVyc1xuICAgICAgaWYoc2V0dGluZ3MubW9kZWxFdmVudHMpIHRoaXMuX21vZGVsRXZlbnRzID0gc2V0dGluZ3MubW9kZWxFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnZpZXdFdmVudHMpIHRoaXMuX3ZpZXdFdmVudHMgPSBzZXR0aW5ncy52aWV3RXZlbnRzXG4gICAgICBpZihzZXR0aW5ncy5jb250cm9sbGVyRXZlbnRzKSB0aGlzLl9jb250cm9sbGVyRXZlbnRzID0gc2V0dGluZ3MuY29udHJvbGxlckV2ZW50c1xuICAgICAgaWYoc2V0dGluZ3MuZW1pdHRlckV2ZW50cykgdGhpcy5fZW1pdHRlckV2ZW50cyA9IHNldHRpbmdzLmVtaXR0ZXJFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnJvdXRlckV2ZW50cykgdGhpcy5fcm91dGVyRXZlbnRzID0gc2V0dGluZ3Mucm91dGVyRXZlbnRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVNb2RlbEV2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy52aWV3RXZlbnRzICYmXG4gICAgICAgIHRoaXMudmlld3MgJiZcbiAgICAgICAgdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVWaWV3RXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVycyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMucm91dGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMucm91dGVycyAmJlxuICAgICAgICB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlUm91dGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmVtaXR0ZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5lbWl0dGVycyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kaXNhYmxlKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVZpZXdFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfX1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnJvdXRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLnJvdXRlcnMgJiZcbiAgICAgICAgdGhpcy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVSb3V0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZW1pdHRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJzICYmXG4gICAgICAgIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JvdXRlckNhbGxiYWNrc1xuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1xuICAgICAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlcnNcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3RXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Sb3V0ZXIgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxuICB9XG4gIGdldCBwcm90b2NvbCgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCB9XG4gIGdldCBob3N0bmFtZSgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSB9XG4gIGdldCBwb3J0KCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBvcnQgfVxuICBnZXQgcGF0aCgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSB9XG4gIGdldCBoYXNoKCkge1xuICAgIGxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJylcbiAgICBpZihoYXNoSW5kZXggPiAtMSkge1xuICAgICAgbGV0IHBhcmFtSW5kZXggPSBocmVmLmluZGV4T2YoJz8nKVxuICAgICAgbGV0IHNsaWNlU3RhcnQgPSBoYXNoSW5kZXggKyAxXG4gICAgICBsZXQgc2xpY2VTdG9wXG4gICAgICBpZihwYXJhbUluZGV4ID4gLTEpIHtcbiAgICAgICAgc2xpY2VTdG9wID0gKGhhc2hJbmRleCA+IHBhcmFtSW5kZXgpXG4gICAgICAgICAgPyBocmVmLmxlbmd0aFxuICAgICAgICAgIDogcGFyYW1JbmRleFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpY2VTdG9wID0gaHJlZi5sZW5ndGhcbiAgICAgIH1cbiAgICAgIGhyZWYgPSBocmVmLnNsaWNlKHNsaWNlU3RhcnQsIHNsaWNlU3RvcClcbiAgICAgIGlmKGhyZWYubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBocmVmXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICBnZXQgcGFyYW1zKCkge1xuICAgIGxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgcGFyYW1JbmRleCA9IGhyZWYuaW5kZXhPZignPycpXG4gICAgaWYocGFyYW1JbmRleCA+IC0xKSB7XG4gICAgICBsZXQgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJylcbiAgICAgIGxldCBzbGljZVN0YXJ0ID0gcGFyYW1JbmRleCArIDFcbiAgICAgIGxldCBzbGljZVN0b3BcbiAgICAgIGlmKGhhc2hJbmRleCA+IC0xKSB7XG4gICAgICAgIHNsaWNlU3RvcCA9IChwYXJhbUluZGV4ID4gaGFzaEluZGV4KVxuICAgICAgICAgID8gaHJlZi5sZW5ndGhcbiAgICAgICAgICA6IGhhc2hJbmRleFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpY2VTdG9wID0gaHJlZi5sZW5ndGhcbiAgICAgIH1cbiAgICAgIGhyZWYgPSBocmVmLnNsaWNlKHNsaWNlU3RhcnQsIHNsaWNlU3RvcClcbiAgICAgIGlmKGhyZWYubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBocmVmXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICBnZXQgX3JvdXRlRGF0YSgpIHtcbiAgICBsZXQgcm91dGVEYXRhID0ge1xuICAgICAgbG9jYXRpb246IHt9LFxuICAgICAgY29udHJvbGxlcjoge30sXG4gICAgfVxuICAgIGxldCBwYXRoID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgIHBhdGggPSAocGF0aC5sZW5ndGgpXG4gICAgICA/IHBhdGhcbiAgICAgIDogWycvJ11cbiAgICBsZXQgaGFzaCA9IHRoaXMuaGFzaFxuICAgIGxldCBoYXNoRnJhZ21lbnRzID0gKGhhc2gpXG4gICAgICA/IGhhc2guc3BsaXQoJy8nKS5maWx0ZXIoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5sZW5ndGgpXG4gICAgICA6IG51bGxcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wYXJhbXNcbiAgICBsZXQgcGFyYW1EYXRhID0gKHBhcmFtcylcbiAgICAgID8gTVZDLlV0aWxzLnBhcmFtc1RvT2JqZWN0KHBhcmFtcylcbiAgICAgIDogbnVsbFxuICAgIGlmKHRoaXMucHJvdG9jb2wpIHJvdXRlRGF0YS5sb2NhdGlvbi5wcm90b2NvbCA9IHRoaXMucHJvdG9jb2xcbiAgICBpZih0aGlzLmhvc3RuYW1lKSByb3V0ZURhdGEubG9jYXRpb24uaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lXG4gICAgaWYodGhpcy5wb3J0KSByb3V0ZURhdGEubG9jYXRpb24ucG9ydCA9IHRoaXMucG9ydFxuICAgIGlmKHRoaXMucGF0aCkgcm91dGVEYXRhLmxvY2F0aW9uLnBhdGggPSB0aGlzLnBhdGhcbiAgICBpZihcbiAgICAgIGhhc2ggJiZcbiAgICAgIGhhc2hGcmFnbWVudHNcbiAgICApIHtcbiAgICAgIGhhc2hGcmFnbWVudHMgPSAoaGFzaEZyYWdtZW50cy5sZW5ndGgpXG4gICAgICA/IGhhc2hGcmFnbWVudHNcbiAgICAgIDogWycvJ11cbiAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5oYXNoID0ge1xuICAgICAgICBwYXRoOiBoYXNoLFxuICAgICAgICBmcmFnbWVudHM6IGhhc2hGcmFnbWVudHMsXG4gICAgICB9XG4gICAgfVxuICAgIGlmKFxuICAgICAgcGFyYW1zICYmXG4gICAgICBwYXJhbURhdGFcbiAgICApIHtcbiAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5wYXJhbXMgPSB7XG4gICAgICAgIHBhdGg6IHBhcmFtcyxcbiAgICAgICAgZGF0YTogcGFyYW1EYXRhLFxuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZURhdGEubG9jYXRpb24ucGF0aCA9IHtcbiAgICAgIG5hbWU6IHRoaXMucGF0aCxcbiAgICAgIGZyYWdtZW50czogcGF0aCxcbiAgICB9XG4gICAgcm91dGVEYXRhLmxvY2F0aW9uLmN1cnJlbnRVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICBsZXQgcm91dGVDb250cm9sbGVyRGF0YSA9IHRoaXMuX3JvdXRlQ29udHJvbGxlckRhdGFcbiAgICByb3V0ZURhdGEubG9jYXRpb24gPSBPYmplY3QuYXNzaWduKFxuICAgICAgcm91dGVEYXRhLmxvY2F0aW9uLFxuICAgICAgcm91dGVDb250cm9sbGVyRGF0YS5sb2NhdGlvblxuICAgIClcbiAgICByb3V0ZURhdGEuY29udHJvbGxlciA9IHJvdXRlQ29udHJvbGxlckRhdGEuY29udHJvbGxlclxuICAgIHRoaXMucm91dGVEYXRhID0gcm91dGVEYXRhXG4gICAgcmV0dXJuIHRoaXMucm91dGVEYXRhXG4gIH1cbiAgZ2V0IF9yb3V0ZUNvbnRyb2xsZXJEYXRhKCkge1xuICAgIGxldCByb3V0ZURhdGEgPSB7XG4gICAgICBsb2NhdGlvbjoge30sXG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucm91dGVzKVxuICAgICAgLmZvckVhY2goKFtyb3V0ZVBhdGgsIHJvdXRlU2V0dGluZ3NdKSA9PiB7XG4gICAgICAgIGxldCBwYXRoRnJhZ21lbnRzID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgICAgICBwYXRoRnJhZ21lbnRzID0gKHBhdGhGcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgID8gcGF0aEZyYWdtZW50c1xuICAgICAgICAgIDogWycvJ11cbiAgICAgICAgbGV0IHJvdXRlRnJhZ21lbnRzID0gcm91dGVQYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCwgZnJhZ21lbnRJbmRleCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgICAgICByb3V0ZUZyYWdtZW50cyA9IChyb3V0ZUZyYWdtZW50cy5sZW5ndGgpXG4gICAgICAgICAgPyByb3V0ZUZyYWdtZW50c1xuICAgICAgICAgIDogWycvJ11cbiAgICAgICAgaWYoXG4gICAgICAgICAgcGF0aEZyYWdtZW50cy5sZW5ndGggJiZcbiAgICAgICAgICBwYXRoRnJhZ21lbnRzLmxlbmd0aCA9PT0gcm91dGVGcmFnbWVudHMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIGxldCBtYXRjaFxuICAgICAgICAgIHJldHVybiByb3V0ZUZyYWdtZW50cy5maWx0ZXIoKHJvdXRlRnJhZ21lbnQsIHJvdXRlRnJhZ21lbnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgIG1hdGNoID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgbWF0Y2ggPT09IHRydWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZihyb3V0ZUZyYWdtZW50WzBdID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudElES2V5ID0gcm91dGVGcmFnbWVudC5yZXBsYWNlKCc6JywgJycpXG4gICAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50SW5kZXggPT09IHBhdGhGcmFnbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgcm91dGVEYXRhLmxvY2F0aW9uLmN1cnJlbnRJREtleSA9IGN1cnJlbnRJREtleVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZURhdGEubG9jYXRpb25bY3VycmVudElES2V5XSA9IHBhdGhGcmFnbWVudHNbcm91dGVGcmFnbWVudEluZGV4XVxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50SURSZWdFeHBcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gcm91dGVGcmFnbWVudC5yZXBsYWNlKG5ldyBSZWdFeHAoJy8nLCAnZ2knKSwgJ1xcXFxcXC8nKVxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnQgPSB0aGlzLnJvdXRlRnJhZ21lbnROYW1lUmVnRXhwKHJvdXRlRnJhZ21lbnQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWF0Y2ggPSByb3V0ZUZyYWdtZW50LnRlc3QocGF0aEZyYWdtZW50c1tyb3V0ZUZyYWdtZW50SW5kZXhdKVxuICAgICAgICAgICAgICBpZihcbiAgICAgICAgICAgICAgICBtYXRjaCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnRJbmRleCA9PT0gcGF0aEZyYWdtZW50cy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5yb3V0ZSA9IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHJvdXRlUGF0aCxcbiAgICAgICAgICAgICAgICAgIGZyYWdtZW50czogcm91dGVGcmFnbWVudHMsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvdXRlRGF0YS5jb250cm9sbGVyID0gcm91dGVTZXR0aW5nc1xuICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZVNldHRpbmdzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVswXVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIHJldHVybiByb3V0ZURhdGFcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZ2V0IF9yb3V0ZXMoKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSAodGhpcy5yb3V0ZXMpXG4gICAgICA/IHRoaXMucm91dGVzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVzXG4gIH1cbiAgc2V0IF9yb3V0ZXMocm91dGVzKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVzLCB0aGlzLl9yb3V0ZXNcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyKCkgeyByZXR1cm4gdGhpcy5jb250cm9sbGVyIH1cbiAgc2V0IF9jb250cm9sbGVyKGNvbnRyb2xsZXIpIHsgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlciB9XG4gIGdldCBfcHJldmlvdXNVUkwoKSB7IHJldHVybiB0aGlzLnByZXZpb3VzVVJMIH1cbiAgc2V0IF9wcmV2aW91c1VSTChwcmV2aW91c1VSTCkgeyB0aGlzLnByZXZpb3VzVVJMID0gcHJldmlvdXNVUkwgfVxuICBnZXQgX2N1cnJlbnRVUkwoKSB7IHJldHVybiB0aGlzLmN1cnJlbnRVUkwgfVxuICBzZXQgX2N1cnJlbnRVUkwoY3VycmVudFVSTCkge1xuICAgIGlmKHRoaXMuY3VycmVudFVSTCkgdGhpcy5fcHJldmlvdXNVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICB0aGlzLmN1cnJlbnRVUkwgPSBjdXJyZW50VVJMXG4gIH1cbiAgZ2V0IGZyYWdtZW50SURSZWdFeHAoKSB7IHJldHVybiBuZXcgUmVnRXhwKC9eKFswLTlBLVpcXD9cXD1cXCxcXC5cXCpcXC1cXF9cXCdcXFwiXFxeXFwlXFwkXFwjXFxAXFwhXFx+XFwoXFwpXFx7XFx9XFwmXFw8XFw+XFxcXFxcL10pKiQvLCAnZ2knKSB9XG4gIHJvdXRlRnJhZ21lbnROYW1lUmVnRXhwKGZyYWdtZW50KSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nLmNvbmNhdChmcmFnbWVudCwgJyQnKSlcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgaWYoXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuZW5hYmxlRXZlbnRzKClcbiAgICAgIHRoaXMuZW5hYmxlUm91dGVzKClcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlRXZlbnRzKClcbiAgICAgIHRoaXMuZGlzYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLmRpc2FibGVFbWl0dGVycygpXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbiAgZW5hYmxlUm91dGVzKCkge1xuICAgIGlmKHRoaXMuc2V0dGluZ3MuY29udHJvbGxlcikgdGhpcy5fY29udHJvbGxlciA9IHRoaXMuc2V0dGluZ3MuY29udHJvbGxlclxuICAgIHRoaXMuX3JvdXRlcyA9IE9iamVjdC5lbnRyaWVzKHRoaXMuc2V0dGluZ3Mucm91dGVzKS5yZWR1Y2UoXG4gICAgICAoXG4gICAgICAgIF9yb3V0ZXMsXG4gICAgICAgIFtyb3V0ZVBhdGgsIHJvdXRlU2V0dGluZ3NdLFxuICAgICAgICByb3V0ZUluZGV4LFxuICAgICAgICBvcmlnaW5hbFJvdXRlcyxcbiAgICAgICkgPT4ge1xuICAgICAgICBfcm91dGVzW3JvdXRlUGF0aF0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHJvdXRlU2V0dGluZ3MsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMuY29udHJvbGxlcltyb3V0ZVNldHRpbmdzLmNhbGxiYWNrXS5iaW5kKHRoaXMuY29udHJvbGxlciksXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICAgIHJldHVybiBfcm91dGVzXG4gICAgICB9LFxuICAgICAge31cbiAgICApXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBlbmFibGVFbWl0dGVycygpIHtcbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5fZW1pdHRlcnMsXG4gICAgICB0aGlzLnNldHRpbmdzLmVtaXR0ZXJzLFxuICAgICAge1xuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXI6IG5ldyBNVkMuRW1pdHRlcnMuTmF2aWdhdGUoKSxcbiAgICAgIH1cbiAgICApXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBkaXNhYmxlRW1pdHRlcnMoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzLm5hdmlnYXRlRW1pdHRlclxuICB9XG4gIGRpc2FibGVSb3V0ZXMoKSB7XG4gICAgZGVsZXRlIHRoaXMuX3JvdXRlc1xuICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyXG4gIH1cbiAgZW5hYmxlRXZlbnRzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5yb3V0ZUNoYW5nZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZUV2ZW50cygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMucm91dGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgfVxuICByb3V0ZUNoYW5nZSgpIHtcbiAgICB0aGlzLl9jdXJyZW50VVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgcm91dGVEYXRhID0gdGhpcy5fcm91dGVEYXRhXG4gICAgaWYocm91dGVEYXRhLmNvbnRyb2xsZXIpIHtcbiAgICAgIGxldCBuYXZpZ2F0ZUVtaXR0ZXIgPSB0aGlzLmVtaXR0ZXJzLm5hdmlnYXRlRW1pdHRlclxuICAgICAgaWYodGhpcy5wcmV2aW91c1VSTCkgcm91dGVEYXRhLnByZXZpb3VzVVJMID0gdGhpcy5wcmV2aW91c1VSTFxuICAgICAgbmF2aWdhdGVFbWl0dGVyXG4gICAgICAgIC51bnNldCgpXG4gICAgICAgIC5zZXQocm91dGVEYXRhKVxuICAgICAgdGhpcy5lbWl0KFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIubmFtZSxcbiAgICAgICAgbmF2aWdhdGVFbWl0dGVyLmVtaXNzaW9uKClcbiAgICAgIClcbiAgICAgIHJvdXRlRGF0YS5jb250cm9sbGVyLmNhbGxiYWNrKFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIuZW1pc3Npb24oKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIG5hdmlnYXRlKHBhdGgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGhcbiAgfVxufVxuIl0sImZpbGUiOiJicm93c2VyL212Yy1mcmFtZXdvcmstbWluLmpzIn0=

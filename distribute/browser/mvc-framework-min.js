var MVC=MVC||{};MVC.Constants={},MVC.CONST=MVC.Constants,MVC.Constants.Events={},MVC.CONST.EV=MVC.Constants.Events,MVC.Utils={},MVC.Utils.isArray=function(t){return Array.isArray(t)},MVC.Utils.isObject=function(t){return!Array.isArray(t)&&"object"==typeof t},MVC.Utils.isEqualType=function(t,e){return t===e},MVC.Utils.isHTMLElement=function(t){return t instanceof HTMLElement},MVC.Utils.typeOf=function(t){switch(typeof t){case"object":return MVC.Utils.isArray(t)?"array":MVC.Utils.isObject(t)?"object":null===t?"null":void 0;case"string":case"number":case"boolean":case"undefined":case"function":return typeof t}},MVC.Utils.addPropertiesToObject=function(){var t;switch(arguments.length){case 2:var e=arguments[0];for(var[s,i]of(t=arguments[1],Object.entries(e)))t[s]=i;break;case 3:var r=arguments[0],a=arguments[1];(t=arguments[2])[r]=a}return t},MVC.Utils.objectQuery=function(t,e){var s=MVC.Utils.objectQuery.parseNotation(t);return"@"===s[0]&&s.splice(0,1),s.length?(e=MVC.Utils.isObject(e)?Object.entries(e):e,s.reduce((t,e,s,i)=>{var r=[];for(var[a,n]of(e=MVC.Utils.objectQuery.parseFragment(e),t))a.match(e)&&(r=s===i.length-1?r.concat([[a,n]]):r.concat(Object.entries(n)));return t=r},e)):e},MVC.Utils.objectQuery.parseNotation=function(t){return t="["===t.charAt(0)&&"]"==t.charAt(t.length-1)?t.slice(1,-1).split("]["):t.split(".")},MVC.Utils.objectQuery.parseFragment=function(t){return"/"===t.charAt(0)&&"/"==t.charAt(t.length-1)&&(t=t.slice(1,-1),t=new RegExp("^".concat(t,"$"))),t},MVC.Utils.toggleEventsForTargetObjects=function(t,e,s,i){for(var[r,a]of Object.entries(e)){var n=r.split(" "),l=n[0],h=n[1],o=MVC.Utils.objectQuery(l,s);for(var[c,b]of o=MVC.Utils.isArray(o)?o:[["@",o]]){var u="on"===t?b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"addEventListener":"on":b instanceof NodeList||b instanceof HTMLElement||b instanceof Document?"removeEventListener":"off",v=MVC.Utils.objectQuery(a,i)[0][1];if(b instanceof NodeList)for(var d of b)d[u](h,v);else HTMLElement,b[u](h,v)}}},MVC.Utils.bindEventsToTargetObjects=function(){this.toggleEventsForTargetObjects("on",...arguments)},MVC.Utils.unbindEventsFromTargetObjects=function(){this.toggleEventsForTargetObjects("off",...arguments)},MVC.Utils.validateDataSchema=function(t,e){if(!e)throw MVC.TMPL;switch(MVC.Utils.typeOf(t)){case"array":var s=[];if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(s)))for(var[i,r]of(console.log(e.name),Object.entries(t)))s.push(this.validateDataSchema(r));return s;case"object":var a={};if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(a)))for(var[n,l]of(console.log(e.name),Object.entries(t)))a[n]=this.validateDataSchema(l,e[n]);return a;case"string":case"number":case"boolean":if(e="function"===MVC.Utils.typeOf(e)?e():e,MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return console.log(e.name),t;throw MVC.TMPL;case"null":if(MVC.Utils.isEqualType(MVC.Utils.typeOf(e),MVC.Utils.typeOf(t)))return t;break;case"undefined":case"function":throw MVC.TMPL}},MVC.Events=class{constructor(){}get _events(){return this.events=this.events?this.events:{},this.events}eventCallbacks(t){return this._events[t]||{}}eventCallbackName(t){return t.name.length?t.name:"anonymousFunction"}eventCallbackGroup(t,e){return t[e]||[]}on(t,e){var s=this.eventCallbacks(t),i=this.eventCallbackName(e),r=this.eventCallbackGroup(s,i);r.push(e),s[i]=r,this._events[t]=s}off(){switch(arguments.length){case 1:var t=arguments[0];delete this._events[t];break;case 2:t=arguments[0];var e=arguments[1],s=this.eventCallbackName(e);delete this._events[t][s]}}emit(t,e){var s=this.eventCallbacks(t);for(var[i,r]of Object.entries(s))for(var a of r){a(e,...Object.values(arguments).splice(2)||[])}}},MVC.Channels=class{constructor(){}get _channels(){return this.channels=this.channels?this.channels:{},this.channels}channel(t){return this._channels[t]=this._channels[t]?this._channels[t]:new MVC.Channels.Channel,this._channels[t]}off(t){delete this._channels[t]}},MVC.Channels.Channel=class{constructor(){}get _responses(){return this.responses=this.responses?this.responses:{},this.responses}response(t,e){if(!e)return this._responses[response];this._responses[t]=e}request(t,e){if(this._responses[t])return this._responses[t](e)}off(t){if(t)delete this._responses[t];else for(var[e]of Object.keys(this._responses))delete this._responses[e]}},MVC.Base=class extends MVC.Events{constructor(t,e){super(),e&&(this._configuration=e),t&&(this._settings=t)}get _configuration(){return this.configuration=this.configuration?this.configuration:{},this.configuration}set _configuration(t){this.configuration=t}get _settings(){return this.settings=this.settings?this.settings:{},this.settings}set _settings(t){this.settings=MVC.Utils.addPropertiesToObject(t,this._settings)}get _emitters(){return this.emitters=this.emitters?this.emitters:{},this.emitters}set _emitters(t){this.emitters=MVC.Utils.addPropertiesToObject(t,this._emitters)}},MVC.Service=class extends MVC.Base{constructor(){super(...arguments)}get _defaults(){return this.defaults||{contentType:{"Content-Type":"application/json"},responseType:"json"}}get _responseTypes(){return["","arraybuffer","blob","document","json","text"]}get _responseType(){return this.responseType}set _responseType(t){this._xhr.responseType=this._responseTypes.find(e=>e===t)||this._defaults.responseType}get _type(){return this.type}set _type(t){this.type=t}get _url(){return this.url}set _url(t){this.url=t}get _headers(){return this.headers||[]}set _headers(t){this._headers.length=0,t.forEach(t=>{this._headers.push(t),t=Object.entries(t)[0],this._xhr.setRequestHeader(t[0],t[1])})}get _data(){return this.data}set _data(t){this.data=t}get _xhr(){return this.xhr=this.xhr?this.xhr:new XMLHttpRequest,this.xhr}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}request(t){return t=t||this.data||null,new Promise((e,s)=>{200===this._xhr.status&&this._xhr.abort(),this._xhr.open(this.type,this.url),this._headers=this.settings.headers||[this._defaults.contentType],this._xhr.onload=e,this._xhr.onerror=s,this._xhr.send(t)}).then(t=>(this.emit("xhr:resolve",{name:"xhr:resolve",data:t.currentTarget}),t))}enable(){var t=this.settings;return!this.enabled&&Object.keys(t).length&&(t.type&&(this._type=t.type),t.url&&(this._url=t.url),t.data&&(this._data=t.data||null),this.settings.responseType&&(this._responseType=this._settings.responseType),this._enabled=!0),this}disable(){var t=this.settings;return this.enabled&&Object.keys(t).length&&(delete this._type,delete this._url,delete this._data,delete this._headers,delete this._responseType,this._enabled=!1),this}},MVC.Model=class extends MVC.Base{constructor(){super(...arguments)}get _isSetting(){return this.isSetting}set _isSetting(t){this.isSetting=t}get _changing(){return this.changing=this.changing?this.changing:{},this.changing}get _localStorage(){return this.localStorage}set _localStorage(t){this.localStorage=t}get _defaults(){return this.defaults}set _defaults(t){this.defaults=t}get _schema(){return this._schema}set _schema(t){this.schema=t}get _histiogram(){return this.histiogram||{length:1}}set _histiogram(t){this.histiogram=Object.assign(this._histiogram,t)}get _history(){return this.history=this.history?this.history:[],this.history}set _history(t){Object.keys(t).length&&this._histiogram.length&&(this._history.unshift(this.parse(t)),this._history.splice(this._histiogram.length))}get _db(){var t=localStorage.getItem(this.localStorage.endpoint);return this.db=t||"{}",JSON.parse(this.db)}set _db(t){t=JSON.stringify(t),localStorage.setItem(this.localStorage.endpoint,t)}get _data(){return this.data=this.data?this.data:{},this.data}get _dataEvents(){return this.dataEvents=this.dataEvents?this.dataEvents:{},this.dataEvents}set _dataEvents(t){this.dataEvents=MVC.Utils.addPropertiesToObject(t,this._dataEvents)}get _dataCallbacks(){return this.dataCallbacks=this.dataCallbacks?this.dataCallbacks:{},this.dataCallbacks}set _dataCallbacks(t){this.dataCallbacks=MVC.Utils.addPropertiesToObject(t,this._dataCallbacks)}get _services(){return this.services=this.services?this.services:{},this.services}set _services(t){this.services=MVC.Utils.addPropertiesToObject(t,this._services)}get _serviceEvents(){return this.serviceEvents=this.serviceEvents?this.serviceEvents:{},this.serviceEvents}set _serviceEvents(t){this.serviceEvents=MVC.Utils.addPropertiesToObject(t,this._serviceEvents)}get _serviceCallbacks(){return this.serviceCallbacks=this.serviceCallbacks?this.serviceCallbacks:{},this.serviceCallbacks}set _serviceCallbacks(t){this.serviceCallbacks=MVC.Utils.addPropertiesToObject(t,this._serviceCallbacks)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableServiceEvents(){MVC.Utils.bindEventsToTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}disableServiceEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.serviceEvents,this.services,this.serviceCallbacks)}enableDataEvents(){MVC.Utils.bindEventsToTargetObjects(this.dataEvents,this,this.dataCallbacks)}disableDataEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.dataEvents,this,this.dataCallbacks)}setDefaults(){var t={};this.defaults&&Object.assign(t,this.defaults),this.localStorage&&Object.assign(t,this._db),Object.keys(t)&&this.set(t)}get(){switch(arguments.length){case 0:return this.data;case 1:var t=arguments[0];return this.data[t]}}set(){switch(this._history=this.parse(),arguments.length){case 1:this._isSetting=!0;var t=Object.entries(arguments[0]);t.forEach((e,s)=>{var[i,r]=e;s===t.length-1&&(this._isSetting=!1),this._changing[i]=r,this.setDataProperty(i,r),this.localStorage&&this.setDB(i,r)}),delete this._changing;break;case 2:var e=arguments[0],s=arguments[1];this.setDataProperty(e,s),this.localStorage&&this.setDB(e,s)}return this}unset(){switch(this._history=this.parse(),arguments.length){case 0:for(var t of Object.keys(this._data))this.unsetDataProperty(t);break;case 1:var e=arguments[0];this.unsetDataProperty(e)}return this}setDB(){var t=this._db;switch(arguments.length){case 1:Object.entries(arguments[0]).forEach(e=>{var[s,i]=e;t[s]=i});break;case 2:var e=arguments[0],s=arguments[1];t[e]=s}this._db=t}unsetDB(){switch(arguments.length){case 0:delete this._db;break;case 1:var t=this._db;delete t[arguments[0]],this._db=t}}setDataProperty(t,e){if(!this._data["_".concat(t)]){var s=this;Object.defineProperties(this._data,{["_".concat(t)]:{configurable:!0,get(){return this[t]},set(e){this[t]=e;var i=["set",":",t].join("");s.emit(i,{name:i,data:{key:t,value:e}},s),s._isSetting||(Object.values(s._changing).length?s.emit("set",{name:"set",data:s._changing}):s.emit("set",{name:"set",data:{key:t,value:e}},s))}}})}this._data["_".concat(t)]=e}unsetDataProperty(t){var e=["unset",":",t].join(""),s=this._data[t];delete this._data["_".concat(t)],delete this._data[t],this.emit(e,{name:e,data:{key:t,value:s}}),this.emit("unset",{name:"unset",data:{key:t,value:s}})}parse(t){return t=t||this._data,JSON.parse(JSON.stringify(Object.assign({},t)))}enable(){this.settings&&!this.enabled&&(this.settings.localStorage&&(this._localStorage=this.settings.localStorage),this.settings.histiogram&&(this._histiogram=this.settings.histiogram),this.settings.emitters&&(this._emitters=this.settings.emitters),this.settings.services&&(this._services=this.settings.services),this.settings.serviceCallbacks&&(this._serviceCallbacks=this.settings.serviceCallbacks),this.settings.serviceEvents&&(this._serviceEvents=this.settings.serviceEvents),this.settings.data&&this.set(this.settings.data),this.settings.dataCallbacks&&(this._dataCallbacks=this.settings.dataCallbacks),this.settings.dataEvents&&(this._dataEvents=this.settings.dataEvents),this.settings.schema&&(this._schema=this.settings.schema),this.settings.defaults&&(this._defaults=this.settings.defaults),this.services&&this.serviceEvents&&this.serviceCallbacks&&this.enableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.enableDataEvents(),this._enabled=!0)}disable(){this.settings&&!this.enabled&&(this.services&&this.serviceEvents&&this.serviceCallbacks&&this.disableServiceEvents(),this.dataEvents&&this.dataCallbacks&&this.disableDataEvents(),delete this._localStorage,delete this._histiogram,delete this._services,delete this._serviceCallbacks,delete this._serviceEvents,delete this._data,delete this._dataCallbacks,delete this._dataEvents,delete this._schema,delete this._emitters,this._enabled=!1)}},MVC.Emitter=class extends MVC.Model{constructor(){super(...arguments),this.settings&&this.settings.name&&(this._name=this.settings.name)}get _name(){return this.name}set _name(t){this.name=t}emission(){var t={name:this.name,data:this.data};return this.emit(this.name,t),t}},MVC.Emitters={},MVC.Emitters.Navigate=class extends MVC.Emitter{constructor(){super(...arguments),this.addSettings(),this.enable()}addSettings(){this._name="navigate",this._schema={oldURL:String,newURL:String,currentRoute:String,currentController:String}}},MVC.View=class extends MVC.Base{constructor(){super(...arguments)}get _elementName(){return this._element.tagName}set _elementName(t){this._element||(this._element=document.createElement(t))}get _element(){return this.element}set _element(t){t instanceof HTMLElement||t instanceof Document?this.element=t:"string"==typeof t&&(this.element=document.querySelector(t)),this.elementObserver.observe(this.element,{subtree:!0,childList:!0})}get _attributes(){return this._element.attributes}set _attributes(t){for(var[e,s]of Object.entries(t))void 0===s?this._element.removeAttribute(e):this._element.setAttribute(e,s)}get _ui(){return this.ui=this.ui?this.ui:{},this.ui}set _ui(t){for(var[e,s]of(this._ui.$element||(this._ui.$element=this.element),Object.entries(t)))"string"==typeof s?this._ui[e]=this._element.querySelectorAll(s):(s instanceof HTMLElement||s instanceof Document)&&(this._ui[e]=s)}get _uiEvents(){return this.uiEvents}set _uiEvents(t){this.uiEvents=t}get _uiCallbacks(){return this.uiCallbacks=this.uiCallbacks?this.uiCallbacks:{},this.uiCallbacks}set _uiCallbacks(t){this.uiCallbacks=MVC.Utils.addPropertiesToObject(t,this._uiCallbacks)}get _observerCallbacks(){return this.observerCallbacks=this.observerCallbacks?this.observerCallbacks:{},this.observerCallbacks}set _observerCallbacks(t){this.observerCallbacks=MVC.Utils.addPropertiesToObject(t,this._observerCallbacks)}get elementObserver(){return this._elementObserver=this._elementObserver?this._elementObserver:new MutationObserver(this.elementObserve.bind(this)),this._elementObserver}get _insert(){return this.insert}set _insert(t){this.insert=t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _templates(){return this.templates=this.templates?this.templates:{},this.templates}set _templates(t){this.templates=MVC.Utils.addPropertiesToObject(t,this._templates)}elementObserve(t,e){for(var[s,i]of Object.entries(t))switch(i.type){case"childList":for(var r of["addedNodes","removedNodes"])i[r].length&&this.resetUI()}}autoInsert(){this.insert&&document.querySelectorAll(this.insert.element).forEach(t=>{t.insertAdjacentElement(this.insert.method,this.element)})}autoRemove(){this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element)}enableElement(t){(t=t||this.settings).elementName&&(this._elementName=t.elementName),t.element&&(this._element=t.element),t.attributes&&(this._attributes=t.attributes),t.templates&&(this._templates=t.templates),t.insert&&(this._insert=t.insert)}disableElement(t){t=t||this.settings,this.element&&this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element&&delete this.element,this.attributes&&delete this.attributes,this.templates&&delete this.templates,this.insert&&delete this.insert}resetUI(){this.disableUI(),this.enableUI()}enableUI(t){(t=t||this.settings).ui&&(this._ui=t.ui),t.uiCallbacks&&(this._uiCallbacks=t.uiCallbacks),t.uiEvents&&(this._uiEvents=t.uiEvents,this.enableUIEvents())}disableUI(t){(t=t||this.settings).uiEvents&&(this.disableUIEvents(),delete this._uiEvents),delete this.uiEvents,delete this.ui,delete this.uiCallbacks}enableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.bindEventsToTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}disableUIEvents(){this.uiEvents&&this.ui&&this.uiCallbacks&&MVC.Utils.unbindEventsFromTargetObjects(this.uiEvents,this.ui,this.uiCallbacks)}enableEmitters(){this.settings.emitters&&(this._emitters=this.settings.emitters)}disableEmitters(){this._emitters&&delete this._emitters}enable(){var t=this.settings;if(t&&!this._enabled)return this.enableEmitters(),this.enableElement(t),this.enableUI(t),this._enabled=!0,this}disable(){var t=this.settings;if(t&&this._enabled)return this.disableUI(t),this.disableElement(t),this.disableEmitters(),this._enabled=!1,thiss}},MVC.Controller=class extends MVC.Base{constructor(){super(...arguments)}get _emitterCallbacks(){return this.emitterCallbacks=this.emitterCallbacks?this.emitterCallbacks:{},this.emitterCallbacks}set _emitterCallbacks(t){this.emitterCallbacks=MVC.Utils.addPropertiesToObject(t,this._emitterCallbacks)}get _modelCallbacks(){return this.modelCallbacks=this.modelCallbacks?this.modelCallbacks:{},this.modelCallbacks}set _modelCallbacks(t){this.modelCallbacks=MVC.Utils.addPropertiesToObject(t,this._modelCallbacks)}get _viewCallbacks(){return this.viewCallbacks=this.viewCallbacks?this.viewCallbacks:{},this.viewCallbacks}set _viewCallbacks(t){this.viewCallbacks=MVC.Utils.addPropertiesToObject(t,this._viewCallbacks)}get _controllerCallbacks(){return this.controllerCallbacks=this.controllerCallbacks?this.controllerCallbacks:{},this.controllerCallbacks}set _controllerCallbacks(t){this.controllerCallbacks=MVC.Utils.addPropertiesToObject(t,this._controllerCallbacks)}get _models(){return this.models=this.models?this.models:{},this.models}set _models(t){this.models=MVC.Utils.addPropertiesToObject(t,this._models)}get _views(){return this.views=this.views?this.views:{},this.views}set _views(t){this.views=MVC.Utils.addPropertiesToObject(t,this._views)}get _controllers(){return this.controllers=this.controllers?this.controllers:{},this.controllers}set _controllers(t){this.controllers=MVC.Utils.addPropertiesToObject(t,this._controllers)}get _routers(){return this.routers=this.routers?this.routers:{},this.routers}set _routers(t){this.routers=MVC.Utils.addPropertiesToObject(t,this._routers)}get _routerEvents(){return this.routerEvents=this.routerEvents?this.routerEvents:{},this.routerEvents}set _routerEvents(t){this.routerEvents=MVC.Utils.addPropertiesToObject(t,this._routerEvents)}get _routerCallbacks(){return this.routerCallbacks=this.routerCallbacks?this.routerCallbacks:{},this.routerCallbacks}set _routerCallbacks(t){this.routerCallbacks=MVC.Utils.addPropertiesToObject(t,this._routerCallbacks)}get _emitterEvents(){return this.emitterEvents=this.emitterEvents?this.emitterEvents:{},this.emitterEvents}set _emitterEvents(t){this.emitterEvents=MVC.Utils.addPropertiesToObject(t,this._emitterEvents)}get _modelEvents(){return this.modelEvents=this.modelEvents?this.modelEvents:{},this.modelEvents}set _modelEvents(t){this.modelEvents=MVC.Utils.addPropertiesToObject(t,this._modelEvents)}get _viewEvents(){return this.viewEvents=this.viewEvents?this.viewEvents:{},this.viewEvents}set _viewEvents(t){this.viewEvents=MVC.Utils.addPropertiesToObject(t,this._viewEvents)}get _controllerEvents(){return this.controllerEvents=this.controllerEvents?this.controllerEvents:{},this.controllerEvents}set _controllerEvents(t){this.controllerEvents=MVC.Utils.addPropertiesToObject(t,this._controllerEvents)}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}enableModelEvents(){MVC.Utils.bindEventsToTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}disableModelEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.modelEvents,this.models,this.modelCallbacks)}enableViewEvents(){MVC.Utils.bindEventsToTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}disableViewEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.viewEvents,this.views,this.viewCallbacks)}enableControllerEvents(){MVC.Utils.bindEventsToTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}disableControllerEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.controllerEvents,this.controllers,this.controllerCallbacks)}enableEmitterEvents(){MVC.Utils.bindEventsToTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}disableEmitterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.emitterEvents,this.emitters,this.emitterCallbacks)}enableRouterEvents(){MVC.Utils.bindEventsToTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}disableRouterEvents(){MVC.Utils.unbindEventsFromTargetObjects(this.routerEvents,this.routers,this.routerCallbacks)}enable(){var t=this.settings;t&&!this.enabled&&(t.modelCallbacks&&(this._modelCallbacks=t.modelCallbacks),t.viewCallbacks&&(this._viewCallbacks=t.viewCallbacks),t.controllerCallbacks&&(this._controllerCallbacks=t.controllerCallbacks),t.emitterCallbacks&&(this._emitterCallbacks=t.emitterCallbacks),t.routerCallbacks&&(this._routerCallbacks=t.routerCallbacks),t.models&&(this._models=t.models),t.views&&(this._views=t.views),t.controllers&&(this._controllers=t.controllers),t.emitters&&(this._emitters=t.emitters),t.routers&&(this._routers=t.routers),t.modelEvents&&(this._modelEvents=t.modelEvents),t.viewEvents&&(this._viewEvents=t.viewEvents),t.controllerEvents&&(this._controllerEvents=t.controllerEvents),t.emitterEvents&&(this._emitterEvents=t.emitterEvents),t.routerEvents&&(this._routerEvents=t.routerEvents),this.modelEvents&&this.models&&this.modelCallbacks&&this.enableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.enableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.enableControllerEvents(),this.routerEvents&&this.routers&&this.routerCallbacks&&this.enableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&this.enableEmitterEvents(),this._enabled=!0)}reset(){this.disable(),this.enable()}disable(){this.settings&&this.enabled&&(this.modelEvents&&this.models&&this.modelCallbacks&&this.disableModelEvents(),this.viewEvents&&this.views&&this.viewCallbacks&&this.disableViewEvents(),this.controllerEvents&&this.controllers&&this.controllerCallbacks&&this.disableControllerEvents()),this.routerEvents&&this.routers&&this.routerCallbacks&&this.disableRouterEvents(),this.emitterEvents&&this.emitters&&this.emitterCallbacks&&(this.disableEmitterEvents(),delete this._modelCallbacks,delete this._viewCallbacks,delete this._controllerCallbacks,delete this._emitterCallbacks,delete this._routerCallbacks,delete this._models,delete this._views,delete this._controllers,delete this._emitters,delete this._routers,delete this._routerEvents,delete this._modelEvents,delete this._viewEvents,delete this._controllerEvents,delete this._emitterEvents,this._enabled=!1)}},MVC.Router=class extends MVC.Base{constructor(){super(...arguments)}get protocol(){return window.location.protocol}get hostname(){return window.location.hostname}get port(){return window.location.port}get path(){return window.location.pathname}get hash(){var t=window.location.href,e=t.indexOf("#");if(e>-1){var s,i=t.indexOf("?"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get params(){var t=window.location.href,e=t.indexOf("?");if(e>-1){var s,i=t.indexOf("#"),r=e+1;return s=i>-1?e>i?t.length:i:t.length,(t=t.slice(r,s)).length?t:null}return null}get _routeData(){var t={location:{},controller:{}},e=this.path.split("/").filter(t=>t.length);e=e.length?e:["/"];var s=this.hash,i=s?s.split("/").filter(t=>t.length):null,r=this.params,a=r?MVC.Utils.paramsToObject(r):null;this.protocol&&(t.location.protocol=this.protocol),this.hostname&&(t.location.hostname=this.hostname),this.port&&(t.location.port=this.port),this.path&&(t.location.path=this.path),s&&i&&(i=i.length?i:["/"],t.location.hash={path:s,fragments:i}),r&&a&&(t.location.params={path:r,data:a}),t.location.path={name:this.path,fragments:e},t.location.currentURL=this.currentURL;var n=this._routeControllerData;return t.location=Object.assign(t.location,n.location),t.controller=n.controller,this.routeData=t,this.routeData}get _routeControllerData(){var t={location:{}};return Object.entries(this.routes).forEach(e=>{var[s,i]=e,r=this.path.split("/").filter(t=>t.length);r=r.length?r:["/"];var a,n=s.split("/").filter((t,e)=>t.length);if(n=n.length?n:["/"],r.length&&r.length===n.length)return n.filter((e,l)=>{if(void 0===a||!0===a){if(":"===e[0]){var h=e.replace(":","");l===r.length-1&&(t.location.currentIDKey=h),t.location[h]=r[l],e=this.fragmentIDRegExp}else e=e.replace(new RegExp("/","gi"),"\\/"),e=this.routeFragmentNameRegExp(e);if(!0===(a=e.test(r[l]))&&l===r.length-1)return t.location.route={name:s,fragments:n},t.controller=i,i}})[0]}),t}get _enabled(){return this.enabled||!1}set _enabled(t){this.enabled=t}get _routes(){return this.routes=this.routes?this.routes:{},this.routes}set _routes(t){this.routes=MVC.Utils.addPropertiesToObject(t,this._routes)}get _controller(){return this.controller}set _controller(t){this.controller=t}get _previousURL(){return this.previousURL}set _previousURL(t){this.previousURL=t}get _currentURL(){return this.currentURL}set _currentURL(t){this.currentURL&&(this._previousURL=this.currentURL),this.currentURL=t}get fragmentIDRegExp(){return new RegExp(/^([0-9A-Z\?\=\,\.\*\-\_\'\"\^\%\$\#\@\!\~\(\)\{\}\&\<\>\\\/])*$/,"gi")}routeFragmentNameRegExp(t){return new RegExp("^".concat(t,"$"))}enable(){return this.enabled||(this.enableEmitters(),this.enableEvents(),this.enableRoutes(),this._enabled=!0),this}disable(){this.enabled&&(this.disableEvents(),this.disableRoutes(),this.disableEmitters(),this._enabled=!1)}enableRoutes(){return this.settings.controller&&(this._controller=this.settings.controller),this._routes=Object.entries(this.settings.routes).reduce((t,e,s,i)=>{var[r,a]=e;return t[r]=Object.assign(a,{callback:this.controller[a.callback].bind(this.controller)}),t},{}),this}enableEmitters(){return this._emitters={navigateEmitter:new MVC.Emitters.Navigate},this}disableEmitters(){delete this._emitters.navigateEmitter}disableRoutes(){delete this._routes,delete this._controller}enableEvents(){return window.addEventListener("hashchange",this.routeChange.bind(this)),this}disableEvents(){window.removeEventListener("hashchange",this.routeChange.bind(this))}routeChange(){this._currentURL=window.location.href;var t=this._routeData;if(t.controller){var e=this.emitters.navigateEmitter;this.previousURL&&(t.previousURL=this.previousURL),e.unset().set(t),this.emit(e.name,e.emission()),t.controller.callback(e.emission())}return this}navigate(t){window.location.href=t}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1WQy5qcyIsIkNvbnN0YW50cy5qcyIsIkV2ZW50cy5qcyIsImluZGV4LmpzIiwiaXMuanMiLCJ0eXBlT2YuanMiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QuanMiLCJvYmplY3RRdWVyeS5qcyIsInRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMuanMiLCJ2YWxpZGF0ZURhdGFTY2hlbWEuanMiLCJDaGFubmVscy5qcyIsIkNoYW5uZWwuanMiLCJCYXNlLmpzIiwiU2VydmljZS5qcyIsIk1vZGVsLmpzIiwiRW1pdHRlci5qcyIsIk5hdmlnYXRlLmpzIiwiVmlldy5qcyIsIkNvbnRyb2xsZXIuanMiLCJSb3V0ZXIuanMiXSwibmFtZXMiOlsiTVZDIiwiQ29uc3RhbnRzIiwiQ09OU1QiLCJFdmVudHMiLCJFViIsIlV0aWxzIiwiaXNBcnJheSIsIm9iamVjdCIsIkFycmF5IiwiaXNPYmplY3QiLCJpc0VxdWFsVHlwZSIsInZhbHVlQSIsInZhbHVlQiIsImlzSFRNTEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInR5cGVPZiIsImRhdGEiLCJhZGRQcm9wZXJ0aWVzVG9PYmplY3QiLCJ0YXJnZXRPYmplY3QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwcm9wZXJ0aWVzIiwiX3Byb3BlcnR5TmFtZSIsIl9wcm9wZXJ0eVZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsInByb3BlcnR5TmFtZSIsInByb3BlcnR5VmFsdWUiLCJvYmplY3RRdWVyeSIsInN0cmluZyIsImNvbnRleHQiLCJzdHJpbmdEYXRhIiwicGFyc2VOb3RhdGlvbiIsInNwbGljZSIsInJlZHVjZSIsImZyYWdtZW50IiwiZnJhZ21lbnRJbmRleCIsImZyYWdtZW50cyIsInByb3BlcnR5S2V5IiwicGFyc2VGcmFnbWVudCIsIm1hdGNoIiwiY29uY2F0IiwiY2hhckF0Iiwic2xpY2UiLCJzcGxpdCIsIlJlZ0V4cCIsInRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMiLCJ0b2dnbGVNZXRob2QiLCJldmVudHMiLCJ0YXJnZXRPYmplY3RzIiwiY2FsbGJhY2tzIiwiZXZlbnRTZXR0aW5ncyIsImV2ZW50Q2FsbGJhY2tOYW1lIiwiZXZlbnREYXRhIiwiZXZlbnRUYXJnZXRTZXR0aW5ncyIsImV2ZW50TmFtZSIsImV2ZW50VGFyZ2V0cyIsImV2ZW50VGFyZ2V0TmFtZSIsImV2ZW50VGFyZ2V0IiwiZXZlbnRNZXRob2ROYW1lIiwiTm9kZUxpc3QiLCJEb2N1bWVudCIsImV2ZW50Q2FsbGJhY2siLCJfZXZlbnRUYXJnZXQiLCJiaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzIiwidGhpcyIsInVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzIiwidmFsaWRhdGVEYXRhU2NoZW1hIiwic2NoZW1hIiwiVE1QTCIsImFycmF5IiwiYXJyYXlLZXkiLCJhcnJheVZhbHVlIiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJwdXNoIiwib2JqZWN0S2V5Iiwib2JqZWN0VmFsdWUiLCJbb2JqZWN0IE9iamVjdF0iLCJfZXZlbnRzIiwiZXZlbnRDYWxsYmFja3MiLCJldmVudENhbGxiYWNrR3JvdXAiLCJldmVudENhbGxiYWNrR3JvdXBOYW1lIiwidmFsdWVzIiwiQ2hhbm5lbHMiLCJfY2hhbm5lbHMiLCJjaGFubmVscyIsImNoYW5uZWxOYW1lIiwiQ2hhbm5lbCIsIl9yZXNwb25zZXMiLCJyZXNwb25zZXMiLCJyZXNwb25zZU5hbWUiLCJyZXNwb25zZUNhbGxiYWNrIiwicmVzcG9uc2UiLCJyZXF1ZXN0RGF0YSIsIl9yZXNwb25zZU5hbWUiLCJrZXlzIiwiQmFzZSIsInNldHRpbmdzIiwiY29uZmlndXJhdGlvbiIsInN1cGVyIiwiX2NvbmZpZ3VyYXRpb24iLCJfc2V0dGluZ3MiLCJfZW1pdHRlcnMiLCJlbWl0dGVycyIsIlNlcnZpY2UiLCJfZGVmYXVsdHMiLCJkZWZhdWx0cyIsImNvbnRlbnRUeXBlIiwiQ29udGVudC1UeXBlIiwicmVzcG9uc2VUeXBlIiwiX3Jlc3BvbnNlVHlwZXMiLCJfcmVzcG9uc2VUeXBlIiwiX3hociIsImZpbmQiLCJyZXNwb25zZVR5cGVJdGVtIiwiX3R5cGUiLCJ0eXBlIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZvckVhY2giLCJoZWFkZXIiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiX2RhdGEiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIl9lbmFibGVkIiwiZW5hYmxlZCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3RhdHVzIiwiYWJvcnQiLCJvcGVuIiwib25sb2FkIiwib25lcnJvciIsInNlbmQiLCJ0aGVuIiwiZW1pdCIsImN1cnJlbnRUYXJnZXQiLCJNb2RlbCIsIl9pc1NldHRpbmciLCJpc1NldHRpbmciLCJfY2hhbmdpbmciLCJjaGFuZ2luZyIsIl9sb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJfc2NoZW1hIiwiX2hpc3Rpb2dyYW0iLCJoaXN0aW9ncmFtIiwiYXNzaWduIiwiX2hpc3RvcnkiLCJoaXN0b3J5IiwidW5zaGlmdCIsInBhcnNlIiwiX2RiIiwiZGIiLCJnZXRJdGVtIiwiZW5kcG9pbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsIl9kYXRhRXZlbnRzIiwiZGF0YUV2ZW50cyIsIl9kYXRhQ2FsbGJhY2tzIiwiZGF0YUNhbGxiYWNrcyIsIl9zZXJ2aWNlcyIsInNlcnZpY2VzIiwiX3NlcnZpY2VFdmVudHMiLCJzZXJ2aWNlRXZlbnRzIiwiX3NlcnZpY2VDYWxsYmFja3MiLCJzZXJ2aWNlQ2FsbGJhY2tzIiwic2V0Iiwia2V5IiwiX2FyZ3VtZW50cyIsIl9yZWYiLCJpbmRleCIsInZhbHVlIiwic2V0RGF0YVByb3BlcnR5Iiwic2V0REIiLCJfa2V5IiwidW5zZXREYXRhUHJvcGVydHkiLCJfcmVmMiIsImRlZmluZVByb3BlcnRpZXMiLCJjb25maWd1cmFibGUiLCJzZXRWYWx1ZUV2ZW50TmFtZSIsImpvaW4iLCJ1bnNldFZhbHVlRXZlbnROYW1lIiwidW5zZXRWYWx1ZSIsImVuYWJsZVNlcnZpY2VFdmVudHMiLCJlbmFibGVEYXRhRXZlbnRzIiwiZGlzYWJsZVNlcnZpY2VFdmVudHMiLCJkaXNhYmxlRGF0YUV2ZW50cyIsIkVtaXR0ZXIiLCJfbmFtZSIsIkVtaXR0ZXJzIiwiTmF2aWdhdGUiLCJhZGRTZXR0aW5ncyIsImVuYWJsZSIsIm9sZFVSTCIsIlN0cmluZyIsIm5ld1VSTCIsImN1cnJlbnRSb3V0ZSIsImN1cnJlbnRDb250cm9sbGVyIiwiVmlldyIsIl9lbGVtZW50TmFtZSIsIl9lbGVtZW50IiwidGFnTmFtZSIsImVsZW1lbnROYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlbGVtZW50T2JzZXJ2ZXIiLCJvYnNlcnZlIiwic3VidHJlZSIsImNoaWxkTGlzdCIsIl9hdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZUtleSIsImF0dHJpYnV0ZVZhbHVlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiX3VpIiwidWkiLCJ1aUtleSIsInVpVmFsdWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3VpRXZlbnRzIiwidWlFdmVudHMiLCJfdWlDYWxsYmFja3MiLCJ1aUNhbGxiYWNrcyIsIl9vYnNlcnZlckNhbGxiYWNrcyIsIm9ic2VydmVyQ2FsbGJhY2tzIiwiX2VsZW1lbnRPYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJlbGVtZW50T2JzZXJ2ZSIsImJpbmQiLCJfaW5zZXJ0IiwiaW5zZXJ0IiwiX3RlbXBsYXRlcyIsInRlbXBsYXRlcyIsIm11dGF0aW9uUmVjb3JkTGlzdCIsIm9ic2VydmVyIiwibXV0YXRpb25SZWNvcmRJbmRleCIsIm11dGF0aW9uUmVjb3JkIiwibXV0YXRpb25SZWNvcmRDYXRlZ29yeSIsInJlc2V0VUkiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJtZXRob2QiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJkaXNhYmxlVUkiLCJlbmFibGVVSSIsImVuYWJsZVVJRXZlbnRzIiwiZGlzYWJsZVVJRXZlbnRzIiwiZW5hYmxlRW1pdHRlcnMiLCJlbmFibGVFbGVtZW50IiwiZGlzYWJsZUVsZW1lbnQiLCJkaXNhYmxlRW1pdHRlcnMiLCJ0aGlzcyIsIkNvbnRyb2xsZXIiLCJfZW1pdHRlckNhbGxiYWNrcyIsImVtaXR0ZXJDYWxsYmFja3MiLCJfbW9kZWxDYWxsYmFja3MiLCJtb2RlbENhbGxiYWNrcyIsIl92aWV3Q2FsbGJhY2tzIiwidmlld0NhbGxiYWNrcyIsIl9jb250cm9sbGVyQ2FsbGJhY2tzIiwiY29udHJvbGxlckNhbGxiYWNrcyIsIl9tb2RlbHMiLCJtb2RlbHMiLCJfdmlld3MiLCJ2aWV3cyIsIl9jb250cm9sbGVycyIsImNvbnRyb2xsZXJzIiwiX3JvdXRlcnMiLCJyb3V0ZXJzIiwiX3JvdXRlckV2ZW50cyIsInJvdXRlckV2ZW50cyIsIl9yb3V0ZXJDYWxsYmFja3MiLCJyb3V0ZXJDYWxsYmFja3MiLCJfZW1pdHRlckV2ZW50cyIsImVtaXR0ZXJFdmVudHMiLCJfbW9kZWxFdmVudHMiLCJtb2RlbEV2ZW50cyIsIl92aWV3RXZlbnRzIiwidmlld0V2ZW50cyIsIl9jb250cm9sbGVyRXZlbnRzIiwiY29udHJvbGxlckV2ZW50cyIsImVuYWJsZU1vZGVsRXZlbnRzIiwiZW5hYmxlVmlld0V2ZW50cyIsImVuYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJlbmFibGVSb3V0ZXJFdmVudHMiLCJlbmFibGVFbWl0dGVyRXZlbnRzIiwiZGlzYWJsZSIsImRpc2FibGVNb2RlbEV2ZW50cyIsImRpc2FibGVWaWV3RXZlbnRzIiwiZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMiLCJkaXNhYmxlUm91dGVyRXZlbnRzIiwiZGlzYWJsZUVtaXR0ZXJFdmVudHMiLCJSb3V0ZXIiLCJwcm90b2NvbCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aCIsInBhdGhuYW1lIiwiaGFzaCIsImhyZWYiLCJoYXNoSW5kZXgiLCJpbmRleE9mIiwic2xpY2VTdG9wIiwicGFyYW1JbmRleCIsInNsaWNlU3RhcnQiLCJwYXJhbXMiLCJfcm91dGVEYXRhIiwicm91dGVEYXRhIiwiY29udHJvbGxlciIsImZpbHRlciIsImhhc2hGcmFnbWVudHMiLCJwYXJhbURhdGEiLCJwYXJhbXNUb09iamVjdCIsImN1cnJlbnRVUkwiLCJyb3V0ZUNvbnRyb2xsZXJEYXRhIiwiX3JvdXRlQ29udHJvbGxlckRhdGEiLCJyb3V0ZXMiLCJyb3V0ZVBhdGgiLCJyb3V0ZVNldHRpbmdzIiwicGF0aEZyYWdtZW50cyIsInJvdXRlRnJhZ21lbnRzIiwicm91dGVGcmFnbWVudCIsInJvdXRlRnJhZ21lbnRJbmRleCIsInVuZGVmaW5lZCIsImN1cnJlbnRJREtleSIsInJlcGxhY2UiLCJmcmFnbWVudElEUmVnRXhwIiwicm91dGVGcmFnbWVudE5hbWVSZWdFeHAiLCJ0ZXN0Iiwicm91dGUiLCJfcm91dGVzIiwiX2NvbnRyb2xsZXIiLCJfcHJldmlvdXNVUkwiLCJwcmV2aW91c1VSTCIsIl9jdXJyZW50VVJMIiwiZW5hYmxlRXZlbnRzIiwiZW5hYmxlUm91dGVzIiwiZGlzYWJsZUV2ZW50cyIsImRpc2FibGVSb3V0ZXMiLCJyb3V0ZUluZGV4Iiwib3JpZ2luYWxSb3V0ZXMiLCJjYWxsYmFjayIsIm5hdmlnYXRlRW1pdHRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJyb3V0ZUNoYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bnNldCIsImVtaXNzaW9uIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxJQUFNQSxLQUFPLEdBQ2pCQSxJQUFJQyxVQUFZLEdBQ2hCRCxJQUFJRSxNQUFRRixJQUFJQyxVQUNoQkQsSUFBSUMsVUFBVUUsT0FBUyxHQUN2QkgsSUFBSUUsTUFBTUUsR0FBS0osSUFBSUMsVUFBVUUsT0FDN0JILElBQUlLLE1BQVEsR0FDWkwsSUFBSUssTUFBTUMsUUFBVSxTQUFpQkMsR0FDbkMsT0FBT0MsTUFBTUYsUUFBUUMsSUFHdkJQLElBQUlLLE1BQU1JLFNBQVcsU0FBa0JGLEdBQ3JDLE9BQVFDLE1BQU1GLFFBQVFDLElBQTRC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ZCxLQUFLdVIsZUFDTHZSLEtBQUt3UixZQUdkMVEsZUFFRSxPQURBbU8sT0FBT21ELGlCQUFpQixhQUFjcFMsS0FBS3FTLFlBQVl0SCxLQUFLL0ssT0FDckRBLEtBR1RjLGdCQUNFbU8sT0FBT3FELG9CQUFvQixhQUFjdFMsS0FBS3FTLFlBQVl0SCxLQUFLL0ssT0FHakVjLGNBQ0VkLEtBQUsyUixZQUFjMUMsT0FBT0MsU0FBU00sS0FDbkMsSUFBSVEsRUFBWWhRLEtBQUsrUCxXQUVyQixHQUFJQyxFQUFVQyxXQUFZLENBQ3hCLElBQUlrQyxFQUFrQm5TLEtBQUt3QyxTQUFTMlAsZ0JBQ2hDblMsS0FBSzBSLGNBQWExQixFQUFVMEIsWUFBYzFSLEtBQUswUixhQUNuRFMsRUFBZ0JJLFFBQVF6TCxJQUFJa0osR0FDNUJoUSxLQUFLNEUsS0FBS3VOLEVBQWdCelIsS0FBTXlSLEVBQWdCSyxZQUNoRHhDLEVBQVVDLFdBQVdpQyxTQUFTQyxFQUFnQkssWUFHaEQsT0FBT3hTLEtBR1RjLFNBQVN1TyxHQUNQSixPQUFPQyxTQUFTTSxLQUFPSCIsInNvdXJjZXNDb250ZW50IjpbInZhciBNVkMgPSBNVkMgfHwge31cclxuIiwiTVZDLkNvbnN0YW50cyA9IHt9XG5NVkMuQ09OU1QgPSBNVkMuQ29uc3RhbnRzXG4iLCJNVkMuRXZlbnRzID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBnZXQgX2V2ZW50cygpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gKHRoaXMuZXZlbnRzKVxyXG4gICAgICA/IHRoaXMuZXZlbnRzXHJcbiAgICAgIDoge31cclxuICAgIHJldHVybiB0aGlzLmV2ZW50c1xyXG4gIH1cclxuICBldmVudENhbGxiYWNrcyhldmVudE5hbWUpIHsgcmV0dXJuIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdIHx8IHt9IH1cclxuICBldmVudENhbGxiYWNrTmFtZShldmVudENhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gKGV2ZW50Q2FsbGJhY2submFtZS5sZW5ndGgpXHJcbiAgICAgID8gZXZlbnRDYWxsYmFjay5uYW1lXHJcbiAgICAgIDogJ2Fub255bW91c0Z1bmN0aW9uJ1xyXG4gIH1cclxuICBldmVudENhbGxiYWNrR3JvdXAoZXZlbnRDYWxsYmFja3MsIGV2ZW50Q2FsbGJhY2tOYW1lKSB7XHJcbiAgICByZXR1cm4gZXZlbnRDYWxsYmFja3NbZXZlbnRDYWxsYmFja05hbWVdIHx8IFtdXHJcbiAgfVxyXG4gIG9uKGV2ZW50TmFtZSwgZXZlbnRDYWxsYmFjaykge1xyXG4gICAgbGV0IGV2ZW50Q2FsbGJhY2tzID0gdGhpcy5ldmVudENhbGxiYWNrcyhldmVudE5hbWUpXHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja05hbWUgPSB0aGlzLmV2ZW50Q2FsbGJhY2tOYW1lKGV2ZW50Q2FsbGJhY2spXHJcbiAgICBsZXQgZXZlbnRDYWxsYmFja0dyb3VwID0gdGhpcy5ldmVudENhbGxiYWNrR3JvdXAoZXZlbnRDYWxsYmFja3MsIGV2ZW50Q2FsbGJhY2tOYW1lKVxyXG4gICAgZXZlbnRDYWxsYmFja0dyb3VwLnB1c2goZXZlbnRDYWxsYmFjaylcclxuICAgIGV2ZW50Q2FsbGJhY2tzW2V2ZW50Q2FsbGJhY2tOYW1lXSA9IGV2ZW50Q2FsbGJhY2tHcm91cFxyXG4gICAgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBldmVudENhbGxiYWNrc1xyXG4gIH1cclxuICBvZmYoKSB7XHJcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IGFyZ3VtZW50c1swXVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICB2YXIgZXZlbnROYW1lID0gYXJndW1lbnRzWzBdXHJcbiAgICAgICAgdmFyIGV2ZW50Q2FsbGJhY2sgPSBhcmd1bWVudHNbMV1cclxuICAgICAgICB2YXIgZXZlbnRDYWxsYmFja05hbWUgPSB0aGlzLmV2ZW50Q2FsbGJhY2tOYW1lKGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdW2V2ZW50Q2FsbGJhY2tOYW1lXVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVtaXQoZXZlbnROYW1lLCBldmVudERhdGEpIHtcclxuICAgIGxldCBldmVudENhbGxiYWNrcyA9IHRoaXMuZXZlbnRDYWxsYmFja3MoZXZlbnROYW1lKVxyXG4gICAgZm9yKGxldCBbZXZlbnRDYWxsYmFja0dyb3VwTmFtZSwgZXZlbnRDYWxsYmFja0dyb3VwXSBvZiBPYmplY3QuZW50cmllcyhldmVudENhbGxiYWNrcykpIHtcclxuICAgICAgZm9yKGxldCBldmVudENhbGxiYWNrIG9mIGV2ZW50Q2FsbGJhY2tHcm91cCkge1xyXG4gICAgICAgIGxldCBhZGRpdGlvbmFsQXJndW1lbnRzID0gT2JqZWN0LnZhbHVlcyhhcmd1bWVudHMpLnNwbGljZSgyKSB8fCBbXVxyXG4gICAgICAgIGV2ZW50Q2FsbGJhY2soZXZlbnREYXRhLCAuLi5hZGRpdGlvbmFsQXJndW1lbnRzKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5FbWl0dGVycyA9IHt9XHJcbiIsIk1WQy5VdGlscy5pc0FycmF5ID0gZnVuY3Rpb24gaXNBcnJheShvYmplY3QpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqZWN0KSB9XHJcbk1WQy5VdGlscy5pc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KG9iamVjdCkge1xyXG4gIHJldHVybiAoIUFycmF5LmlzQXJyYXkob2JqZWN0KSlcclxuICAgID8gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCdcclxuICAgIDogZmFsc2VcclxufVxyXG5NVkMuVXRpbHMuaXNFcXVhbFR5cGUgPSBmdW5jdGlvbiBpc0VxdWFsVHlwZSh2YWx1ZUEsIHZhbHVlQikgeyByZXR1cm4gdmFsdWVBID09PSB2YWx1ZUIgfVxyXG5NVkMuVXRpbHMuaXNIVE1MRWxlbWVudCA9IGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQob2JqZWN0KSB7XHJcbiAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbn1cclxuIiwiTVZDLlV0aWxzLnR5cGVPZiA9ICBmdW5jdGlvbiB0eXBlT2YoZGF0YSkge1xyXG4gIHN3aXRjaCh0eXBlb2YgZGF0YSkge1xyXG4gICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgbGV0IF9vYmplY3RcclxuICAgICAgaWYoTVZDLlV0aWxzLmlzQXJyYXkoZGF0YSkpIHtcclxuICAgICAgICAvLyBBcnJheVxyXG4gICAgICAgIHJldHVybiAnYXJyYXknXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBNVkMuVXRpbHMuaXNPYmplY3QoZGF0YSlcclxuICAgICAgKSB7XHJcbiAgICAgICAgLy8gT2JqZWN0XHJcbiAgICAgICAgcmV0dXJuICdvYmplY3QnXHJcbiAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICBkYXRhID09PSBudWxsXHJcbiAgICAgICkge1xyXG4gICAgICAgIC8vIE51bGxcclxuICAgICAgICByZXR1cm4gJ251bGwnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIF9vYmplY3RcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICBjYXNlICdudW1iZXInOlxyXG4gICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICByZXR1cm4gdHlwZW9mIGRhdGFcclxuICAgICAgYnJlYWtcclxuICB9XHJcbn1cclxuIiwiTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdCA9IGZ1bmN0aW9uIGFkZFByb3BlcnRpZXNUb09iamVjdCgpIHtcclxuICBsZXQgdGFyZ2V0T2JqZWN0XHJcbiAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgIGNhc2UgMjpcclxuICAgICAgbGV0IHByb3BlcnRpZXMgPSBhcmd1bWVudHNbMF1cclxuICAgICAgdGFyZ2V0T2JqZWN0ID0gYXJndW1lbnRzWzFdXHJcbiAgICAgIGZvcihsZXQgW3Byb3BlcnR5TmFtZSwgcHJvcGVydHlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykpIHtcclxuICAgICAgICB0YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWVcclxuICAgICAgfVxyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSAzOlxyXG4gICAgICBsZXQgcHJvcGVydHlOYW1lID0gYXJndW1lbnRzWzBdXHJcbiAgICAgIGxldCBwcm9wZXJ0eVZhbHVlID0gYXJndW1lbnRzWzFdXHJcbiAgICAgIHRhcmdldE9iamVjdCA9IGFyZ3VtZW50c1syXVxyXG4gICAgICB0YXJnZXRPYmplY3RbcHJvcGVydHlOYW1lXSA9IHByb3BlcnR5VmFsdWVcclxuICAgICAgYnJlYWtcclxuICB9XHJcbiAgcmV0dXJuIHRhcmdldE9iamVjdFxyXG59XHJcbiIsIk1WQy5VdGlscy5vYmplY3RRdWVyeSA9IGZ1bmN0aW9uIG9iamVjdFF1ZXJ5KFxyXG4gIHN0cmluZyxcclxuICBjb250ZXh0XHJcbikge1xyXG4gIGxldCBzdHJpbmdEYXRhID0gTVZDLlV0aWxzLm9iamVjdFF1ZXJ5LnBhcnNlTm90YXRpb24oc3RyaW5nKVxyXG4gIGlmKHN0cmluZ0RhdGFbMF0gPT09ICdAJykgc3RyaW5nRGF0YS5zcGxpY2UoMCwgMSlcclxuICBpZighc3RyaW5nRGF0YS5sZW5ndGgpIHJldHVybiBjb250ZXh0XHJcbiAgY29udGV4dCA9IChNVkMuVXRpbHMuaXNPYmplY3QoY29udGV4dCkpXHJcbiAgICA/IE9iamVjdC5lbnRyaWVzKGNvbnRleHQpXHJcbiAgICA6IGNvbnRleHRcclxuICByZXR1cm4gc3RyaW5nRGF0YS5yZWR1Y2UoKG9iamVjdCwgZnJhZ21lbnQsIGZyYWdtZW50SW5kZXgsIGZyYWdtZW50cykgPT4ge1xyXG4gICAgbGV0IHByb3BlcnRpZXMgPSBbXVxyXG4gICAgZnJhZ21lbnQgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudChmcmFnbWVudClcclxuICAgIGZvcihsZXQgW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXSBvZiBvYmplY3QpIHtcclxuICAgICAgaWYocHJvcGVydHlLZXkubWF0Y2goZnJhZ21lbnQpKSB7XHJcbiAgICAgICAgaWYoZnJhZ21lbnRJbmRleCA9PT0gZnJhZ21lbnRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbW3Byb3BlcnR5S2V5LCBwcm9wZXJ0eVZhbHVlXV0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChPYmplY3QuZW50cmllcyhwcm9wZXJ0eVZhbHVlKSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIG9iamVjdCA9IHByb3BlcnRpZXNcclxuICAgIHJldHVybiBvYmplY3RcclxuICB9LCBjb250ZXh0KVxyXG59XHJcbk1WQy5VdGlscy5vYmplY3RRdWVyeS5wYXJzZU5vdGF0aW9uID0gZnVuY3Rpb24gcGFyc2VOb3RhdGlvbihzdHJpbmcpIHtcclxuICBpZihcclxuICAgIHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJyAmJlxyXG4gICAgc3RyaW5nLmNoYXJBdChzdHJpbmcubGVuZ3RoIC0gMSkgPT0gJ10nXHJcbiAgKSB7XHJcbiAgICBzdHJpbmcgPSBzdHJpbmdcclxuICAgICAgLnNsaWNlKDEsIC0xKVxyXG4gICAgICAuc3BsaXQoJ11bJylcclxuICB9IGVsc2Uge1xyXG4gICAgc3RyaW5nID0gc3RyaW5nXHJcbiAgICAgIC5zcGxpdCgnLicpXHJcbiAgfVxyXG4gIHJldHVybiBzdHJpbmdcclxufVxyXG5NVkMuVXRpbHMub2JqZWN0UXVlcnkucGFyc2VGcmFnbWVudCA9IGZ1bmN0aW9uIHBhcnNlRnJhZ21lbnQoZnJhZ21lbnQpIHtcclxuICBpZihcclxuICAgIGZyYWdtZW50LmNoYXJBdCgwKSA9PT0gJy8nICYmXHJcbiAgICBmcmFnbWVudC5jaGFyQXQoZnJhZ21lbnQubGVuZ3RoIC0gMSkgPT0gJy8nXHJcbiAgKSB7XHJcbiAgICBmcmFnbWVudCA9IGZyYWdtZW50LnNsaWNlKDEsIC0xKVxyXG4gICAgZnJhZ21lbnQgPSBuZXcgUmVnRXhwKCdeJy5jb25jYXQoZnJhZ21lbnQsICckJykpXHJcbiAgfVxyXG4gIHJldHVybiBmcmFnbWVudFxyXG59XHJcbiIsIk1WQy5VdGlscy50b2dnbGVFdmVudHNGb3JUYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gdG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cyhcclxuICB0b2dnbGVNZXRob2QsXHJcbiAgZXZlbnRzLFxyXG4gIHRhcmdldE9iamVjdHMsXHJcbiAgY2FsbGJhY2tzXHJcbikge1xyXG4gIGZvcihsZXQgW2V2ZW50U2V0dGluZ3MsIGV2ZW50Q2FsbGJhY2tOYW1lXSBvZiBPYmplY3QuZW50cmllcyhldmVudHMpKSB7XHJcbiAgICBsZXQgZXZlbnREYXRhID0gZXZlbnRTZXR0aW5ncy5zcGxpdCgnICcpXHJcbiAgICBsZXQgZXZlbnRUYXJnZXRTZXR0aW5ncyA9IGV2ZW50RGF0YVswXVxyXG4gICAgbGV0IGV2ZW50TmFtZSA9IGV2ZW50RGF0YVsxXVxyXG4gICAgbGV0IGV2ZW50VGFyZ2V0cyA9IE1WQy5VdGlscy5vYmplY3RRdWVyeShcclxuICAgICAgZXZlbnRUYXJnZXRTZXR0aW5ncyxcclxuICAgICAgdGFyZ2V0T2JqZWN0c1xyXG4gICAgKVxyXG4gICAgZXZlbnRUYXJnZXRzID0gKCFNVkMuVXRpbHMuaXNBcnJheShldmVudFRhcmdldHMpKVxyXG4gICAgICA/IFtbJ0AnLCBldmVudFRhcmdldHNdXVxyXG4gICAgICA6IGV2ZW50VGFyZ2V0c1xyXG4gICAgZm9yKGxldCBbZXZlbnRUYXJnZXROYW1lLCBldmVudFRhcmdldF0gb2YgZXZlbnRUYXJnZXRzKSB7XHJcbiAgICAgIGxldCBldmVudE1ldGhvZE5hbWUgPSAodG9nZ2xlTWV0aG9kID09PSAnb24nKVxyXG4gICAgICA/IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdhZGRFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29uJ1xyXG4gICAgICA6IChcclxuICAgICAgICBldmVudFRhcmdldCBpbnN0YW5jZW9mIE5vZGVMaXN0IHx8XHJcbiAgICAgICAgKFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxyXG4gICAgICAgICAgZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBEb2N1bWVudFxyXG4gICAgICAgIClcclxuICAgICAgKSA/ICdyZW1vdmVFdmVudExpc3RlbmVyJ1xyXG4gICAgICAgIDogJ29mZidcclxuICAgICAgbGV0IGV2ZW50Q2FsbGJhY2sgPSBNVkMuVXRpbHMub2JqZWN0UXVlcnkoXHJcbiAgICAgICAgZXZlbnRDYWxsYmFja05hbWUsXHJcbiAgICAgICAgY2FsbGJhY2tzXHJcbiAgICAgIClbMF1bMV1cclxuICAgICAgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xyXG4gICAgICAgIGZvcihsZXQgX2V2ZW50VGFyZ2V0IG9mIGV2ZW50VGFyZ2V0KSB7XHJcbiAgICAgICAgICBfZXZlbnRUYXJnZXRbZXZlbnRNZXRob2ROYW1lXShldmVudE5hbWUsIGV2ZW50Q2FsbGJhY2spXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYoZXZlbnRUYXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2ZW50VGFyZ2V0W2V2ZW50TWV0aG9kTmFtZV0oZXZlbnROYW1lLCBldmVudENhbGxiYWNrKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbk1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzID0gZnVuY3Rpb24gYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cygpIHtcclxuICB0aGlzLnRvZ2dsZUV2ZW50c0ZvclRhcmdldE9iamVjdHMoJ29uJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbk1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyA9IGZ1bmN0aW9uIHVuYmluZEV2ZW50c0Zyb21UYXJnZXRPYmplY3RzKCkge1xyXG4gIHRoaXMudG9nZ2xlRXZlbnRzRm9yVGFyZ2V0T2JqZWN0cygnb2ZmJywgLi4uYXJndW1lbnRzKVxyXG59XHJcbiIsIk1WQy5VdGlscy52YWxpZGF0ZURhdGFTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZURhdGFTY2hlbWEoZGF0YSwgc2NoZW1hKSB7XHJcbiAgaWYoc2NoZW1hKSB7XHJcbiAgICBzd2l0Y2goTVZDLlV0aWxzLnR5cGVPZihkYXRhKSkge1xyXG4gICAgICBjYXNlICdhcnJheSc6XHJcbiAgICAgICAgbGV0IGFycmF5ID0gW11cclxuICAgICAgICBzY2hlbWEgPSAoTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpID09PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgICAgPyBzY2hlbWEoKVxyXG4gICAgICAgICAgOiBzY2hlbWFcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGFycmF5KVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coc2NoZW1hLm5hbWUpXHJcbiAgICAgICAgICBmb3IobGV0IFthcnJheUtleSwgYXJyYXlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcclxuICAgICAgICAgICAgYXJyYXkucHVzaChcclxuICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlRGF0YVNjaGVtYShhcnJheVZhbHVlKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgbGV0IG9iamVjdCA9IHt9XHJcbiAgICAgICAgc2NoZW1hID0gKE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgID8gc2NoZW1hKClcclxuICAgICAgICAgIDogc2NoZW1hXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICBNVkMuVXRpbHMuaXNFcXVhbFR5cGUoXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSxcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihvYmplY3QpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhzY2hlbWEubmFtZSlcclxuICAgICAgICAgIGZvcihsZXQgW29iamVjdEtleSwgb2JqZWN0VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIG9iamVjdFtvYmplY3RLZXldID0gdGhpcy52YWxpZGF0ZURhdGFTY2hlbWEob2JqZWN0VmFsdWUsIHNjaGVtYVtvYmplY3RLZXldKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqZWN0XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgICAgc2NoZW1hID0gKE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgID8gc2NoZW1hKClcclxuICAgICAgICAgIDogc2NoZW1hXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICBNVkMuVXRpbHMuaXNFcXVhbFR5cGUoXHJcbiAgICAgICAgICAgIE1WQy5VdGlscy50eXBlT2Yoc2NoZW1hKSxcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihkYXRhKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coc2NoZW1hLm5hbWUpXHJcbiAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBNVkMuVE1QTFxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdudWxsJzpcclxuICAgICAgICBpZihcclxuICAgICAgICAgIE1WQy5VdGlscy5pc0VxdWFsVHlwZShcclxuICAgICAgICAgICAgTVZDLlV0aWxzLnR5cGVPZihzY2hlbWEpLFxyXG4gICAgICAgICAgICBNVkMuVXRpbHMudHlwZU9mKGRhdGEpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgIH1cclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxyXG4gICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgIHRocm93IE1WQy5UTVBMXHJcbiAgICAgICAgYnJlYWtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgdGhyb3cgTVZDLlRNUExcclxuICB9XHJcbn1cclxuIiwiTVZDLkNoYW5uZWxzID0gY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBnZXQgX2NoYW5uZWxzKCkge1xyXG4gICAgdGhpcy5jaGFubmVscyA9ICh0aGlzLmNoYW5uZWxzKVxyXG4gICAgICA/IHRoaXMuY2hhbm5lbHNcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNcclxuICB9XHJcbiAgY2hhbm5lbChjaGFubmVsTmFtZSkge1xyXG4gICAgdGhpcy5fY2hhbm5lbHNbY2hhbm5lbE5hbWVdID0gKHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXSlcclxuICAgICAgPyB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV1cclxuICAgICAgOiBuZXcgTVZDLkNoYW5uZWxzLkNoYW5uZWwoKVxyXG4gICAgcmV0dXJuIHRoaXMuX2NoYW5uZWxzW2NoYW5uZWxOYW1lXVxyXG4gIH1cclxuICBvZmYoY2hhbm5lbE5hbWUpIHtcclxuICAgIGRlbGV0ZSB0aGlzLl9jaGFubmVsc1tjaGFubmVsTmFtZV1cclxuICB9XHJcbn1cclxuIiwiTVZDLkNoYW5uZWxzLkNoYW5uZWwgPSBjbGFzcyB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG4gIGdldCBfcmVzcG9uc2VzKCkge1xyXG4gICAgdGhpcy5yZXNwb25zZXMgPSAodGhpcy5yZXNwb25zZXMpXHJcbiAgICAgID8gdGhpcy5yZXNwb25zZXNcclxuICAgICAgOiB7fVxyXG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VzXHJcbiAgfVxyXG4gIHJlc3BvbnNlKHJlc3BvbnNlTmFtZSwgcmVzcG9uc2VDYWxsYmFjaykge1xyXG4gICAgaWYocmVzcG9uc2VDYWxsYmFjaykge1xyXG4gICAgICB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VOYW1lXSA9IHJlc3BvbnNlQ2FsbGJhY2tcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9yZXNwb25zZXNbcmVzcG9uc2VdXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcXVlc3QocmVzcG9uc2VOYW1lLCByZXF1ZXN0RGF0YSkge1xyXG4gICAgaWYodGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV0pIHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdKHJlcXVlc3REYXRhKVxyXG4gICAgfVxyXG4gIH1cclxuICBvZmYocmVzcG9uc2VOYW1lKSB7XHJcbiAgICBpZihyZXNwb25zZU5hbWUpIHtcclxuICAgICAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlc1tyZXNwb25zZU5hbWVdXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IobGV0IFtyZXNwb25zZU5hbWVdIG9mIE9iamVjdC5rZXlzKHRoaXMuX3Jlc3BvbnNlcykpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VzW3Jlc3BvbnNlTmFtZV1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJNVkMuQmFzZSA9IGNsYXNzIGV4dGVuZHMgTVZDLkV2ZW50cyB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGNvbmZpZ3VyYXRpb24pIHtcclxuICAgIHN1cGVyKClcclxuICAgIGlmKGNvbmZpZ3VyYXRpb24pIHRoaXMuX2NvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uXHJcbiAgICBpZihzZXR0aW5ncykgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5nc1xyXG4gIH1cclxuICBnZXQgX2NvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSAodGhpcy5jb25maWd1cmF0aW9uKVxyXG4gICAgICA/IHRoaXMuY29uZmlndXJhdGlvblxyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uXHJcbiAgfVxyXG4gIHNldCBfY29uZmlndXJhdGlvbihjb25maWd1cmF0aW9uKSB7IHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb24gfVxyXG4gIGdldCBfc2V0dGluZ3MoKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gKHRoaXMuc2V0dGluZ3MpXHJcbiAgICAgID8gdGhpcy5zZXR0aW5nc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5nc1xyXG4gIH1cclxuICBzZXQgX3NldHRpbmdzKHNldHRpbmdzKSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcclxuICAgICAgc2V0dGluZ3MsIHRoaXMuX3NldHRpbmdzXHJcbiAgICApXHJcbiAgfVxyXG4gIGdldCBfZW1pdHRlcnMoKSB7XHJcbiAgICB0aGlzLmVtaXR0ZXJzID0gKHRoaXMuZW1pdHRlcnMpXHJcbiAgICAgID8gdGhpcy5lbWl0dGVyc1xyXG4gICAgICA6IHt9XHJcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyc1xyXG4gIH1cclxuICBzZXQgX2VtaXR0ZXJzKGVtaXR0ZXJzKSB7XHJcbiAgICB0aGlzLmVtaXR0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcclxuICAgICAgZW1pdHRlcnMsIHRoaXMuX2VtaXR0ZXJzXHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsIk1WQy5TZXJ2aWNlID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cyB8fCB7XG4gICAgY29udGVudFR5cGU6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSB9XG4gIGdldCBfcmVzcG9uc2VUeXBlcygpIHsgcmV0dXJuIFsnJywgJ2FycmF5YnVmZmVyJywgJ2Jsb2InLCAnZG9jdW1lbnQnLCAnanNvbicsICd0ZXh0J10gfVxuICBnZXQgX3Jlc3BvbnNlVHlwZSgpIHsgcmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlIH1cbiAgc2V0IF9yZXNwb25zZVR5cGUocmVzcG9uc2VUeXBlKSB7XG4gICAgdGhpcy5feGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMuX3Jlc3BvbnNlVHlwZXMuZmluZChcbiAgICAgIChyZXNwb25zZVR5cGVJdGVtKSA9PiByZXNwb25zZVR5cGVJdGVtID09PSByZXNwb25zZVR5cGVcbiAgICApIHx8IHRoaXMuX2RlZmF1bHRzLnJlc3BvbnNlVHlwZVxuICB9XG4gIGdldCBfdHlwZSgpIHsgcmV0dXJuIHRoaXMudHlwZSB9XG4gIHNldCBfdHlwZSh0eXBlKSB7IHRoaXMudHlwZSA9IHR5cGUgfVxuICBnZXQgX3VybCgpIHsgcmV0dXJuIHRoaXMudXJsIH1cbiAgc2V0IF91cmwodXJsKSB7IHRoaXMudXJsID0gdXJsIH1cbiAgZ2V0IF9oZWFkZXJzKCkgeyByZXR1cm4gdGhpcy5oZWFkZXJzIHx8IFtdIH1cbiAgc2V0IF9oZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLl9oZWFkZXJzLmxlbmd0aCA9IDBcbiAgICBoZWFkZXJzLmZvckVhY2goKGhlYWRlcikgPT4ge1xuICAgICAgdGhpcy5faGVhZGVycy5wdXNoKGhlYWRlcilcbiAgICAgIGhlYWRlciA9IE9iamVjdC5lbnRyaWVzKGhlYWRlcilbMF1cbiAgICAgIHRoaXMuX3hoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0pXG4gIH1cbiAgZ2V0IF9kYXRhKCkgeyByZXR1cm4gdGhpcy5kYXRhIH1cbiAgc2V0IF9kYXRhKGRhdGEpIHsgdGhpcy5kYXRhID0gZGF0YSB9XG4gIGdldCBfeGhyKCkge1xuICAgIHRoaXMueGhyID0gKHRoaXMueGhyKVxuICAgICAgPyB0aGlzLnhoclxuICAgICAgOiBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgIHJldHVybiB0aGlzLnhoclxuICB9XG4gIGdldCBfZW5hYmxlZCgpIHsgcmV0dXJuIHRoaXMuZW5hYmxlZCB8fCBmYWxzZSB9XG4gIHNldCBfZW5hYmxlZChlbmFibGVkKSB7IHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQgfVxuICByZXF1ZXN0KGRhdGEpIHtcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGEgfHwgbnVsbFxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZih0aGlzLl94aHIuc3RhdHVzID09PSAyMDApIHRoaXMuX3hoci5hYm9ydCgpXG4gICAgICB0aGlzLl94aHIub3Blbih0aGlzLnR5cGUsIHRoaXMudXJsKVxuICAgICAgdGhpcy5faGVhZGVycyA9IHRoaXMuc2V0dGluZ3MuaGVhZGVycyB8fCBbdGhpcy5fZGVmYXVsdHMuY29udGVudFR5cGVdXG4gICAgICB0aGlzLl94aHIub25sb2FkID0gcmVzb2x2ZVxuICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSByZWplY3RcbiAgICAgIHRoaXMuX3hoci5zZW5kKGRhdGEpXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMuZW1pdCgneGhyOnJlc29sdmUnLCB7XG4gICAgICAgIG5hbWU6ICd4aHI6cmVzb2x2ZScsXG4gICAgICAgIGRhdGE6IHJlc3BvbnNlLmN1cnJlbnRUYXJnZXQsXG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgfSlcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgIXRoaXMuZW5hYmxlZCAmJlxuICAgICAgT2JqZWN0LmtleXMoc2V0dGluZ3MpLmxlbmd0aFxuICAgICkge1xuICAgICAgaWYoc2V0dGluZ3MudHlwZSkgdGhpcy5fdHlwZSA9IHNldHRpbmdzLnR5cGVcbiAgICAgIGlmKHNldHRpbmdzLnVybCkgdGhpcy5fdXJsID0gc2V0dGluZ3MudXJsXG4gICAgICBpZihzZXR0aW5ncy5kYXRhKSB0aGlzLl9kYXRhID0gc2V0dGluZ3MuZGF0YSB8fCBudWxsXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnJlc3BvbnNlVHlwZSkgdGhpcy5fcmVzcG9uc2VUeXBlID0gdGhpcy5fc2V0dGluZ3MucmVzcG9uc2VUeXBlXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgdGhpcy5lbmFibGVkICYmXG4gICAgICBPYmplY3Qua2V5cyhzZXR0aW5ncykubGVuZ3RoXG4gICAgKSB7XG4gICAgICBkZWxldGUgdGhpcy5fdHlwZVxuICAgICAgZGVsZXRlIHRoaXMuX3VybFxuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLl9oZWFkZXJzXG4gICAgICBkZWxldGUgdGhpcy5fcmVzcG9uc2VUeXBlXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiTVZDLk1vZGVsID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2lzU2V0dGluZygpIHsgcmV0dXJuIHRoaXMuaXNTZXR0aW5nIH1cbiAgc2V0IF9pc1NldHRpbmcoaXNTZXR0aW5nKSB7IHRoaXMuaXNTZXR0aW5nID0gaXNTZXR0aW5nIH1cbiAgZ2V0IF9jaGFuZ2luZygpIHtcbiAgICB0aGlzLmNoYW5naW5nID0gKHRoaXMuY2hhbmdpbmcpXG4gICAgICA/IHRoaXMuY2hhbmdpbmdcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jaGFuZ2luZ1xuICB9XG4gIGdldCBfbG9jYWxTdG9yYWdlKCkgeyByZXR1cm4gdGhpcy5sb2NhbFN0b3JhZ2UgfVxuICBzZXQgX2xvY2FsU3RvcmFnZShsb2NhbFN0b3JhZ2UpIHsgdGhpcy5sb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UgfVxuICBnZXQgX2RlZmF1bHRzKCkgeyByZXR1cm4gdGhpcy5kZWZhdWx0cyB9XG4gIHNldCBfZGVmYXVsdHMoZGVmYXVsdHMpIHsgdGhpcy5kZWZhdWx0cyA9IGRlZmF1bHRzIH1cbiAgZ2V0IF9zY2hlbWEoKSB7IHJldHVybiB0aGlzLl9zY2hlbWEgfVxuICBzZXQgX3NjaGVtYShzY2hlbWEpIHsgdGhpcy5zY2hlbWEgPSBzY2hlbWEgfVxuICBnZXQgX2hpc3Rpb2dyYW0oKSB7IHJldHVybiB0aGlzLmhpc3Rpb2dyYW0gfHwge1xuICAgIGxlbmd0aDogMVxuICB9IH1cbiAgc2V0IF9oaXN0aW9ncmFtKGhpc3Rpb2dyYW0pIHtcbiAgICB0aGlzLmhpc3Rpb2dyYW0gPSBPYmplY3QuYXNzaWduKFxuICAgICAgdGhpcy5faGlzdGlvZ3JhbSxcbiAgICAgIGhpc3Rpb2dyYW1cbiAgICApXG4gIH1cbiAgZ2V0IF9oaXN0b3J5KCkge1xuICAgIHRoaXMuaGlzdG9yeSA9ICh0aGlzLmhpc3RvcnkpXG4gICAgICA/IHRoaXMuaGlzdG9yeVxuICAgICAgOiBbXVxuICAgIHJldHVybiB0aGlzLmhpc3RvcnlcbiAgfVxuICBzZXQgX2hpc3RvcnkoZGF0YSkge1xuICAgIGlmKFxuICAgICAgT2JqZWN0LmtleXMoZGF0YSkubGVuZ3RoXG4gICAgKSB7XG4gICAgICBpZih0aGlzLl9oaXN0aW9ncmFtLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9oaXN0b3J5LnVuc2hpZnQodGhpcy5wYXJzZShkYXRhKSlcbiAgICAgICAgdGhpcy5faGlzdG9yeS5zcGxpY2UodGhpcy5faGlzdGlvZ3JhbS5sZW5ndGgpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfZGIoKSB7XG4gICAgbGV0IGRiID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQpXG4gICAgdGhpcy5kYiA9IChkYilcbiAgICAgID8gZGJcbiAgICAgIDogJ3t9J1xuICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuZGIpXG4gIH1cbiAgc2V0IF9kYihkYikge1xuICAgIGRiID0gSlNPTi5zdHJpbmdpZnkoZGIpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5sb2NhbFN0b3JhZ2UuZW5kcG9pbnQsIGRiKVxuICB9XG4gIGdldCBfZGF0YSgpIHtcbiAgICB0aGlzLmRhdGEgPSAgKHRoaXMuZGF0YSlcbiAgICAgID8gdGhpcy5kYXRhXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YVxuICB9XG4gIGdldCBfZGF0YUV2ZW50cygpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSAodGhpcy5kYXRhRXZlbnRzKVxuICAgICAgPyB0aGlzLmRhdGFFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5kYXRhRXZlbnRzXG4gIH1cbiAgc2V0IF9kYXRhRXZlbnRzKGRhdGFFdmVudHMpIHtcbiAgICB0aGlzLmRhdGFFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgZGF0YUV2ZW50cywgdGhpcy5fZGF0YUV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2RhdGFDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gKHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZGF0YUNhbGxiYWNrc1xuICB9XG4gIHNldCBfZGF0YUNhbGxiYWNrcyhkYXRhQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5kYXRhQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGRhdGFDYWxsYmFja3MsIHRoaXMuX2RhdGFDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlcygpIHtcbiAgICB0aGlzLnNlcnZpY2VzID0gICh0aGlzLnNlcnZpY2VzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZXNcbiAgfVxuICBzZXQgX3NlcnZpY2VzKHNlcnZpY2VzKSB7XG4gICAgdGhpcy5zZXJ2aWNlcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlcywgdGhpcy5fc2VydmljZXNcbiAgICApXG4gIH1cbiAgZ2V0IF9zZXJ2aWNlRXZlbnRzKCkge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9ICh0aGlzLnNlcnZpY2VFdmVudHMpXG4gICAgICA/IHRoaXMuc2VydmljZUV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnNlcnZpY2VFdmVudHNcbiAgfVxuICBzZXQgX3NlcnZpY2VFdmVudHMoc2VydmljZUV2ZW50cykge1xuICAgIHRoaXMuc2VydmljZUV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBzZXJ2aWNlRXZlbnRzLCB0aGlzLl9zZXJ2aWNlRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfc2VydmljZUNhbGxiYWNrcygpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSAodGhpcy5zZXJ2aWNlQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9zZXJ2aWNlQ2FsbGJhY2tzKHNlcnZpY2VDYWxsYmFja3MpIHtcbiAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgc2VydmljZUNhbGxiYWNrcywgdGhpcy5fc2VydmljZUNhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLnNlcnZpY2VFdmVudHMsIHRoaXMuc2VydmljZXMsIHRoaXMuc2VydmljZUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlU2VydmljZUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5zZXJ2aWNlRXZlbnRzLCB0aGlzLnNlcnZpY2VzLCB0aGlzLnNlcnZpY2VDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyh0aGlzLmRhdGFFdmVudHMsIHRoaXMsIHRoaXMuZGF0YUNhbGxiYWNrcylcbiAgfVxuICBkaXNhYmxlRGF0YUV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5kYXRhRXZlbnRzLCB0aGlzLCB0aGlzLmRhdGFDYWxsYmFja3MpXG4gIH1cbiAgc2V0RGVmYXVsdHMoKSB7XG4gICAgbGV0IF9kZWZhdWx0cyA9IHt9XG4gICAgaWYodGhpcy5kZWZhdWx0cykgT2JqZWN0LmFzc2lnbihfZGVmYXVsdHMsIHRoaXMuZGVmYXVsdHMpXG4gICAgaWYodGhpcy5sb2NhbFN0b3JhZ2UpIE9iamVjdC5hc3NpZ24oX2RlZmF1bHRzLCB0aGlzLl9kYilcbiAgICBpZihPYmplY3Qua2V5cyhfZGVmYXVsdHMpKSB0aGlzLnNldChfZGVmYXVsdHMpXG4gIH1cbiAgZ2V0KCkge1xuICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2tleV1cbiAgICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgc2V0KCkge1xuICAgIHRoaXMuX2hpc3RvcnkgPSB0aGlzLnBhcnNlKClcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAxOlxuICAgICAgICB0aGlzLl9pc1NldHRpbmcgPSB0cnVlXG4gICAgICAgIGxldCBfYXJndW1lbnRzID0gT2JqZWN0LmVudHJpZXMoYXJndW1lbnRzWzBdKVxuICAgICAgICBfYXJndW1lbnRzLmZvckVhY2goKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZihpbmRleCA9PT0gKF9hcmd1bWVudHMubGVuZ3RoIC0gMSkpIHRoaXMuX2lzU2V0dGluZyA9IGZhbHNlXG4gICAgICAgICAgdGhpcy5fY2hhbmdpbmdba2V5XSA9IHZhbHVlXG4gICAgICAgICAgdGhpcy5zZXREYXRhUHJvcGVydHkoa2V5LCB2YWx1ZSlcbiAgICAgICAgICBpZih0aGlzLmxvY2FsU3RvcmFnZSkgdGhpcy5zZXREQihrZXksIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgICBkZWxldGUgdGhpcy5fY2hhbmdpbmdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgdmFyIGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbMV1cbiAgICAgICAgdGhpcy5zZXREYXRhUHJvcGVydHkoa2V5LCB2YWx1ZSlcbiAgICAgICAgaWYodGhpcy5sb2NhbFN0b3JhZ2UpIHRoaXMuc2V0REIoa2V5LCB2YWx1ZSlcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICB1bnNldCgpIHtcbiAgICB0aGlzLl9oaXN0b3J5ID0gdGhpcy5wYXJzZSgpXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgZm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5fZGF0YSkpIHtcbiAgICAgICAgICB0aGlzLnVuc2V0RGF0YVByb3BlcnR5KGtleSlcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsZXQga2V5ID0gYXJndW1lbnRzWzBdXG4gICAgICAgIHRoaXMudW5zZXREYXRhUHJvcGVydHkoa2V5KVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIHNldERCKCkge1xuICAgIGxldCBkYiA9IHRoaXMuX2RiXG4gICAgc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgdmFyIF9hcmd1bWVudHMgPSBPYmplY3QuZW50cmllcyhhcmd1bWVudHNbMF0pXG4gICAgICAgIF9hcmd1bWVudHMuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgZGJba2V5XSA9IHZhbHVlXG4gICAgICAgIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlIDI6XG4gICAgICAgIGxldCBrZXkgPSBhcmd1bWVudHNbMF1cbiAgICAgICAgbGV0IHZhbHVlID0gYXJndW1lbnRzWzFdXG4gICAgICAgIGRiW2tleV0gPSB2YWx1ZVxuICAgICAgICBicmVha1xuICAgIH1cbiAgICB0aGlzLl9kYiA9IGRiXG4gIH1cbiAgdW5zZXREQigpIHtcbiAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBkZWxldGUgdGhpcy5fZGJcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgbGV0IGRiID0gdGhpcy5fZGJcbiAgICAgICAgbGV0IGtleSA9IGFyZ3VtZW50c1swXVxuICAgICAgICBkZWxldGUgZGJba2V5XVxuICAgICAgICB0aGlzLl9kYiA9IGRiXG4gICAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHNldERhdGFQcm9wZXJ0eShrZXksIHZhbHVlKSB7XG4gICAgaWYoIXRoaXMuX2RhdGFbJ18nLmNvbmNhdChrZXkpXSkge1xuICAgICAgbGV0IGNvbnRleHQgPSB0aGlzXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhcbiAgICAgICAgdGhpcy5fZGF0YSxcbiAgICAgICAge1xuICAgICAgICAgIFsnXycuY29uY2F0KGtleSldOiB7XG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQoKSB7IHJldHVybiB0aGlzW2tleV0gfSxcbiAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZVxuICAgICAgICAgICAgICBsZXQgc2V0VmFsdWVFdmVudE5hbWUgPSBbJ3NldCcsICc6Jywga2V5XS5qb2luKCcnKVxuICAgICAgICAgICAgICBsZXQgc2V0RXZlbnROYW1lID0gJ3NldCdcbiAgICAgICAgICAgICAgY29udGV4dC5lbWl0KFxuICAgICAgICAgICAgICAgIHNldFZhbHVlRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHNldFZhbHVlRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZighY29udGV4dC5faXNTZXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYoIU9iamVjdC52YWx1ZXMoY29udGV4dC5fY2hhbmdpbmcpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5lbWl0KFxuICAgICAgICAgICAgICAgICAgICBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzZXRFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0LmVtaXQoXG4gICAgICAgICAgICAgICAgICAgIHNldEV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNldEV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjb250ZXh0Ll9jaGFuZ2luZyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICAgdGhpcy5fZGF0YVsnXycuY29uY2F0KGtleSldID0gdmFsdWVcbiAgfVxuICB1bnNldERhdGFQcm9wZXJ0eShrZXkpIHtcbiAgICBsZXQgdW5zZXRWYWx1ZUV2ZW50TmFtZSA9IFsndW5zZXQnLCAnOicsIGtleV0uam9pbignJylcbiAgICBsZXQgdW5zZXRFdmVudE5hbWUgPSAndW5zZXQnXG4gICAgbGV0IHVuc2V0VmFsdWUgPSB0aGlzLl9kYXRhW2tleV1cbiAgICBkZWxldGUgdGhpcy5fZGF0YVsnXycuY29uY2F0KGtleSldXG4gICAgZGVsZXRlIHRoaXMuX2RhdGFba2V5XVxuICAgIHRoaXMuZW1pdChcbiAgICAgIHVuc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICB7XG4gICAgICAgIG5hbWU6IHVuc2V0VmFsdWVFdmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB2YWx1ZTogdW5zZXRWYWx1ZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgICB0aGlzLmVtaXQoXG4gICAgICB1bnNldEV2ZW50TmFtZSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogdW5zZXRFdmVudE5hbWUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB2YWx1ZTogdW5zZXRWYWx1ZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIClcbiAgfVxuICBwYXJzZShkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5fZGF0YVxuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oe30sIGRhdGEpKSlcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MubG9jYWxTdG9yYWdlKSB0aGlzLl9sb2NhbFN0b3JhZ2UgPSB0aGlzLnNldHRpbmdzLmxvY2FsU3RvcmFnZVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5oaXN0aW9ncmFtKSB0aGlzLl9oaXN0aW9ncmFtID0gdGhpcy5zZXR0aW5ncy5oaXN0aW9ncmFtXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmVtaXR0ZXJzKSB0aGlzLl9lbWl0dGVycyA9IHRoaXMuc2V0dGluZ3MuZW1pdHRlcnNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2VydmljZXMpIHRoaXMuX3NlcnZpY2VzID0gdGhpcy5zZXR0aW5ncy5zZXJ2aWNlc1xuICAgICAgaWYodGhpcy5zZXR0aW5ncy5zZXJ2aWNlQ2FsbGJhY2tzKSB0aGlzLl9zZXJ2aWNlQ2FsbGJhY2tzID0gdGhpcy5zZXR0aW5ncy5zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLnNlcnZpY2VFdmVudHMpIHRoaXMuX3NlcnZpY2VFdmVudHMgPSB0aGlzLnNldHRpbmdzLnNlcnZpY2VFdmVudHNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3MuZGF0YSkgdGhpcy5zZXQodGhpcy5zZXR0aW5ncy5kYXRhKVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzKSB0aGlzLl9kYXRhQ2FsbGJhY2tzID0gdGhpcy5zZXR0aW5ncy5kYXRhQ2FsbGJhY2tzXG4gICAgICBpZih0aGlzLnNldHRpbmdzLmRhdGFFdmVudHMpIHRoaXMuX2RhdGFFdmVudHMgPSB0aGlzLnNldHRpbmdzLmRhdGFFdmVudHNcbiAgICAgIGlmKHRoaXMuc2V0dGluZ3Muc2NoZW1hKSB0aGlzLl9zY2hlbWEgPSB0aGlzLnNldHRpbmdzLnNjaGVtYVxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5kZWZhdWx0cykgdGhpcy5fZGVmYXVsdHMgPSB0aGlzLnNldHRpbmdzLmRlZmF1bHRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5zZXJ2aWNlcyAmJlxuICAgICAgICB0aGlzLnNlcnZpY2VFdmVudHMgJiZcbiAgICAgICAgdGhpcy5zZXJ2aWNlQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVTZXJ2aWNlRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmRhdGFFdmVudHMgJiZcbiAgICAgICAgdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVEYXRhRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VuYWJsZWQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnNlcnZpY2VzICYmXG4gICAgICAgIHRoaXMuc2VydmljZUV2ZW50cyAmJlxuICAgICAgICB0aGlzLnNlcnZpY2VDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVTZXJ2aWNlRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmRhdGFFdmVudHMgJiZcbiAgICAgICAgdGhpcy5kYXRhQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlRGF0YUV2ZW50cygpXG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5fbG9jYWxTdG9yYWdlXG4gICAgICBkZWxldGUgdGhpcy5faGlzdGlvZ3JhbVxuICAgICAgZGVsZXRlIHRoaXMuX3NlcnZpY2VzXG4gICAgICBkZWxldGUgdGhpcy5fc2VydmljZUNhbGxiYWNrc1xuICAgICAgZGVsZXRlIHRoaXMuX3NlcnZpY2VFdmVudHNcbiAgICAgIGRlbGV0ZSB0aGlzLl9kYXRhXG4gICAgICBkZWxldGUgdGhpcy5fZGF0YUNhbGxiYWNrc1xuICAgICAgZGVsZXRlIHRoaXMuX2RhdGFFdmVudHNcbiAgICAgIGRlbGV0ZSB0aGlzLl9zY2hlbWFcbiAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyc1xuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgfVxuICB9XG59XG4iLCJNVkMuRW1pdHRlciA9IGNsYXNzIGV4dGVuZHMgTVZDLk1vZGVsIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcclxuICAgIGlmKHRoaXMuc2V0dGluZ3MpIHtcclxuICAgICAgaWYodGhpcy5zZXR0aW5ncy5uYW1lKSB0aGlzLl9uYW1lID0gdGhpcy5zZXR0aW5ncy5uYW1lXHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBfbmFtZSgpIHsgcmV0dXJuIHRoaXMubmFtZSB9XHJcbiAgc2V0IF9uYW1lKG5hbWUpIHsgdGhpcy5uYW1lID0gbmFtZSB9XHJcbiAgZW1pc3Npb24oKSB7XHJcbiAgICBsZXQgZXZlbnREYXRhID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgIGRhdGE6IHRoaXMuZGF0YVxyXG4gICAgfVxyXG4gICAgdGhpcy5lbWl0KFxyXG4gICAgICB0aGlzLm5hbWUsXHJcbiAgICAgIGV2ZW50RGF0YVxyXG4gICAgKVxyXG4gICAgcmV0dXJuIGV2ZW50RGF0YVxyXG4gIH1cclxufVxyXG4iLCJNVkMuRW1pdHRlcnMuTmF2aWdhdGUgPSBjbGFzcyBleHRlbmRzIE1WQy5FbWl0dGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcclxuICAgIHRoaXMuYWRkU2V0dGluZ3MoKVxyXG4gICAgdGhpcy5lbmFibGUoKVxyXG4gIH1cclxuICBhZGRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuX25hbWUgPSAnbmF2aWdhdGUnXHJcbiAgICB0aGlzLl9zY2hlbWEgPSB7XHJcbiAgICAgIG9sZFVSTDogU3RyaW5nLFxyXG4gICAgICBuZXdVUkw6IFN0cmluZyxcclxuICAgICAgY3VycmVudFJvdXRlOiBTdHJpbmcsXHJcbiAgICAgIGN1cnJlbnRDb250cm9sbGVyOiBTdHJpbmcsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIk1WQy5WaWV3ID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VsZW1lbnROYW1lKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC50YWdOYW1lIH1cbiAgc2V0IF9lbGVtZW50TmFtZShlbGVtZW50TmFtZSkge1xuICAgIGlmKCF0aGlzLl9lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50TmFtZSlcbiAgfVxuICBnZXQgX2VsZW1lbnQoKSB7IHJldHVybiB0aGlzLmVsZW1lbnQgfVxuICBzZXQgX2VsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmKFxuICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IHx8XG4gICAgICBlbGVtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICApIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICB9IGVsc2UgaWYodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpXG4gICAgfVxuICAgIHRoaXMuZWxlbWVudE9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIH0pXG4gIH1cbiAgZ2V0IF9hdHRyaWJ1dGVzKCkgeyByZXR1cm4gdGhpcy5fZWxlbWVudC5hdHRyaWJ1dGVzIH1cbiAgc2V0IF9hdHRyaWJ1dGVzKGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IobGV0IFthdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSkge1xuICAgICAgaWYodHlwZW9mIGF0dHJpYnV0ZVZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVLZXkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVLZXksIGF0dHJpYnV0ZVZhbHVlKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQgX3VpKCkge1xuICAgIHRoaXMudWkgPSAodGhpcy51aSlcbiAgICAgID8gdGhpcy51aVxuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpXG4gIH1cbiAgc2V0IF91aSh1aSkge1xuICAgIGlmKCF0aGlzLl91aVsnJGVsZW1lbnQnXSkgdGhpcy5fdWlbJyRlbGVtZW50J10gPSB0aGlzLmVsZW1lbnRcbiAgICBmb3IobGV0IFt1aUtleSwgdWlWYWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModWkpKSB7XG4gICAgICBpZih0eXBlb2YgdWlWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fdWlbdWlLZXldID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHVpVmFsdWUpXG4gICAgICB9IGVsc2UgaWYoXG4gICAgICAgIHVpVmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fFxuICAgICAgICB1aVZhbHVlIGluc3RhbmNlb2YgRG9jdW1lbnRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl91aVt1aUtleV0gPSB1aVZhbHVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBfdWlFdmVudHMoKSB7IHJldHVybiB0aGlzLnVpRXZlbnRzIH1cbiAgc2V0IF91aUV2ZW50cyh1aUV2ZW50cykgeyB0aGlzLnVpRXZlbnRzID0gdWlFdmVudHMgfVxuICBnZXQgX3VpQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSAodGhpcy51aUNhbGxiYWNrcylcbiAgICAgID8gdGhpcy51aUNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF91aUNhbGxiYWNrcyh1aUNhbGxiYWNrcykge1xuICAgIHRoaXMudWlDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgdWlDYWxsYmFja3MsIHRoaXMuX3VpQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfb2JzZXJ2ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9ICh0aGlzLm9ic2VydmVyQ2FsbGJhY2tzKVxuICAgICAgPyB0aGlzLm9ic2VydmVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX29ic2VydmVyQ2FsbGJhY2tzKG9ic2VydmVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5vYnNlcnZlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBvYnNlcnZlckNhbGxiYWNrcywgdGhpcy5fb2JzZXJ2ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IGVsZW1lbnRPYnNlcnZlcigpIHtcbiAgICB0aGlzLl9lbGVtZW50T2JzZXJ2ZXIgPSAodGhpcy5fZWxlbWVudE9ic2VydmVyKVxuICAgICAgPyB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgICAgIDogbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5lbGVtZW50T2JzZXJ2ZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50T2JzZXJ2ZXJcbiAgfVxuICBnZXQgX2luc2VydCgpIHsgcmV0dXJuIHRoaXMuaW5zZXJ0IH1cbiAgc2V0IF9pbnNlcnQoaW5zZXJ0KSB7IHRoaXMuaW5zZXJ0ID0gaW5zZXJ0IH1cbiAgZ2V0IF9lbmFibGVkKCkgeyByZXR1cm4gdGhpcy5lbmFibGVkIHx8IGZhbHNlIH1cbiAgc2V0IF9lbmFibGVkKGVuYWJsZWQpIHsgdGhpcy5lbmFibGVkID0gZW5hYmxlZCB9XG4gIGdldCBfdGVtcGxhdGVzKCkge1xuICAgIHRoaXMudGVtcGxhdGVzID0gKHRoaXMudGVtcGxhdGVzKVxuICAgICAgPyB0aGlzLnRlbXBsYXRlc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnRlbXBsYXRlc1xuICB9XG4gIHNldCBfdGVtcGxhdGVzKHRlbXBsYXRlcykge1xuICAgIHRoaXMudGVtcGxhdGVzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHRlbXBsYXRlcywgdGhpcy5fdGVtcGxhdGVzXG4gICAgKVxuICB9XG4gIGVsZW1lbnRPYnNlcnZlKG11dGF0aW9uUmVjb3JkTGlzdCwgb2JzZXJ2ZXIpIHtcbiAgICBmb3IobGV0IFttdXRhdGlvblJlY29yZEluZGV4LCBtdXRhdGlvblJlY29yZF0gb2YgT2JqZWN0LmVudHJpZXMobXV0YXRpb25SZWNvcmRMaXN0KSkge1xuICAgICAgc3dpdGNoKG11dGF0aW9uUmVjb3JkLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICBsZXQgbXV0YXRpb25SZWNvcmRDYXRlZ29yaWVzID0gWydhZGRlZE5vZGVzJywgJ3JlbW92ZWROb2RlcyddXG4gICAgICAgICAgZm9yKGxldCBtdXRhdGlvblJlY29yZENhdGVnb3J5IG9mIG11dGF0aW9uUmVjb3JkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgaWYobXV0YXRpb25SZWNvcmRbbXV0YXRpb25SZWNvcmRDYXRlZ29yeV0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVzZXRVSSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGF1dG9JbnNlcnQoKSB7XG4gICAgaWYodGhpcy5pbnNlcnQpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnNlcnQuZWxlbWVudClcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KHRoaXMuaW5zZXJ0Lm1ldGhvZCwgdGhpcy5lbGVtZW50KVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgYXV0b1JlbW92ZSgpIHtcbiAgICBpZihcbiAgICAgIHRoaXMuZWxlbWVudCAmJlxuICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICApIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudClcbiAgfVxuICBlbmFibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoc2V0dGluZ3MuZWxlbWVudE5hbWUpIHRoaXMuX2VsZW1lbnROYW1lID0gc2V0dGluZ3MuZWxlbWVudE5hbWVcbiAgICBpZihzZXR0aW5ncy5lbGVtZW50KSB0aGlzLl9lbGVtZW50ID0gc2V0dGluZ3MuZWxlbWVudFxuICAgIGlmKHNldHRpbmdzLmF0dHJpYnV0ZXMpIHRoaXMuX2F0dHJpYnV0ZXMgPSBzZXR0aW5ncy5hdHRyaWJ1dGVzXG4gICAgaWYoc2V0dGluZ3MudGVtcGxhdGVzKSB0aGlzLl90ZW1wbGF0ZXMgPSBzZXR0aW5ncy50ZW1wbGF0ZXNcbiAgICBpZihzZXR0aW5ncy5pbnNlcnQpIHRoaXMuX2luc2VydCA9IHNldHRpbmdzLmluc2VydFxuICB9XG4gIGRpc2FibGVFbGVtZW50KHNldHRpbmdzKSB7XG4gICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICB0aGlzLmVsZW1lbnQgJiZcbiAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50XG4gICAgKSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgaWYodGhpcy5lbGVtZW50KSBkZWxldGUgdGhpcy5lbGVtZW50XG4gICAgaWYodGhpcy5hdHRyaWJ1dGVzKSBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzXG4gICAgaWYodGhpcy50ZW1wbGF0ZXMpIGRlbGV0ZSB0aGlzLnRlbXBsYXRlc1xuICAgIGlmKHRoaXMuaW5zZXJ0KSBkZWxldGUgdGhpcy5pbnNlcnRcbiAgfVxuICByZXNldFVJKCkge1xuICAgIHRoaXMuZGlzYWJsZVVJKClcbiAgICB0aGlzLmVuYWJsZVVJKClcbiAgfVxuICBlbmFibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpKSB0aGlzLl91aSA9IHNldHRpbmdzLnVpXG4gICAgaWYoc2V0dGluZ3MudWlDYWxsYmFja3MpIHRoaXMuX3VpQ2FsbGJhY2tzID0gc2V0dGluZ3MudWlDYWxsYmFja3NcbiAgICBpZihzZXR0aW5ncy51aUV2ZW50cykge1xuICAgICAgdGhpcy5fdWlFdmVudHMgPSBzZXR0aW5ncy51aUV2ZW50c1xuICAgICAgdGhpcy5lbmFibGVVSUV2ZW50cygpXG4gICAgfVxuICB9XG4gIGRpc2FibGVVSShzZXR0aW5ncykge1xuICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwgdGhpcy5zZXR0aW5nc1xuICAgIGlmKHNldHRpbmdzLnVpRXZlbnRzKSB7XG4gICAgICB0aGlzLmRpc2FibGVVSUV2ZW50cygpXG4gICAgICBkZWxldGUgdGhpcy5fdWlFdmVudHNcbiAgICB9XG4gICAgZGVsZXRlIHRoaXMudWlFdmVudHNcbiAgICBkZWxldGUgdGhpcy51aVxuICAgIGRlbGV0ZSB0aGlzLnVpQ2FsbGJhY2tzXG4gIH1cbiAgZW5hYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMuYmluZEV2ZW50c1RvVGFyZ2V0T2JqZWN0cyhcbiAgICAgICAgdGhpcy51aUV2ZW50cyxcbiAgICAgICAgdGhpcy51aSxcbiAgICAgICAgdGhpcy51aUNhbGxiYWNrc1xuICAgICAgKVxuICAgIH1cbiAgfVxuICBkaXNhYmxlVUlFdmVudHMoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLnVpRXZlbnRzICYmXG4gICAgICB0aGlzLnVpICYmXG4gICAgICB0aGlzLnVpQ2FsbGJhY2tzXG4gICAgKSB7XG4gICAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHMoXG4gICAgICAgIHRoaXMudWlFdmVudHMsXG4gICAgICAgIHRoaXMudWksXG4gICAgICAgIHRoaXMudWlDYWxsYmFja3NcbiAgICAgIClcbiAgICB9XG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgaWYodGhpcy5zZXR0aW5ncy5lbWl0dGVycykgdGhpcy5fZW1pdHRlcnMgPSB0aGlzLnNldHRpbmdzLmVtaXR0ZXJzXG4gIH1cbiAgZGlzYWJsZUVtaXR0ZXJzKCkge1xuICAgIGlmKHRoaXMuX2VtaXR0ZXJzKSBkZWxldGUgdGhpcy5fZW1pdHRlcnNcbiAgfVxuICBlbmFibGUoKSB7XG4gICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5nc1xuICAgIGlmKFxuICAgICAgc2V0dGluZ3MgJiZcbiAgICAgICF0aGlzLl9lbmFibGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJzKClcbiAgICAgIHRoaXMuZW5hYmxlRWxlbWVudChzZXR0aW5ncylcbiAgICAgIHRoaXMuZW5hYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5fZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5kaXNhYmxlVUkoc2V0dGluZ3MpXG4gICAgICB0aGlzLmRpc2FibGVFbGVtZW50KHNldHRpbmdzKVxuICAgICAgdGhpcy5kaXNhYmxlRW1pdHRlcnMoKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgICByZXR1cm4gdGhpc3NcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Db250cm9sbGVyID0gY2xhc3MgZXh0ZW5kcyBNVkMuQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cylcbiAgfVxuICBnZXQgX2VtaXR0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gKHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgICAgID8gdGhpcy5lbWl0dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICB9XG4gIHNldCBfZW1pdHRlckNhbGxiYWNrcyhlbWl0dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGVtaXR0ZXJDYWxsYmFja3MsIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9tb2RlbENhbGxiYWNrcygpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gKHRoaXMubW9kZWxDYWxsYmFja3MpXG4gICAgICA/IHRoaXMubW9kZWxDYWxsYmFja3NcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5tb2RlbENhbGxiYWNrc1xuICB9XG4gIHNldCBfbW9kZWxDYWxsYmFja3MobW9kZWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVsQ2FsbGJhY2tzLCB0aGlzLl9tb2RlbENhbGxiYWNrc1xuICAgIClcbiAgfVxuICBnZXQgX3ZpZXdDYWxsYmFja3MoKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gKHRoaXMudmlld0NhbGxiYWNrcylcbiAgICAgID8gdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld0NhbGxiYWNrc1xuICB9XG4gIHNldCBfdmlld0NhbGxiYWNrcyh2aWV3Q2FsbGJhY2tzKSB7XG4gICAgdGhpcy52aWV3Q2FsbGJhY2tzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHZpZXdDYWxsYmFja3MsIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyQ2FsbGJhY2tzKCkge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9ICh0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgfVxuICBzZXQgX2NvbnRyb2xsZXJDYWxsYmFja3MoY29udHJvbGxlckNhbGxiYWNrcykge1xuICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBjb250cm9sbGVyQ2FsbGJhY2tzLCB0aGlzLl9jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxzKCkge1xuICAgIHRoaXMubW9kZWxzID0gKHRoaXMubW9kZWxzKVxuICAgICAgPyB0aGlzLm1vZGVsc1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLm1vZGVsc1xuICB9XG4gIHNldCBfbW9kZWxzKG1vZGVscykge1xuICAgIHRoaXMubW9kZWxzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIG1vZGVscywgdGhpcy5fbW9kZWxzXG4gICAgKVxuICB9XG4gIGdldCBfdmlld3MoKSB7XG4gICAgdGhpcy52aWV3cyA9ICh0aGlzLnZpZXdzKVxuICAgICAgPyB0aGlzLnZpZXdzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMudmlld3NcbiAgfVxuICBzZXQgX3ZpZXdzKHZpZXdzKSB7XG4gICAgdGhpcy52aWV3cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3cywgdGhpcy5fdmlld3NcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVycygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gKHRoaXMuY29udHJvbGxlcnMpXG4gICAgICA/IHRoaXMuY29udHJvbGxlcnNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyc1xuICB9XG4gIHNldCBfY29udHJvbGxlcnMoY29udHJvbGxlcnMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIGNvbnRyb2xsZXJzLCB0aGlzLl9jb250cm9sbGVyc1xuICAgIClcbiAgfVxuICBnZXQgX3JvdXRlcnMoKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gKHRoaXMucm91dGVycylcbiAgICAgID8gdGhpcy5yb3V0ZXJzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyc1xuICB9XG4gIHNldCBfcm91dGVycyhyb3V0ZXJzKSB7XG4gICAgdGhpcy5yb3V0ZXJzID0gTVZDLlV0aWxzLmFkZFByb3BlcnRpZXNUb09iamVjdChcbiAgICAgIHJvdXRlcnMsIHRoaXMuX3JvdXRlcnNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSAodGhpcy5yb3V0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMucm91dGVyRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9yb3V0ZXJFdmVudHMocm91dGVyRXZlbnRzKSB7XG4gICAgdGhpcy5yb3V0ZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyRXZlbnRzLCB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF9yb3V0ZXJDYWxsYmFja3MoKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSAodGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gICAgICA/IHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVyQ2FsbGJhY2tzXG4gIH1cbiAgc2V0IF9yb3V0ZXJDYWxsYmFja3Mocm91dGVyQ2FsbGJhY2tzKSB7XG4gICAgdGhpcy5yb3V0ZXJDYWxsYmFja3MgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVyQ2FsbGJhY2tzLCB0aGlzLl9yb3V0ZXJDYWxsYmFja3NcbiAgICApXG4gIH1cbiAgZ2V0IF9lbWl0dGVyRXZlbnRzKCkge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9ICh0aGlzLmVtaXR0ZXJFdmVudHMpXG4gICAgICA/IHRoaXMuZW1pdHRlckV2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLmVtaXR0ZXJFdmVudHNcbiAgfVxuICBzZXQgX2VtaXR0ZXJFdmVudHMoZW1pdHRlckV2ZW50cykge1xuICAgIHRoaXMuZW1pdHRlckV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBlbWl0dGVyRXZlbnRzLCB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfbW9kZWxFdmVudHMoKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9ICh0aGlzLm1vZGVsRXZlbnRzKVxuICAgICAgPyB0aGlzLm1vZGVsRXZlbnRzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMubW9kZWxFdmVudHNcbiAgfVxuICBzZXQgX21vZGVsRXZlbnRzKG1vZGVsRXZlbnRzKSB7XG4gICAgdGhpcy5tb2RlbEV2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICBtb2RlbEV2ZW50cywgdGhpcy5fbW9kZWxFdmVudHNcbiAgICApXG4gIH1cbiAgZ2V0IF92aWV3RXZlbnRzKCkge1xuICAgIHRoaXMudmlld0V2ZW50cyA9ICh0aGlzLnZpZXdFdmVudHMpXG4gICAgICA/IHRoaXMudmlld0V2ZW50c1xuICAgICAgOiB7fVxuICAgIHJldHVybiB0aGlzLnZpZXdFdmVudHNcbiAgfVxuICBzZXQgX3ZpZXdFdmVudHModmlld0V2ZW50cykge1xuICAgIHRoaXMudmlld0V2ZW50cyA9IE1WQy5VdGlscy5hZGRQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICB2aWV3RXZlbnRzLCB0aGlzLl92aWV3RXZlbnRzXG4gICAgKVxuICB9XG4gIGdldCBfY29udHJvbGxlckV2ZW50cygpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSAodGhpcy5jb250cm9sbGVyRXZlbnRzKVxuICAgICAgPyB0aGlzLmNvbnRyb2xsZXJFdmVudHNcbiAgICAgIDoge31cbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyRXZlbnRzXG4gIH1cbiAgc2V0IF9jb250cm9sbGVyRXZlbnRzKGNvbnRyb2xsZXJFdmVudHMpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgY29udHJvbGxlckV2ZW50cywgdGhpcy5fY29udHJvbGxlckV2ZW50c1xuICAgIClcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZW5hYmxlTW9kZWxFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5tb2RlbEV2ZW50cywgdGhpcy5tb2RlbHMsIHRoaXMubW9kZWxDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZU1vZGVsRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLm1vZGVsRXZlbnRzLCB0aGlzLm1vZGVscywgdGhpcy5tb2RlbENhbGxiYWNrcylcbiAgfVxuICBlbmFibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMudmlld0V2ZW50cywgdGhpcy52aWV3cywgdGhpcy52aWV3Q2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVWaWV3RXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLnZpZXdFdmVudHMsIHRoaXMudmlld3MsIHRoaXMudmlld0NhbGxiYWNrcylcbiAgfVxuICBlbmFibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuY29udHJvbGxlckV2ZW50cywgdGhpcy5jb250cm9sbGVycywgdGhpcy5jb250cm9sbGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVDb250cm9sbGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmNvbnRyb2xsZXJFdmVudHMsIHRoaXMuY29udHJvbGxlcnMsIHRoaXMuY29udHJvbGxlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy5iaW5kRXZlbnRzVG9UYXJnZXRPYmplY3RzKHRoaXMuZW1pdHRlckV2ZW50cywgdGhpcy5lbWl0dGVycywgdGhpcy5lbWl0dGVyQ2FsbGJhY2tzKVxuICB9XG4gIGRpc2FibGVFbWl0dGVyRXZlbnRzKCkge1xuICAgIE1WQy5VdGlscy51bmJpbmRFdmVudHNGcm9tVGFyZ2V0T2JqZWN0cyh0aGlzLmVtaXR0ZXJFdmVudHMsIHRoaXMuZW1pdHRlcnMsIHRoaXMuZW1pdHRlckNhbGxiYWNrcylcbiAgfVxuICBlbmFibGVSb3V0ZXJFdmVudHMoKSB7XG4gICAgTVZDLlV0aWxzLmJpbmRFdmVudHNUb1RhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZGlzYWJsZVJvdXRlckV2ZW50cygpIHtcbiAgICBNVkMuVXRpbHMudW5iaW5kRXZlbnRzRnJvbVRhcmdldE9iamVjdHModGhpcy5yb3V0ZXJFdmVudHMsIHRoaXMucm91dGVycywgdGhpcy5yb3V0ZXJDYWxsYmFja3MpXG4gIH1cbiAgZW5hYmxlKCkge1xuICAgIGxldCBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3NcbiAgICBpZihcbiAgICAgIHNldHRpbmdzICYmXG4gICAgICAhdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihzZXR0aW5ncy5tb2RlbENhbGxiYWNrcykgdGhpcy5fbW9kZWxDYWxsYmFja3MgPSBzZXR0aW5ncy5tb2RlbENhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mudmlld0NhbGxiYWNrcykgdGhpcy5fdmlld0NhbGxiYWNrcyA9IHNldHRpbmdzLnZpZXdDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLmNvbnRyb2xsZXJDYWxsYmFja3MpIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5jb250cm9sbGVyQ2FsbGJhY2tzXG4gICAgICBpZihzZXR0aW5ncy5lbWl0dGVyQ2FsbGJhY2tzKSB0aGlzLl9lbWl0dGVyQ2FsbGJhY2tzID0gc2V0dGluZ3MuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgaWYoc2V0dGluZ3Mucm91dGVyQ2FsbGJhY2tzKSB0aGlzLl9yb3V0ZXJDYWxsYmFja3MgPSBzZXR0aW5ncy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgIGlmKHNldHRpbmdzLm1vZGVscykgdGhpcy5fbW9kZWxzID0gc2V0dGluZ3MubW9kZWxzXG4gICAgICBpZihzZXR0aW5ncy52aWV3cykgdGhpcy5fdmlld3MgPSBzZXR0aW5ncy52aWV3c1xuICAgICAgaWYoc2V0dGluZ3MuY29udHJvbGxlcnMpIHRoaXMuX2NvbnRyb2xsZXJzID0gc2V0dGluZ3MuY29udHJvbGxlcnNcbiAgICAgIGlmKHNldHRpbmdzLmVtaXR0ZXJzKSB0aGlzLl9lbWl0dGVycyA9IHNldHRpbmdzLmVtaXR0ZXJzXG4gICAgICBpZihzZXR0aW5ncy5yb3V0ZXJzKSB0aGlzLl9yb3V0ZXJzID0gc2V0dGluZ3Mucm91dGVyc1xuICAgICAgaWYoc2V0dGluZ3MubW9kZWxFdmVudHMpIHRoaXMuX21vZGVsRXZlbnRzID0gc2V0dGluZ3MubW9kZWxFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnZpZXdFdmVudHMpIHRoaXMuX3ZpZXdFdmVudHMgPSBzZXR0aW5ncy52aWV3RXZlbnRzXG4gICAgICBpZihzZXR0aW5ncy5jb250cm9sbGVyRXZlbnRzKSB0aGlzLl9jb250cm9sbGVyRXZlbnRzID0gc2V0dGluZ3MuY29udHJvbGxlckV2ZW50c1xuICAgICAgaWYoc2V0dGluZ3MuZW1pdHRlckV2ZW50cykgdGhpcy5fZW1pdHRlckV2ZW50cyA9IHNldHRpbmdzLmVtaXR0ZXJFdmVudHNcbiAgICAgIGlmKHNldHRpbmdzLnJvdXRlckV2ZW50cykgdGhpcy5fcm91dGVyRXZlbnRzID0gc2V0dGluZ3Mucm91dGVyRXZlbnRzXG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVNb2RlbEV2ZW50cygpXG4gICAgICB9XG4gICAgICBpZihcbiAgICAgICAgdGhpcy52aWV3RXZlbnRzICYmXG4gICAgICAgIHRoaXMudmlld3MgJiZcbiAgICAgICAgdGhpcy52aWV3Q2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbmFibGVWaWV3RXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5jb250cm9sbGVycyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMucm91dGVyRXZlbnRzICYmXG4gICAgICAgIHRoaXMucm91dGVycyAmJlxuICAgICAgICB0aGlzLnJvdXRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlUm91dGVyRXZlbnRzKClcbiAgICAgIH1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLmVtaXR0ZXJFdmVudHMgJiZcbiAgICAgICAgdGhpcy5lbWl0dGVycyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmVuYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWVcbiAgICB9XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kaXNhYmxlKClcbiAgICB0aGlzLmVuYWJsZSgpXG4gIH1cbiAgZGlzYWJsZSgpIHtcbiAgICBsZXQgc2V0dGluZ3MgPSB0aGlzLnNldHRpbmdzXG4gICAgaWYoXG4gICAgICBzZXR0aW5ncyAmJlxuICAgICAgdGhpcy5lbmFibGVkXG4gICAgKSB7XG4gICAgICBpZihcbiAgICAgICAgdGhpcy5tb2RlbEV2ZW50cyAmJlxuICAgICAgICB0aGlzLm1vZGVscyAmJlxuICAgICAgICB0aGlzLm1vZGVsQ2FsbGJhY2tzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlTW9kZWxFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMudmlld0V2ZW50cyAmJlxuICAgICAgICB0aGlzLnZpZXdzICYmXG4gICAgICAgIHRoaXMudmlld0NhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZVZpZXdFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuY29udHJvbGxlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmNvbnRyb2xsZXJzICYmXG4gICAgICAgIHRoaXMuY29udHJvbGxlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUNvbnRyb2xsZXJFdmVudHMoKVxuICAgICAgfX1cbiAgICAgIGlmKFxuICAgICAgICB0aGlzLnJvdXRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLnJvdXRlcnMgJiZcbiAgICAgICAgdGhpcy5yb3V0ZXJDYWxsYmFja3NcbiAgICAgICkge1xuICAgICAgICB0aGlzLmRpc2FibGVSb3V0ZXJFdmVudHMoKVxuICAgICAgfVxuICAgICAgaWYoXG4gICAgICAgIHRoaXMuZW1pdHRlckV2ZW50cyAmJlxuICAgICAgICB0aGlzLmVtaXR0ZXJzICYmXG4gICAgICAgIHRoaXMuZW1pdHRlckNhbGxiYWNrc1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVtaXR0ZXJFdmVudHMoKVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2NvbnRyb2xsZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJDYWxsYmFja3NcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JvdXRlckNhbGxiYWNrc1xuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3c1xuICAgICAgICBkZWxldGUgdGhpcy5fY29udHJvbGxlcnNcbiAgICAgICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9yb3V0ZXJFdmVudHNcbiAgICAgICAgZGVsZXRlIHRoaXMuX21vZGVsRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl92aWV3RXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyRXZlbnRzXG4gICAgICAgIGRlbGV0ZSB0aGlzLl9lbWl0dGVyRXZlbnRzXG4gICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2VcbiAgICB9XG4gIH1cbn1cbiIsIk1WQy5Sb3V0ZXIgPSBjbGFzcyBleHRlbmRzIE1WQy5CYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKVxuICB9XG4gIGdldCBwcm90b2NvbCgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCB9XG4gIGdldCBob3N0bmFtZSgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSB9XG4gIGdldCBwb3J0KCkgeyByZXR1cm4gd2luZG93LmxvY2F0aW9uLnBvcnQgfVxuICBnZXQgcGF0aCgpIHsgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSB9XG4gIGdldCBoYXNoKCkge1xuICAgIGxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJylcbiAgICBpZihoYXNoSW5kZXggPiAtMSkge1xuICAgICAgbGV0IHBhcmFtSW5kZXggPSBocmVmLmluZGV4T2YoJz8nKVxuICAgICAgbGV0IHNsaWNlU3RhcnQgPSBoYXNoSW5kZXggKyAxXG4gICAgICBsZXQgc2xpY2VTdG9wXG4gICAgICBpZihwYXJhbUluZGV4ID4gLTEpIHtcbiAgICAgICAgc2xpY2VTdG9wID0gKGhhc2hJbmRleCA+IHBhcmFtSW5kZXgpXG4gICAgICAgICAgPyBocmVmLmxlbmd0aFxuICAgICAgICAgIDogcGFyYW1JbmRleFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpY2VTdG9wID0gaHJlZi5sZW5ndGhcbiAgICAgIH1cbiAgICAgIGhyZWYgPSBocmVmLnNsaWNlKHNsaWNlU3RhcnQsIHNsaWNlU3RvcClcbiAgICAgIGlmKGhyZWYubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBocmVmXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICBnZXQgcGFyYW1zKCkge1xuICAgIGxldCBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgcGFyYW1JbmRleCA9IGhyZWYuaW5kZXhPZignPycpXG4gICAgaWYocGFyYW1JbmRleCA+IC0xKSB7XG4gICAgICBsZXQgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKCcjJylcbiAgICAgIGxldCBzbGljZVN0YXJ0ID0gcGFyYW1JbmRleCArIDFcbiAgICAgIGxldCBzbGljZVN0b3BcbiAgICAgIGlmKGhhc2hJbmRleCA+IC0xKSB7XG4gICAgICAgIHNsaWNlU3RvcCA9IChwYXJhbUluZGV4ID4gaGFzaEluZGV4KVxuICAgICAgICAgID8gaHJlZi5sZW5ndGhcbiAgICAgICAgICA6IGhhc2hJbmRleFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpY2VTdG9wID0gaHJlZi5sZW5ndGhcbiAgICAgIH1cbiAgICAgIGhyZWYgPSBocmVmLnNsaWNlKHNsaWNlU3RhcnQsIHNsaWNlU3RvcClcbiAgICAgIGlmKGhyZWYubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBocmVmXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICBnZXQgX3JvdXRlRGF0YSgpIHtcbiAgICBsZXQgcm91dGVEYXRhID0ge1xuICAgICAgbG9jYXRpb246IHt9LFxuICAgICAgY29udHJvbGxlcjoge30sXG4gICAgfVxuICAgIGxldCBwYXRoID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgIHBhdGggPSAocGF0aC5sZW5ndGgpXG4gICAgICA/IHBhdGhcbiAgICAgIDogWycvJ11cbiAgICBsZXQgaGFzaCA9IHRoaXMuaGFzaFxuICAgIGxldCBoYXNoRnJhZ21lbnRzID0gKGhhc2gpXG4gICAgICA/IGhhc2guc3BsaXQoJy8nKS5maWx0ZXIoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5sZW5ndGgpXG4gICAgICA6IG51bGxcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5wYXJhbXNcbiAgICBsZXQgcGFyYW1EYXRhID0gKHBhcmFtcylcbiAgICAgID8gTVZDLlV0aWxzLnBhcmFtc1RvT2JqZWN0KHBhcmFtcylcbiAgICAgIDogbnVsbFxuICAgIGlmKHRoaXMucHJvdG9jb2wpIHJvdXRlRGF0YS5sb2NhdGlvbi5wcm90b2NvbCA9IHRoaXMucHJvdG9jb2xcbiAgICBpZih0aGlzLmhvc3RuYW1lKSByb3V0ZURhdGEubG9jYXRpb24uaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lXG4gICAgaWYodGhpcy5wb3J0KSByb3V0ZURhdGEubG9jYXRpb24ucG9ydCA9IHRoaXMucG9ydFxuICAgIGlmKHRoaXMucGF0aCkgcm91dGVEYXRhLmxvY2F0aW9uLnBhdGggPSB0aGlzLnBhdGhcbiAgICBpZihcbiAgICAgIGhhc2ggJiZcbiAgICAgIGhhc2hGcmFnbWVudHNcbiAgICApIHtcbiAgICAgIGhhc2hGcmFnbWVudHMgPSAoaGFzaEZyYWdtZW50cy5sZW5ndGgpXG4gICAgICA/IGhhc2hGcmFnbWVudHNcbiAgICAgIDogWycvJ11cbiAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5oYXNoID0ge1xuICAgICAgICBwYXRoOiBoYXNoLFxuICAgICAgICBmcmFnbWVudHM6IGhhc2hGcmFnbWVudHMsXG4gICAgICB9XG4gICAgfVxuICAgIGlmKFxuICAgICAgcGFyYW1zICYmXG4gICAgICBwYXJhbURhdGFcbiAgICApIHtcbiAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5wYXJhbXMgPSB7XG4gICAgICAgIHBhdGg6IHBhcmFtcyxcbiAgICAgICAgZGF0YTogcGFyYW1EYXRhLFxuICAgICAgfVxuICAgIH1cbiAgICByb3V0ZURhdGEubG9jYXRpb24ucGF0aCA9IHtcbiAgICAgIG5hbWU6IHRoaXMucGF0aCxcbiAgICAgIGZyYWdtZW50czogcGF0aCxcbiAgICB9XG4gICAgcm91dGVEYXRhLmxvY2F0aW9uLmN1cnJlbnRVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICBsZXQgcm91dGVDb250cm9sbGVyRGF0YSA9IHRoaXMuX3JvdXRlQ29udHJvbGxlckRhdGFcbiAgICByb3V0ZURhdGEubG9jYXRpb24gPSBPYmplY3QuYXNzaWduKFxuICAgICAgcm91dGVEYXRhLmxvY2F0aW9uLFxuICAgICAgcm91dGVDb250cm9sbGVyRGF0YS5sb2NhdGlvblxuICAgIClcbiAgICByb3V0ZURhdGEuY29udHJvbGxlciA9IHJvdXRlQ29udHJvbGxlckRhdGEuY29udHJvbGxlclxuICAgIHRoaXMucm91dGVEYXRhID0gcm91dGVEYXRhXG4gICAgcmV0dXJuIHRoaXMucm91dGVEYXRhXG4gIH1cbiAgZ2V0IF9yb3V0ZUNvbnRyb2xsZXJEYXRhKCkge1xuICAgIGxldCByb3V0ZURhdGEgPSB7XG4gICAgICBsb2NhdGlvbjoge30sXG4gICAgfVxuICAgIE9iamVjdC5lbnRyaWVzKHRoaXMucm91dGVzKVxuICAgICAgLmZvckVhY2goKFtyb3V0ZVBhdGgsIHJvdXRlU2V0dGluZ3NdKSA9PiB7XG4gICAgICAgIGxldCBwYXRoRnJhZ21lbnRzID0gdGhpcy5wYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgICAgICBwYXRoRnJhZ21lbnRzID0gKHBhdGhGcmFnbWVudHMubGVuZ3RoKVxuICAgICAgICAgID8gcGF0aEZyYWdtZW50c1xuICAgICAgICAgIDogWycvJ11cbiAgICAgICAgbGV0IHJvdXRlRnJhZ21lbnRzID0gcm91dGVQYXRoLnNwbGl0KCcvJykuZmlsdGVyKChmcmFnbWVudCwgZnJhZ21lbnRJbmRleCkgPT4gZnJhZ21lbnQubGVuZ3RoKVxuICAgICAgICByb3V0ZUZyYWdtZW50cyA9IChyb3V0ZUZyYWdtZW50cy5sZW5ndGgpXG4gICAgICAgICAgPyByb3V0ZUZyYWdtZW50c1xuICAgICAgICAgIDogWycvJ11cbiAgICAgICAgaWYoXG4gICAgICAgICAgcGF0aEZyYWdtZW50cy5sZW5ndGggJiZcbiAgICAgICAgICBwYXRoRnJhZ21lbnRzLmxlbmd0aCA9PT0gcm91dGVGcmFnbWVudHMubGVuZ3RoXG4gICAgICAgICkge1xuICAgICAgICAgIGxldCBtYXRjaFxuICAgICAgICAgIHJldHVybiByb3V0ZUZyYWdtZW50cy5maWx0ZXIoKHJvdXRlRnJhZ21lbnQsIHJvdXRlRnJhZ21lbnRJbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgIG1hdGNoID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgbWF0Y2ggPT09IHRydWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZihyb3V0ZUZyYWdtZW50WzBdID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudElES2V5ID0gcm91dGVGcmFnbWVudC5yZXBsYWNlKCc6JywgJycpXG4gICAgICAgICAgICAgICAgaWYoXG4gICAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50SW5kZXggPT09IHBhdGhGcmFnbWVudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgcm91dGVEYXRhLmxvY2F0aW9uLmN1cnJlbnRJREtleSA9IGN1cnJlbnRJREtleVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByb3V0ZURhdGEubG9jYXRpb25bY3VycmVudElES2V5XSA9IHBhdGhGcmFnbWVudHNbcm91dGVGcmFnbWVudEluZGV4XVxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50SURSZWdFeHBcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3V0ZUZyYWdtZW50ID0gcm91dGVGcmFnbWVudC5yZXBsYWNlKG5ldyBSZWdFeHAoJy8nLCAnZ2knKSwgJ1xcXFxcXC8nKVxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnQgPSB0aGlzLnJvdXRlRnJhZ21lbnROYW1lUmVnRXhwKHJvdXRlRnJhZ21lbnQpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbWF0Y2ggPSByb3V0ZUZyYWdtZW50LnRlc3QocGF0aEZyYWdtZW50c1tyb3V0ZUZyYWdtZW50SW5kZXhdKVxuICAgICAgICAgICAgICBpZihcbiAgICAgICAgICAgICAgICBtYXRjaCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIHJvdXRlRnJhZ21lbnRJbmRleCA9PT0gcGF0aEZyYWdtZW50cy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJvdXRlRGF0YS5sb2NhdGlvbi5yb3V0ZSA9IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHJvdXRlUGF0aCxcbiAgICAgICAgICAgICAgICAgIGZyYWdtZW50czogcm91dGVGcmFnbWVudHMsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvdXRlRGF0YS5jb250cm9sbGVyID0gcm91dGVTZXR0aW5nc1xuICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZVNldHRpbmdzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVswXVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIHJldHVybiByb3V0ZURhdGFcbiAgfVxuICBnZXQgX2VuYWJsZWQoKSB7IHJldHVybiB0aGlzLmVuYWJsZWQgfHwgZmFsc2UgfVxuICBzZXQgX2VuYWJsZWQoZW5hYmxlZCkgeyB0aGlzLmVuYWJsZWQgPSBlbmFibGVkIH1cbiAgZ2V0IF9yb3V0ZXMoKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSAodGhpcy5yb3V0ZXMpXG4gICAgICA/IHRoaXMucm91dGVzXG4gICAgICA6IHt9XG4gICAgcmV0dXJuIHRoaXMucm91dGVzXG4gIH1cbiAgc2V0IF9yb3V0ZXMocm91dGVzKSB7XG4gICAgdGhpcy5yb3V0ZXMgPSBNVkMuVXRpbHMuYWRkUHJvcGVydGllc1RvT2JqZWN0KFxuICAgICAgcm91dGVzLCB0aGlzLl9yb3V0ZXNcbiAgICApXG4gIH1cbiAgZ2V0IF9jb250cm9sbGVyKCkgeyByZXR1cm4gdGhpcy5jb250cm9sbGVyIH1cbiAgc2V0IF9jb250cm9sbGVyKGNvbnRyb2xsZXIpIHsgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlciB9XG4gIGdldCBfcHJldmlvdXNVUkwoKSB7IHJldHVybiB0aGlzLnByZXZpb3VzVVJMIH1cbiAgc2V0IF9wcmV2aW91c1VSTChwcmV2aW91c1VSTCkgeyB0aGlzLnByZXZpb3VzVVJMID0gcHJldmlvdXNVUkwgfVxuICBnZXQgX2N1cnJlbnRVUkwoKSB7IHJldHVybiB0aGlzLmN1cnJlbnRVUkwgfVxuICBzZXQgX2N1cnJlbnRVUkwoY3VycmVudFVSTCkge1xuICAgIGlmKHRoaXMuY3VycmVudFVSTCkgdGhpcy5fcHJldmlvdXNVUkwgPSB0aGlzLmN1cnJlbnRVUkxcbiAgICB0aGlzLmN1cnJlbnRVUkwgPSBjdXJyZW50VVJMXG4gIH1cbiAgZ2V0IGZyYWdtZW50SURSZWdFeHAoKSB7IHJldHVybiBuZXcgUmVnRXhwKC9eKFswLTlBLVpcXD9cXD1cXCxcXC5cXCpcXC1cXF9cXCdcXFwiXFxeXFwlXFwkXFwjXFxAXFwhXFx+XFwoXFwpXFx7XFx9XFwmXFw8XFw+XFxcXFxcL10pKiQvLCAnZ2knKSB9XG4gIHJvdXRlRnJhZ21lbnROYW1lUmVnRXhwKGZyYWdtZW50KSB7IHJldHVybiBuZXcgUmVnRXhwKCdeJy5jb25jYXQoZnJhZ21lbnQsICckJykpIH1cbiAgZW5hYmxlKCkge1xuICAgIGlmKFxuICAgICAgIXRoaXMuZW5hYmxlZFxuICAgICkge1xuICAgICAgdGhpcy5lbmFibGVFbWl0dGVycygpXG4gICAgICB0aGlzLmVuYWJsZUV2ZW50cygpXG4gICAgICB0aGlzLmVuYWJsZVJvdXRlcygpXG4gICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGRpc2FibGUoKSB7XG4gICAgaWYoXG4gICAgICB0aGlzLmVuYWJsZWRcbiAgICApIHtcbiAgICAgIHRoaXMuZGlzYWJsZUV2ZW50cygpXG4gICAgICB0aGlzLmRpc2FibGVSb3V0ZXMoKVxuICAgICAgdGhpcy5kaXNhYmxlRW1pdHRlcnMoKVxuICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlXG4gICAgfVxuICB9XG4gIGVuYWJsZVJvdXRlcygpIHtcbiAgICBpZih0aGlzLnNldHRpbmdzLmNvbnRyb2xsZXIpIHRoaXMuX2NvbnRyb2xsZXIgPSB0aGlzLnNldHRpbmdzLmNvbnRyb2xsZXJcbiAgICB0aGlzLl9yb3V0ZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnNldHRpbmdzLnJvdXRlcykucmVkdWNlKFxuICAgICAgKFxuICAgICAgICBfcm91dGVzLFxuICAgICAgICBbcm91dGVQYXRoLCByb3V0ZVNldHRpbmdzXSxcbiAgICAgICAgcm91dGVJbmRleCxcbiAgICAgICAgb3JpZ2luYWxSb3V0ZXMsXG4gICAgICApID0+IHtcbiAgICAgICAgX3JvdXRlc1tyb3V0ZVBhdGhdID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICByb3V0ZVNldHRpbmdzLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLmNvbnRyb2xsZXJbcm91dGVTZXR0aW5ncy5jYWxsYmFja10uYmluZCh0aGlzLmNvbnRyb2xsZXIpLFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICByZXR1cm4gX3JvdXRlc1xuICAgICAgfSxcbiAgICAgIHt9XG4gICAgKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZW5hYmxlRW1pdHRlcnMoKSB7XG4gICAgdGhpcy5fZW1pdHRlcnMgPSB7XG4gICAgICBuYXZpZ2F0ZUVtaXR0ZXI6IG5ldyBNVkMuRW1pdHRlcnMuTmF2aWdhdGUoKSxcbiAgICB9XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBkaXNhYmxlRW1pdHRlcnMoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2VtaXR0ZXJzLm5hdmlnYXRlRW1pdHRlclxuICB9XG4gIGRpc2FibGVSb3V0ZXMoKSB7XG4gICAgZGVsZXRlIHRoaXMuX3JvdXRlc1xuICAgIGRlbGV0ZSB0aGlzLl9jb250cm9sbGVyXG4gIH1cbiAgZW5hYmxlRXZlbnRzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5yb3V0ZUNoYW5nZS5iaW5kKHRoaXMpKVxuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgZGlzYWJsZUV2ZW50cygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMucm91dGVDaGFuZ2UuYmluZCh0aGlzKSlcbiAgfVxuICByb3V0ZUNoYW5nZSgpIHtcbiAgICB0aGlzLl9jdXJyZW50VVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICBsZXQgcm91dGVEYXRhID0gdGhpcy5fcm91dGVEYXRhXG4gICAgaWYocm91dGVEYXRhLmNvbnRyb2xsZXIpIHtcbiAgICAgIGxldCBuYXZpZ2F0ZUVtaXR0ZXIgPSB0aGlzLmVtaXR0ZXJzLm5hdmlnYXRlRW1pdHRlclxuICAgICAgaWYodGhpcy5wcmV2aW91c1VSTCkgcm91dGVEYXRhLnByZXZpb3VzVVJMID0gdGhpcy5wcmV2aW91c1VSTFxuICAgICAgbmF2aWdhdGVFbWl0dGVyXG4gICAgICAgIC51bnNldCgpXG4gICAgICAgIC5zZXQocm91dGVEYXRhKVxuICAgICAgdGhpcy5lbWl0KFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIubmFtZSxcbiAgICAgICAgbmF2aWdhdGVFbWl0dGVyLmVtaXNzaW9uKClcbiAgICAgIClcbiAgICAgIHJvdXRlRGF0YS5jb250cm9sbGVyLmNhbGxiYWNrKFxuICAgICAgICBuYXZpZ2F0ZUVtaXR0ZXIuZW1pc3Npb24oKVxuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIG5hdmlnYXRlKHBhdGgpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGhcbiAgfVxufVxuIl0sImZpbGUiOiJicm93c2VyL212Yy1mcmFtZXdvcmstbWluLmpzIn0=

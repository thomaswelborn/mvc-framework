{"version":3,"file":"mvc-framework.js","sources":["../../source/MVC/Shims/events.js","../../source/MVC/Events/index.js","../../source/MVC/Channels/Channel/index.js","../../source/MVC/Channels/index.js","../../source/MVC/Utils/uuid.js","../../source/MVC/Base/index.js","../../source/MVC/Service/index.js","../../source/MVC/Model/index.js","../../source/MVC/Collection/index.js","../../source/MVC/View/index.js","../../source/MVC/Controller/index.js","../../source/MVC/Router/index.js","../../source/MVC/index.js"],"sourcesContent":["EventTarget.prototype.on = EventTarget.prototype.on || EventTarget.prototype.addEventListener\r\nEventTarget.prototype.off = EventTarget.prototype.off || EventTarget.prototype.removeEventListener\r\n","class Events {\r\n  constructor() {}\r\n  get _events() {\r\n    this.events = this.events || {}\r\n    return this.events\r\n  }\r\n  getEventCallbacks(eventName) { return this._events[eventName] || {} }\r\n  getEventCallbackName(eventCallback) {\r\n    return (eventCallback.name.length)\r\n      ? eventCallback.name\r\n      : 'anonymousFunction'\r\n  }\r\n  getEventCallbackGroup(eventCallbacks, eventCallbackName) {\r\n    return eventCallbacks[eventCallbackName] || []\r\n  }\r\n  on(eventName, eventCallback) {\r\n    let eventCallbacks = this.getEventCallbacks(eventName)\r\n    let eventCallbackName = this.getEventCallbackName(eventCallback)\r\n    let eventCallbackGroup = this.getEventCallbackGroup(eventCallbacks, eventCallbackName)\r\n    eventCallbackGroup.push(eventCallback)\r\n    eventCallbacks[eventCallbackName] = eventCallbackGroup\r\n    this._events[eventName] = eventCallbacks\r\n    return this\r\n  }\r\n  off() {\r\n    switch(arguments.length) {\r\n      case 0:\r\n        delete this.events\r\n        break\r\n      case 1:\r\n        var eventName = arguments[0]\r\n        delete this._events[eventName]\r\n        break\r\n      case 2:\r\n        var eventName = arguments[0]\r\n        var eventCallback = arguments[1]\r\n        var eventCallbackName = (typeof eventCallback === 'string')\r\n          ? eventCallback\r\n          : this.getEventCallbackName(eventCallback)\r\n        if(this._events[eventName]) {\r\n          delete this._events[eventName][eventCallbackName]\r\n          if(\r\n            Object.keys(this._events[eventName]).length === 0\r\n          ) delete this._events[eventName]\r\n        }\r\n        break\r\n    }\r\n    return this\r\n  }\r\n  emit() {\r\n    let _arguments = Array.from(arguments)\r\n    let eventName = _arguments.splice(0, 1)[0]\r\n    let eventData = _arguments.splice(0, 1)[0]\r\n    let eventArguments = _arguments.splice(0)\r\n    Object.entries(this.getEventCallbacks(eventName))\r\n      .forEach(([eventCallbackGroupName, eventCallbackGroup]) => {\r\n        eventCallbackGroup\r\n          .forEach((eventCallback) => {\r\n            eventCallback(\r\n              {\r\n                name: eventName,\r\n                data: eventData\r\n              },\r\n              ...eventArguments\r\n            )\r\n          })\r\n      })\r\n    return this\r\n  }\r\n}\r\nexport default Events\r\n","export default class {\r\n  constructor() {}\r\n  get _responses() {\r\n    this.responses = this.responses\r\n      ? this.responses\r\n      : {}\r\n    return this.responses\r\n  }\r\n  response(responseName, responseCallback) {\r\n    if (responseCallback) {\r\n      this._responses[responseName] = responseCallback\r\n    } else {\r\n      return this._responses[response]\r\n    }\r\n  }\r\n  request(responseName) {\r\n    if (this._responses[responseName]) {\r\n      var _arguments = Array.prototype.slice.call(arguments).slice(1)\r\n      return this._responses[responseName](..._arguments)\r\n    }\r\n  }\r\n  off(responseName) {\r\n    if (responseName) {\r\n      delete this._responses[responseName]\r\n    } else {\r\n      for (var [_responseName] of Object.keys(this._responses)) {\r\n        delete this._responses[_responseName]\r\n      }\r\n    }\r\n  }\r\n}\r\n","import Channel from './Channel/index'\r\nexport default class {\r\n  constructor() {}\r\n  get _channels() {\r\n    this.channels = this.channels\r\n      ? this.channels\r\n      : {}\r\n    return this.channels\r\n  }\r\n  channel(channelName) {\r\n    this._channels[channelName] = this._channels[channelName]\r\n      ? this._channels[channelName]\r\n      : new Channel()\r\n    return this._channels[channelName]\r\n  }\r\n  off(channelName) {\r\n    delete this._channels[channelName]\r\n  }\r\n}\r\n","export default function UUID() {\r\n  var uuid = \"\", i, random\r\n  for (i = 0; i < 32; i++) {\r\n    random = Math.random() * 16 | 0\r\n\r\n    if (i == 8 || i == 12 || i == 16 || i == 20) {\r\n      uuid += \"-\"\r\n    }\r\n    uuid += (i == 12 ? 4 : (i == 16 ? (random & 3 | 8) : random)).toString(16)\r\n  }\r\n  return uuid\r\n}\r\n","import '../Shims/events.js'\r\nimport Events from '../Events/index.js'\r\n\r\nclass Base extends Events {\r\n  constructor(settings, configuration) {\r\n    super()\r\n    this._configuration = configuration || {}\r\n    this._settings = settings || {}\r\n    this.addBindableClassProperties()\r\n    this.addClassDefaultProperties()\r\n  }\r\n  get _uuid() {\r\n    this.uuid = this.uuid || MVC.Utils.UUID()\r\n    return this.uuid\r\n  }\r\n  get _name() { return this.name }\r\n  set _name(name) { this.name = name }\r\n  get _settings() {\r\n    this.settings = this.settings || {}\r\n    return this.settings\r\n  }\r\n  set _settings(settings) {\r\n    this.settings = settings\r\n    let classDefaultProperties = this.classDefaultProperties || []\r\n    classDefaultProperties = classDefaultProperties.concat(this.getBindableClassPropertiesNames())\r\n    Object.entries(this.settings)\r\n      .forEach(([settingKey, settingValue]) => {\r\n        if(classDefaultProperties.indexOf(settingKey) === -1) {\r\n          Object.defineProperty(\r\n            this,\r\n            ['_'.concat(settingKey)],\r\n            {\r\n              get: function() { return this[settingKey] },\r\n              set: function(value) { this[settingKey] = value },\r\n            }\r\n          )\r\n          this['_'.concat(settingKey)] = settingValue\r\n        }\r\n      })\r\n  }\r\n  get _configuration() {\r\n    this.configuration = this.configuration || {}\r\n    return this.configuration\r\n  }\r\n  set _configuration(configuration) {\r\n    this.configuration = configuration\r\n  }\r\n  get _uiElementSettings() {\r\n    this.uiElementSettings = this.uiElementSettings || {}\r\n    return this.uiElementSettings\r\n  }\r\n  set _uiElementSettings(uiElementSettings) {\r\n    this.uiElementSettings = uiElementSettings\r\n  }\r\n  getBindableClassPropertiesNames() {\r\n    return (this.bindableClassProperties)\r\n      ? this.bindableClassProperties\r\n        .reduce((_bindableClassPropertiesNames, bindableClassPropertyName) => {\r\n          _bindableClassPropertiesNames = _bindableClassPropertiesNames.concat(\r\n            this.getBindableClassPropertyNames(\r\n              bindableClassPropertyName\r\n            )\r\n          )\r\n          return _bindableClassPropertiesNames\r\n        }, [])\r\n      : []\r\n  }\r\n  getBindableClassPropertyNames(bindableClassPropertyName) {\r\n    switch(bindableClassPropertyName) {\r\n      case 'data':\r\n        return [\r\n          bindableClassPropertyName.concat(''),\r\n          bindableClassPropertyName.concat('Events'),\r\n          bindableClassPropertyName.concat('Callbacks')\r\n        ]\r\n      default:\r\n        return [\r\n          bindableClassPropertyName.concat('s'),\r\n          bindableClassPropertyName.concat('Events'),\r\n          bindableClassPropertyName.concat('Callbacks')\r\n        ]\r\n    }\r\n  }\r\n  capitalizePropertyName(bindableClassPropertyName) {\r\n    if(bindableClassPropertyName.slice(0, 2) === 'ui') {\r\n      return bindableClassPropertyName.replace(/^ui/, 'UI')\r\n    } else {\r\n      let firstCharacter = bindableClassPropertyName.substring(0, 1).toUpperCase()\r\n      return bindableClassPropertyName.replace(/^./, firstCharacter)\r\n    }\r\n  }\r\n  addClassDefaultProperties() {\r\n    this.classDefaultProperties\r\n      .forEach((classDefaultProperty, classDefaultPropertyIndex) => {\r\n        let currentPropertyValue = this.settings[classDefaultProperty] ||\r\n        this[classDefaultProperty]\r\n        if(\r\n          currentPropertyValue\r\n        ) {\r\n          Object.defineProperty(this, classDefaultProperty, {\r\n            writable: true,\r\n          })\r\n          this['_'.concat(classDefaultProperty)] = currentPropertyValue\r\n        }\r\n      })\r\n    return this\r\n  }\r\n  addBindableClassProperties() {\r\n    if(this.bindableClassProperties) {\r\n      this.bindableClassProperties\r\n        .forEach((bindableClassPropertyName) => {\r\n          let bindableClassPropertyMethods = this.getBindableClassPropertyNames(\r\n            bindableClassPropertyName\r\n          )\r\n          bindableClassPropertyMethods\r\n            .forEach((bindableClassPropertyMethod, bindableClassPropertyMethodIndex) => {\r\n              this.addBindableClassProperty(bindableClassPropertyMethod)\r\n              if(bindableClassPropertyMethodIndex === bindableClassPropertyMethods.length - 1) {\r\n                this.toggleTargetBindableClassEvents(bindableClassPropertyName, 'on')\r\n              }\r\n            })\r\n        })\r\n    }\r\n    return this\r\n  }\r\n  addBindableClassProperty(bindableClassPropertyName) {\r\n    let context = this\r\n    let capitalizePropertyName = this.capitalizePropertyName(bindableClassPropertyName)\r\n    let addBindableClassPropertyName = 'add'.concat(capitalizePropertyName)\r\n    let removeBindableClassPropertyName = 'remove'.concat(capitalizePropertyName)\r\n    if(bindableClassPropertyName === 'uiElements') {\r\n      context._uiElementSettings = this[bindableClassPropertyName]\r\n    }\r\n    let currentPropertyValues =\r\n      this.settings[bindableClassPropertyName] ||\r\n      this[bindableClassPropertyName]\r\n    Object.defineProperties(\r\n      this,\r\n      {\r\n        [bindableClassPropertyName]: {\r\n          writable: true,\r\n          value: currentPropertyValues,\r\n        },\r\n        ['_'.concat(bindableClassPropertyName)]: {\r\n          get: function() {\r\n            context[bindableClassPropertyName] = context[bindableClassPropertyName] || {}\r\n            return context[bindableClassPropertyName]\r\n          },\r\n          set: function(values) {\r\n            let _values = Object.entries(values)\r\n            _values\r\n              .forEach(([key, value], index) => {\r\n                switch(bindableClassPropertyName) {\r\n                  case 'uiElements':\r\n                    context._uiElementSettings[key] = value\r\n                    Object.defineProperty(\r\n                      context['_'.concat(bindableClassPropertyName)],\r\n                      [key],\r\n                      {\r\n                        get: function() {\r\n                          return (context.element)\r\n                            ? context.element.querySelectorAll(value)\r\n                            : null\r\n                        }\r\n                      }\r\n                    )\r\n                    if(index === _values.length - 1) {\r\n                      Object.defineProperty(\r\n                        context['_'.concat(bindableClassPropertyName)],\r\n                        '$element',\r\n                        {\r\n                          configurable: true,\r\n                          get: function() {\r\n                            if(context.element) {\r\n                              return context.element\r\n                            }\r\n                          }\r\n                        }\r\n                      )\r\n                    }\r\n                    break\r\n                  default:\r\n                    context['_'.concat(bindableClassPropertyName)][key] = value\r\n                    break\r\n                }\r\n              })\r\n          },\r\n        },\r\n        [addBindableClassPropertyName]: {\r\n          value: function() {\r\n            if(arguments.length === 2) {\r\n              let key = arguments[0]\r\n              let value = arguments[1]\r\n              context['_'.concat(bindableClassPropertyName)] = {\r\n                [key]: value\r\n              }\r\n            } else if(arguments.length === 1) {\r\n              let values = arguments[0]\r\n              context['_'.concat(bindableClassPropertyName)] = values\r\n            }\r\n            this.resetTargetBindableClassEvents(bindableClassPropertyName)\r\n            return context\r\n          }\r\n        },\r\n        [removeBindableClassPropertyName]: {\r\n          value: function() {\r\n            if(arguments.length === 1) {\r\n              let key = arguments[0]\r\n              switch(bindableClassPropertyName) {\r\n                case 'uiElements':\r\n                  delete context['_'.concat(bindableClassPropertyName)][key]\r\n                  delete context['_'.concat('uiElementSettings')][key]\r\n                  break\r\n                default:\r\n                  delete context['_'.concat(bindableClassPropertyName)][key]\r\n                  break\r\n              }\r\n            } else if(arguments.length === 0){\r\n              Object.keys(context['_'.concat(bindableClassPropertyName)])\r\n                .forEach((key) => {\r\n                  switch(bindableClassPropertyName) {\r\n                    case 'uiElements':\r\n                      delete context['_'.concat(bindableClassPropertyName)][key]\r\n                      delete context['_'.concat('uiElementSettings')][key]\r\n                      break\r\n                    default:\r\n                      delete context['_'.concat(bindableClassPropertyName)][key]\r\n                      break\r\n                  }\r\n                })\r\n            }\r\n            this.resetTargetBindableClassEvents(bindableClassPropertyName)\r\n            return context\r\n          }\r\n        },\r\n      }\r\n    )\r\n    if(currentPropertyValues) {\r\n      this[addBindableClassPropertyName](currentPropertyValues)\r\n    }\r\n    return this\r\n  }\r\n  resetTargetBindableClassEvents(bindableClassPropertyName) {\r\n    return this\r\n      .toggleTargetBindableClassEvents(bindableClassPropertyName, 'off')\r\n      .toggleTargetBindableClassEvents(bindableClassPropertyName, 'on')\r\n  }\r\n  toggleTargetBindableClassEvents(classType, method) {\r\n    if(\r\n      this[classType.concat('s')] &&\r\n      this[classType.concat('Events')] &&\r\n      this[classType.concat('Callbacks')]\r\n    ) {\r\n      Object.entries(this[classType.concat('Events')])\r\n        .forEach(([classTypeEventData, classTypeCallbackName]) => {\r\n          classTypeEventData = classTypeEventData.split(' ')\r\n          let classTypeTargetName = classTypeEventData[0]\r\n          let classTypeEventName = classTypeEventData[1]\r\n          let classTypeTarget = this[classType.concat('s')][classTypeTargetName]\r\n          let classTypeEventCallback = (classType === 'uiElement')\r\n            ? this[classType.concat('Callbacks')][classTypeCallbackName]\r\n            : this[classType.concat('Callbacks')][classTypeCallbackName].bind(this)\r\n          if(\r\n            classTypeTargetName &&\r\n            classTypeEventName &&\r\n            classTypeTarget &&\r\n            classTypeEventCallback\r\n          ) {\r\n            this.toggleTargetBindableClassEvent(\r\n              classType,\r\n              classTypeTarget,\r\n              classTypeEventName,\r\n              classTypeEventCallback,\r\n              method\r\n            )\r\n          }\r\n        })\r\n    }\r\n    return this\r\n  }\r\n  toggleTargetBindableClassEvent(\r\n    classType,\r\n    classTypeTarget,\r\n    classTypeEventName,\r\n    classTypeEventCallback,\r\n    method\r\n  ) {\r\n    switch(method) {\r\n      case 'on':\r\n        switch(classType) {\r\n          case 'uiElement':\r\n            if(classTypeTarget instanceof NodeList) {\r\n              Array.from(classTypeTarget)\r\n                .forEach((_classTypeTarget) => {\r\n                  _classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n                })\r\n            } else if(classTypeTarget instanceof HTMLElement) {\r\n              classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n            }\r\n            break\r\n          default:\r\n            classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n            break\r\n        }\r\n        break\r\n      case 'off':\r\n        switch(classType) {\r\n          case 'uiElement':\r\n            if(classTypeTarget instanceof NodeList) {\r\n              Array.from(classTypeTarget)\r\n                .forEach((_classTypeTarget) => {\r\n                  _classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n                })\r\n            } else if(classTypeTarget instanceof HTMLElement) {\r\n              classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n            }\r\n            break\r\n          default:\r\n            classTypeTarget[method](classTypeEventName, classTypeEventCallback)\r\n            break\r\n        }\r\n        break\r\n    }\r\n  }\r\n}\r\nexport default Base\r\n","import Base from '../Base/index'\n\nclass Service extends Base {\n  constructor() {\n    super(...arguments)\n  }\n  get classDefaultProperties() { return [\n    'responseType',\n    'type',\n    'parameters',\n    'url',\n    'headers',\n    'data'\n  ] }\n  get _defaults() { return this.defaults || {\n    contentType: {'Content-Type': 'application/json'},\n    responseType: 'json',\n  } }\n  get _async() {\n    this.async = this.async || true\n    return this.async\n  }\n  set _async(async) { this.async = async }\n  get _responseTypes() { return ['', 'arraybuffer', 'blob', 'document', 'json', 'text'] }\n  get _responseType() { return this.responseType }\n  set _responseType(responseType) {\n    this._xhr.responseType = this._responseTypes.find(\n      (responseTypeItem) => responseTypeItem === responseType\n    ) || this._defaults.responseType\n  }\n  get _type() {\n    this.type = this.type || true\n    return this.type\n  }\n  set _type(type) { this.type = type }\n  get _parameters() {\n    this.parameters = this.parameters || {}\n    return this.parameters\n  }\n  set _parameters(parameters) { this.parameters = parameters }\n  get _url() { return this.url }\n  set _url(url) { this.url = url }\n  get _headers() {\n    this.headers = this.headers || [this._defaults.contentType]\n    return this.headers\n  }\n  set _headers(headers) { this.headers = headers }\n  get _data() {\n    this.data = this.data || {}\n    return this.data\n  }\n  set _data(data) { this.data = data }\n  get _xhr() {\n    this.xhr = (this.xhr)\n      ? this.xhr\n      : new XMLHttpRequest()\n    return this.xhr\n  }\n  stringParameters() {\n    let parameters = Object.entries(this._parameters)\n    return (parameters.length)\n      ? parameters\n        .reduce(\n          (\n            parameterString,\n            [parameterKey, parameterValue],\n            parameterIndex\n          ) => {\n            let concatenator = (\n              parameterIndex !== parameters.length - 1\n            ) ? '&'\n              : ''\n            let assignmentOperator = '='\n            parameterString = parameterString.concat(\n              parameterKey,\n              assignmentOperator,\n              parameterValue,\n              concatenator\n            )\n            return parameterString\n          },\n          '?'\n        )\n      : ''\n  }\n  request() {\n    let type = this._type\n    let url = (Object.keys(this._parameters).length)\n      ? this._url.concat(\n        this.stringParameters()\n      )\n      : this._url\n    let async = this._async\n    let xhr = this._xhr\n    return new Promise((resolve, reject) => {\n      xhr.onload = resolve\n      xhr.onerror = reject\n      xhr.open(type, url, async)\n      this._headers.forEach((header) => {\n        header = Object.entries(header)[0]\n        xhr.setRequestHeader(header[0], header[1])\n      })\n      if(Object.keys(this._data).length) {\n        xhr.send(this._data)\n      } else {\n        xhr.send()\n      }\n    }).then((response) => {\n      this.emit(\n        'xhrResolve', {\n          name: 'xhrResolve',\n          data: response.currentTarget,\n        },\n        this\n      )\n      return response\n    }).catch((error) => { throw error })\n  }\n}\nexport default Service\n","import Base from '../Base/index.js'\n\nclass Model extends Base {\n  constructor() {\n    super(...arguments)\n  }\n  get storageContainer() { return {} }\n  get defaultIDAttribute() { return '_id' }\n  get bindableClassProperties() { return [\n    'service'\n  ] }\n  get classDefaultProperties() { return [\n    'idAttribute',\n    'localStorage',\n    'histiogram',\n    'defaults'\n  ] }\n  get _idAttribute() {\n    this.idAttribute = this.idAttribute || this.defaultIDAttribute\n    return this.idAttribute\n  }\n  set _idAttribute(idAttribute) { this.idAttribute = idAttribute }\n  get _defaults() { return this.defaults }\n  set _defaults(defaults) {\n    this.defaults = defaults\n    this.set(this.defaults)\n  }\n  get _isSetting() { return this.isSetting }\n  set _isSetting(isSetting) { this.isSetting = isSetting }\n  get _silent() {\n    this.silent = (typeof this.silent === 'boolean')\n      ? this.silent\n      : false\n    return this.silent\n  }\n  set _silent(silent) { this.silent = silent }\n  get _changing() {\n    this.changing = this.changing || {}\n    return this.changing\n  }\n  get _localStorage() { return this.localStorage }\n  set _localStorage(localStorage) { this.localStorage = localStorage }\n  get _histiogram() { return this.histiogram || {\n    length: 1\n  } }\n  set _histiogram(histiogram) {\n    this.histiogram = Object.assign(\n      this._histiogram,\n      histiogram\n    )\n  }\n  get _history() {\n    this.history = this.history || []\n    return this.history\n  }\n  set _history(data) {\n    if(\n      Object.keys(data).length\n    ) {\n      if(this._histiogram.length) {\n        this._history.unshift(this.parse(data))\n        this._history.splice(this._histiogram.length)\n      }\n    }\n  }\n  get _data() {\n    this.data = this.data || this.storageContainer\n    return this.data\n  }\n  set _data(data) { this.data = data }\n  get db() { return this._db }\n  get _db() {\n    let db = localStorage.getItem(this.localStorage.endpoint) || JSON.stringify(this.storageContainer)\n    return JSON.parse(db)\n  }\n  set _db(db) {\n    db = JSON.stringify(db)\n    localStorage.setItem(this.localStorage.endpoint, db)\n  }\n  get() {\n    switch(arguments.length) {\n      case 0:\n        return Object.assign(\n          {},\n          this._data\n        )\n        break\n      case 1:\n        let key = arguments[0]\n        return this._data[key]\n        break\n    }\n  }\n  set() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 1:\n        this._isSetting = true\n        var _arguments = Object.entries(arguments[0])\n        _arguments.forEach(([key, value], index) => {\n          this._isSetting = (index === (_arguments.length - 1))\n            ? false\n            : true\n          // console.log('this._isSetting', this._isSetting, '\\n', key, value, '\\n', '------')\n          this.setDataProperty(key, value)\n        })\n        break\n      case 2:\n        if(typeof arguments[0] === 'string') {\n          var key = arguments[0]\n          var value = arguments[1]\n          this.setDataProperty(key, value)\n        } else {\n          var _arguments = Object.entries(arguments[0])\n          var silent = arguments[1]\n          _arguments.forEach(([key, value], index) => {\n            this._isSetting = (index === (_arguments.length - 1))\n              ? false\n              : true\n            // console.log('this._isSetting', this._isSetting, '\\n', key, value, '\\n', '------')\n            this._silent = silent\n            this.setDataProperty(key, value)\n            this._silent = false\n          })\n        }\n        break\n      case 3:\n        var key = arguments[0]\n        var value = arguments[1]\n        var silent = arguments[2]\n        this._silent = silent\n        this.setDataProperty(key, value)\n        this._silent = false\n        break\n    }\n    return this\n  }\n  unset() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 0:\n        for(let key of Object.keys(this._data)) {\n          this.unsetDataProperty(key)\n        }\n        break\n      case 1:\n        let key = arguments[0]\n        this.unsetDataProperty(key)\n        break\n    }\n    return this\n  }\n  setDB() {\n    let db = this._db\n    switch(arguments.length) {\n      case 1:\n        var _arguments = Object.entries(arguments[0])\n        _arguments.forEach(([key, value]) => {\n          db[key] = value\n        })\n        break\n      case 2:\n        let key = arguments[0]\n        let value = arguments[1]\n        db[key] = value\n        break\n    }\n    this._db = db\n    return this\n  }\n  unsetDB() {\n    switch(arguments.length) {\n      case 0:\n        delete this._db\n        break\n      case 1:\n        let db = this._db\n        let key = arguments[0]\n        delete db[key]\n        this._db = db\n        break\n    }\n    return this\n  }\n  setDataProperty(key, value) {\n    if(!this._data['_'.concat(key)]) {\n      let context = this\n      Object.defineProperties(\n        this._data,\n        {\n          ['_'.concat(key)]: {\n            configurable: true,\n            get() { return this[key] },\n            set(value) {\n              this[key] = value\n              context._changing[key] = value\n              if(context.localStorage) context.setDB(key, value)\n              let setValueEventName = ['set', ':', key].join('')\n              let setEventName = 'set'\n              if(context.silent !== true) {\n                context.emit(\n                  setValueEventName,\n                  {\n                    name: setValueEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n              }\n              if(!context._isSetting) {\n                if(!Object.values(context._changing).length) {\n                  if(context.silent !== true) {\n                    context.emit(\n                      setEventName,\n                      {\n                        name: setEventName,\n                        data: Object.assign(\n                          {},\n                          context._data\n                        ),\n                      },\n                      context\n                    )\n                  }\n                  } else {\n                  if(context.silent !== true) {\n                    context.emit(\n                      setEventName,\n                      {\n                        name: setEventName,\n                        data: Object.assign(\n                          {},\n                          context._changing,\n                          context._data,\n                        ),\n                      },\n                      context\n                    )\n                  }\n                }\n                delete context.changing\n              }\n            }\n          }\n        }\n      )\n    }\n    this._data['_'.concat(key)] = value\n    return this\n  }\n  unsetDataProperty(key) {\n    let unsetValueEventName = ['unset', ':', key].join('')\n    let unsetEventName = 'unset'\n    let unsetValue = this._data[key]\n    delete this._data['_'.concat(key)]\n    delete this._data[key]\n    this.emit(\n      unsetValueEventName,\n      {\n        name: unsetValueEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      },\n      this\n    )\n    this.emit(\n      unsetEventName,\n      {\n        name: unsetEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      },\n      this\n    )\n    return this\n  }\n  parse(data) {\n    data = data || this._data || this.storageContainer\n    return JSON.parse(JSON.stringify(data))\n  }\n}\n\nexport default Model\n","import Base from '../Base/index.js'\r\nimport Model from '../Model/index.js'\r\n\r\nclass Collection extends Base {\r\n  constructor() {\r\n    super(...arguments)\r\n  }\r\n  get storageContainer() { return [] }\r\n  get defaultIDAttribute() { return '_id' }\r\n  get bindableClassProperties() { return [\r\n    'service'\r\n  ] }\r\n  get classDefaultProperties() { return [\r\n    'idAttribute',\r\n    'model',\r\n    'defaults'\r\n  ] }\r\n  get _idAttribute() {\r\n    this.idAttribute = this.idAttribute || this.defaultIDAttribute\r\n    return this.idAttribute\r\n  }\r\n  set _idAttribute(idAttribute) { this.idAttribute = idAttribute }\r\n  get _defaults() { return this.defaults }\r\n  set _defaults(defaults) {\r\n    this.defaults = defaults\r\n    this.set(defaults)\r\n  }\r\n  get _models() {\r\n    this.models = this.models || this.storageContainer\r\n    return this.models\r\n  }\r\n  set _models(modelsData) { this.models = modelsData }\r\n  get _model() { return this.model }\r\n  set _model(model) { this.model = model }\r\n  get _isSetting() { return this.isSetting }\r\n  set _isSetting(isSetting) { this.isSetting = isSetting }\r\n  get _localStorage() { return this.localStorage }\r\n  set _localStorage(localStorage) { this.localStorage = localStorage }\r\n  get data() { return this._data }\r\n  get _data() {\r\n    return this._models\r\n      .map((model) => model.parse())\r\n  }\r\n  get db() { return this._db }\r\n  get _db() {\r\n    let db = localStorage.getItem(this._localStorage.endpoint) || JSON.stringify(this.storageContainer)\r\n    return JSON.parse(db)\r\n  }\r\n  set _db(db) {\r\n    db = JSON.stringify(db)\r\n    localStorage.setItem(this._localStorage.endpoint, db)\r\n  }\r\n  getModelIndex(modelUUID) {\r\n    let modelIndex\r\n    this._models\r\n      .find((_model, _modelIndex) => {\r\n        if(_model !== null) {\r\n          if(\r\n            _model instanceof Model &&\r\n            _model._uuid === modelUUID\r\n          ) {\r\n            modelIndex = _modelIndex\r\n            return _model\r\n          }\r\n        }\r\n      })\r\n    return modelIndex\r\n  }\r\n  removeModelByIndex(modelIndex) {\r\n    let model = this._models.splice(modelIndex, 1, null)\r\n    this.emit(\r\n      'remove', {\r\n        name: 'remove',\r\n      },\r\n      model[0],\r\n      this\r\n    )\r\n    return this\r\n  }\r\n  addModel(modelData) {\r\n    let model\r\n    if(modelData instanceof Model) {\r\n      model = modelData\r\n      model.on(\r\n        'set',\r\n        (event, _model) => {\r\n          this.emit(\r\n            'change',\r\n            {\r\n              name: 'change',\r\n            },\r\n            this,\r\n          )\r\n        }\r\n      )\r\n      this._models.push(model)\r\n    }\r\n    this.emit(\r\n      'add',\r\n      {\r\n        name: 'add',\r\n      },\r\n      model,\r\n      this\r\n    )\r\n    return this\r\n  }\r\n  add(modelData) {\r\n    this._isSetting = true\r\n    if(Array.isArray(modelData)) {\r\n      modelData\r\n        .forEach((_modelData) => {\r\n          this.addModel(_modelData)\r\n        })\r\n    } else {\r\n      this.addModel(modelData)\r\n    }\r\n    if(this._localStorage) this._db = this._data\r\n    this._isSetting = false\r\n    this.emit(\r\n      'change', {\r\n        name: 'change',\r\n        data: this._data,\r\n      },\r\n      this\r\n    )\r\n    return this\r\n  }\r\n  remove(modelData) {\r\n    this._isSetting = true\r\n    if(\r\n      !Array.isArray(modelData)\r\n    ) {\r\n      var modelIndex = this.getModelIndex(modelData._uuid)\r\n      this.removeModelByIndex(modelIndex)\r\n    } else if(Array.isArray(modelData)) {\r\n      modelData\r\n        .forEach((model) => {\r\n          var modelIndex = this.getModelIndex(model._uuid)\r\n          this.removeModelByIndex(modelIndex)\r\n        })\r\n    }\r\n    this._models = this._models\r\n      .filter((model) => model !== null)\r\n    if(this._localStorage) this._db = this._data\r\n\r\n    this._isSetting = false\r\n\r\n    this.emit(\r\n      'change', {\r\n        name: 'change',\r\n        data: this._data,\r\n      },\r\n      this\r\n    )\r\n    return this\r\n  }\r\n  reset() {\r\n    this.remove(this._models)\r\n    return this\r\n  }\r\n  parse(data) {\r\n    data = data || this._data || this.storageContainer\r\n    return JSON.parse(JSON.stringify(data))\r\n  }\r\n}\r\n\r\nexport default Collection\r\n","import Base from '../Base/index.js'\n\nclass View extends Base {\n  constructor() {\n    super(...arguments)\n  }\n  get bindableClassProperties() { return [\n    'uiElement'\n  ] }\n  get classDefaultProperties() { return [\n    'elementName',\n    'element',\n    'attributes',\n    'templates',\n    'insert'\n  ] }\n  get _elementName() { return this._element.tagName }\n  set _elementName(elementName) {\n    if(!this._element) this._element = document.createElement(elementName)\n  }\n  get _element() { return this.element }\n  set _element(element) {\n    this.element = element\n    this.elementObserver.observe(this.element, {\n      subtree: true,\n      childList: true,\n    })\n  }\n  get _attributes() {\n    this.attributes = this.element.attributes\n    return this.attributes\n  }\n  set _attributes(attributes) {\n    for(let [attributeKey, attributeValue] of Object.entries(attributes)) {\n      if(typeof attributeValue === 'undefined') {\n        this._element.removeAttribute(attributeKey)\n      } else {\n        this._element.setAttribute(attributeKey, attributeValue)\n      }\n    }\n  }\n  get elementObserver() {\n    this._elementObserver = this._elementObserver || new MutationObserver(\n      this.elementObserve.bind(this)\n    )\n    return this._elementObserver\n  }\n  get _insert() {\n    this.insert = this.insert || null\n    return this.insert\n  }\n  set _insert(insert) { this.insert = insert }\n  get _templates() {\n    this.templates = this.templates || {}\n    return this.templates\n  }\n  set _templates(templates) { this.templates = templates }\n  elementObserve(mutationRecordList, observer) {\n    for(let [mutationRecordIndex, mutationRecord] of Object.entries(mutationRecordList)) {\n      switch(mutationRecord.type) {\n        case 'childList':\n          let mutationRecordCategories = ['addedNodes', 'removedNodes']\n          this.resetTargetBindableClassEvents('uiElement')\n          if(mutationRecord.addedNodes.length && this.addedNodes) {\n            this.addedNodes()\n          }\n          if(mutationRecord.removedNodes.length && this.removedNodes) {\n            this.removedNodes()\n          }\n          break\n      }\n    }\n  }\n  autoInsert() {\n    let insert = this.insert\n    insert.parent.insertAdjacentElement(\n      insert.method,\n      this._element\n    )\n    return this\n  }\n  autoRemove() {\n    if(\n      this.element &&\n      this.element.parentElement\n    ) this.element.parentElement.removeChild(this.element)\n    return this\n  }\n}\nexport default View\n","import Base from '../Base/index'\n\nconst Controller = class extends Base {\n  constructor() {\n    super(...arguments)\n  }\n  get bindableClassProperties() { return [\n    'model',\n    'collection',\n    'view',\n    'controller',\n    'router'\n  ] }\n  get classDefaultProperties() { return [] }\n}\nexport default Controller\n","import Base from '../Base/index'\n\nconst Router = class extends Base {\n  constructor() {\n    super(...arguments)\n    this.addWindowEvents()\n  }\n  get classDefaultProperties() { return [\n    'root',\n    'hashRouting',\n    'controller',\n    'routes'\n  ] }\n  get protocol() { return window.location.protocol }\n  get hostname() { return window.location.hostname }\n  get port() { return window.location.port }\n  get pathname() { return window.location.pathname }\n  get path() {\n    let string = window.location.pathname\n      .replace(new RegExp(['^', this.root].join('')), '')\n      .split('?')\n      .slice(0, 1)\n      [0]\n    let fragments = (\n      string.length === 0\n    ) ? []\n      : (\n          string.length === 1 &&\n          string.match(/^\\//) &&\n          string.match(/\\/?/)\n        ) ? ['/']\n          : string\n              .replace(/^\\//, '')\n              .replace(/\\/$/, '')\n              .split('/')\n    return {\n      fragments: fragments,\n      string: string,\n    }\n  }\n  get hash() {\n    let string = window.location.hash\n      .slice(1)\n      .split('?')\n      .slice(0, 1)\n      [0]\n    let fragments = (\n      string.length === 0\n    ) ? []\n      : (\n          string.length === 1 &&\n          string.match(/^\\//) &&\n          string.match(/\\/?/)\n        ) ? ['/']\n          : string\n              .replace(/^\\//, '')\n              .replace(/\\/$/, '')\n              .split('/')\n    return {\n      fragments: fragments,\n      string: string,\n    }\n  }\n  get parameters() {\n    let string\n    let data\n    if(window.location.href.match(/\\?/)) {\n      let parameters = window.location.href\n        .split('?')\n        .slice(-1)\n        .join('')\n      string = parameters\n      data = parameters\n        .split('&')\n        .reduce((\n          _parameters,\n          parameter\n        ) => {\n          let parameterData = parameter.split('=')\n          _parameters[parameterData[0]] = parameterData[1]\n          return _parameters\n        }, {})\n    } else {\n      string = ''\n      data = {}\n    }\n    return {\n      string: string,\n      data: data\n    }\n  }\n  get _root() { return this.root || '/' }\n  set _root(root) { this.root = root }\n  get _hashRouting() { return this.hashRouting || false }\n  set _hashRouting(hashRouting) { this.hashRouting = hashRouting }\n  get _routes() { return this.routes }\n  set _routes(routes) { this.routes = routes }\n  get _controller() { return this.controller }\n  set _controller(controller) { this.controller = controller }\n  get location() {\n    return {\n      root: this.root,\n      path: this.path,\n      hash: this.hash,\n      parameters: this.parameters,\n    }\n  }\n  matchRoute(routeFragments, locationFragments) {\n    let routeMatches = new Array()\n    if(routeFragments.length === locationFragments.length) {\n      routeMatches = routeFragments\n        .reduce((_routeMatches, routeFragment, routeFragmentIndex) => {\n          let locationFragment = locationFragments[routeFragmentIndex]\n          if(routeFragment.match(/^\\:/)) {\n            _routeMatches.push(true)\n          } else if(routeFragment === locationFragment) {\n            _routeMatches.push(true)\n          } else {\n            _routeMatches.push(false)\n          }\n          return _routeMatches\n        }, [])\n    } else {\n      routeMatches.push(false)\n    }\n    return (routeMatches.indexOf(false) === -1)\n      ? true\n      : false\n  }\n  getRoute(location) {\n    let routes = Object.entries(this.routes)\n      .reduce((\n        _routes,\n        [routeName, routeSettings]) => {\n          let routeFragments = (\n            routeName.length === 1 &&\n            routeName.match(/^\\//)\n          ) ? [routeName]\n            : (routeName.length === 0)\n              ? ['']\n              : routeName\n                  .replace(/^\\//, '')\n                  .replace(/\\/$/, '')\n                  .split('/')\n          routeSettings.fragments = routeFragments\n          _routes[routeFragments.join('/')] = routeSettings\n          return _routes\n        },\n        {}\n      )\n    return Object.values(routes)\n      .find((route) => {\n        let routeFragments = route.fragments\n        let locationFragments = (this.hashRouting)\n          ? location.hash.fragments\n          : location.path.fragments\n        let matchRoute = this.matchRoute(\n          routeFragments,\n          locationFragments,\n        )\n        return matchRoute === true\n      })\n  }\n  popState(event) {\n    let location = this.location\n    let route = this.getRoute(location)\n    let routeData = {\n      route: route,\n      location: location,\n    }\n    if(route) {\n      this.controller[route.callback](routeData)\n      this.emit('change', {\n        name: 'change',\n        data: routeData,\n      },\n      this)\n    }\n  }\n  addWindowEvents() {\n    window.on('popstate', this.popState.bind(this))\n  }\n  removeWindowEvents() {\n    window.off('popstate', this.popState.bind(this))\n  }\n  navigate(path) {\n    window.location.href = path\n  }\n}\nexport default Router\n","import './Shims/events'\nimport Events from './Events/index'\nimport Channels from './Channels/index'\nimport * as Utils from './Utils/index'\nimport Service from './Service/index'\nimport Model from './Model/index'\nimport Collection from './Collection/index'\nimport View from './View/index'\nimport Controller from './Controller/index'\nimport Router from './Router/index'\nconst MVC = {\n  Events,\n  Channels,\n  Utils,\n  Service,\n  Model,\n  Collection,\n  View,\n  Controller,\n  Router,\n}\nexport default MVC\n"],"names":["EventTarget","prototype","on","addEventListener","off","removeEventListener","Events","constructor","_events","events","getEventCallbacks","eventName","getEventCallbackName","eventCallback","name","length","getEventCallbackGroup","eventCallbacks","eventCallbackName","eventCallbackGroup","push","arguments","Object","keys","emit","_arguments","Array","from","splice","eventData","eventArguments","entries","forEach","eventCallbackGroupName","data","_responses","responses","response","responseName","responseCallback","request","slice","call","_responseName","_channels","channels","channel","channelName","Channel","UUID","uuid","i","random","Math","toString","Base","settings","configuration","_configuration","_settings","addBindableClassProperties","addClassDefaultProperties","_uuid","MVC","Utils","_name","classDefaultProperties","concat","getBindableClassPropertiesNames","settingKey","settingValue","indexOf","defineProperty","get","set","value","_uiElementSettings","uiElementSettings","bindableClassProperties","reduce","_bindableClassPropertiesNames","bindableClassPropertyName","getBindableClassPropertyNames","capitalizePropertyName","replace","firstCharacter","substring","toUpperCase","classDefaultProperty","classDefaultPropertyIndex","currentPropertyValue","writable","bindableClassPropertyMethods","bindableClassPropertyMethod","bindableClassPropertyMethodIndex","addBindableClassProperty","toggleTargetBindableClassEvents","context","addBindableClassPropertyName","removeBindableClassPropertyName","currentPropertyValues","defineProperties","values","_values","index","key","element","querySelectorAll","configurable","resetTargetBindableClassEvents","classType","method","classTypeEventData","classTypeCallbackName","split","classTypeTargetName","classTypeEventName","classTypeTarget","classTypeEventCallback","bind","toggleTargetBindableClassEvent","NodeList","_classTypeTarget","HTMLElement","Service","_defaults","defaults","contentType","responseType","_async","async","_responseTypes","_responseType","_xhr","find","responseTypeItem","_type","type","_parameters","parameters","_url","url","_headers","headers","_data","xhr","XMLHttpRequest","stringParameters","parameterString","parameterIndex","parameterKey","parameterValue","concatenator","assignmentOperator","Promise","resolve","reject","onload","onerror","open","header","setRequestHeader","send","then","currentTarget","catch","error","Model","storageContainer","defaultIDAttribute","_idAttribute","idAttribute","_isSetting","isSetting","_silent","silent","_changing","changing","_localStorage","localStorage","_histiogram","histiogram","assign","_history","history","unshift","parse","db","_db","getItem","endpoint","JSON","stringify","setItem","setDataProperty","unset","unsetDataProperty","setDB","unsetDB","setValueEventName","join","setEventName","unsetValueEventName","unsetEventName","unsetValue","Collection","_models","models","modelsData","_model","model","map","getModelIndex","modelUUID","modelIndex","_modelIndex","removeModelByIndex","addModel","modelData","event","add","isArray","_modelData","remove","filter","reset","View","_elementName","_element","tagName","elementName","document","createElement","elementObserver","observe","subtree","childList","_attributes","attributes","attributeKey","attributeValue","removeAttribute","setAttribute","_elementObserver","MutationObserver","elementObserve","_insert","insert","_templates","templates","mutationRecordList","observer","mutationRecordIndex","mutationRecord","addedNodes","removedNodes","autoInsert","parent","insertAdjacentElement","autoRemove","parentElement","removeChild","Controller","Router","addWindowEvents","protocol","window","location","hostname","port","pathname","path","string","RegExp","root","fragments","match","hash","href","parameter","parameterData","_root","_hashRouting","hashRouting","_routes","routes","_controller","controller","matchRoute","routeFragments","locationFragments","routeMatches","_routeMatches","routeFragment","routeFragmentIndex","locationFragment","getRoute","routeName","routeSettings","route","popState","routeData","callback","removeWindowEvents","navigate","Channels"],"mappings":";;;;;;EAAAA,WAAW,CAACC,SAAZ,CAAsBC,EAAtB,GAA2BF,WAAW,CAACC,SAAZ,CAAsBC,EAAtB,IAA4BF,WAAW,CAACC,SAAZ,CAAsBE,gBAA7E;EACAH,WAAW,CAACC,SAAZ,CAAsBG,GAAtB,GAA4BJ,WAAW,CAACC,SAAZ,CAAsBG,GAAtB,IAA6BJ,WAAW,CAACC,SAAZ,CAAsBI,mBAA/E;;ECDA,MAAMC,MAAN,CAAa;EACXC,EAAAA,WAAW,GAAG;;EACd,MAAIC,OAAJ,GAAc;EACZ,SAAKC,MAAL,GAAc,KAAKA,MAAL,IAAe,EAA7B;EACA,WAAO,KAAKA,MAAZ;EACD;;EACDC,EAAAA,iBAAiB,CAACC,SAAD,EAAY;EAAE,WAAO,KAAKH,OAAL,CAAaG,SAAb,KAA2B,EAAlC;EAAsC;;EACrEC,EAAAA,oBAAoB,CAACC,aAAD,EAAgB;EAClC,WAAQA,aAAa,CAACC,IAAd,CAAmBC,MAApB,GACHF,aAAa,CAACC,IADX,GAEH,mBAFJ;EAGD;;EACDE,EAAAA,qBAAqB,CAACC,cAAD,EAAiBC,iBAAjB,EAAoC;EACvD,WAAOD,cAAc,CAACC,iBAAD,CAAd,IAAqC,EAA5C;EACD;;EACDhB,EAAAA,EAAE,CAACS,SAAD,EAAYE,aAAZ,EAA2B;EAC3B,QAAII,cAAc,GAAG,KAAKP,iBAAL,CAAuBC,SAAvB,CAArB;EACA,QAAIO,iBAAiB,GAAG,KAAKN,oBAAL,CAA0BC,aAA1B,CAAxB;EACA,QAAIM,kBAAkB,GAAG,KAAKH,qBAAL,CAA2BC,cAA3B,EAA2CC,iBAA3C,CAAzB;EACAC,IAAAA,kBAAkB,CAACC,IAAnB,CAAwBP,aAAxB;EACAI,IAAAA,cAAc,CAACC,iBAAD,CAAd,GAAoCC,kBAApC;EACA,SAAKX,OAAL,CAAaG,SAAb,IAA0BM,cAA1B;EACA,WAAO,IAAP;EACD;;EACDb,EAAAA,GAAG,GAAG;EACJ,YAAOiB,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,eAAO,KAAKN,MAAZ;EACA;;EACF,WAAK,CAAL;EACE,YAAIE,SAAS,GAAGU,SAAS,CAAC,CAAD,CAAzB;EACA,eAAO,KAAKb,OAAL,CAAaG,SAAb,CAAP;EACA;;EACF,WAAK,CAAL;EACE,YAAIA,SAAS,GAAGU,SAAS,CAAC,CAAD,CAAzB;EACA,YAAIR,aAAa,GAAGQ,SAAS,CAAC,CAAD,CAA7B;EACA,YAAIH,iBAAiB,GAAI,OAAOL,aAAP,KAAyB,QAA1B,GACpBA,aADoB,GAEpB,KAAKD,oBAAL,CAA0BC,aAA1B,CAFJ;;EAGA,YAAG,KAAKL,OAAL,CAAaG,SAAb,CAAH,EAA4B;EAC1B,iBAAO,KAAKH,OAAL,CAAaG,SAAb,EAAwBO,iBAAxB,CAAP;EACA,cACEI,MAAM,CAACC,IAAP,CAAY,KAAKf,OAAL,CAAaG,SAAb,CAAZ,EAAqCI,MAArC,KAAgD,CADlD,EAEE,OAAO,KAAKP,OAAL,CAAaG,SAAb,CAAP;EACH;;EACD;EApBJ;;EAsBA,WAAO,IAAP;EACD;;EACDa,EAAAA,IAAI,GAAG;EACL,QAAIC,UAAU,GAAGC,KAAK,CAACC,IAAN,CAAWN,SAAX,CAAjB;;EACA,QAAIV,SAAS,GAAGc,UAAU,CAACG,MAAX,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAhB;;EACA,QAAIC,SAAS,GAAGJ,UAAU,CAACG,MAAX,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB,CAAhB;;EACA,QAAIE,cAAc,GAAGL,UAAU,CAACG,MAAX,CAAkB,CAAlB,CAArB;;EACAN,IAAAA,MAAM,CAACS,OAAP,CAAe,KAAKrB,iBAAL,CAAuBC,SAAvB,CAAf,EACGqB,OADH,CACW,UAAkD;EAAA,UAAjD,CAACC,sBAAD,EAAyBd,kBAAzB,CAAiD;EACzDA,MAAAA,kBAAkB,CACfa,OADH,CACYnB,aAAD,IAAmB;EAC1BA,QAAAA,aAAa,CACX;EACEC,UAAAA,IAAI,EAAEH,SADR;EAEEuB,UAAAA,IAAI,EAAEL;EAFR,SADW,EAKX,GAAGC,cALQ,CAAb;EAOD,OATH;EAUD,KAZH;EAaA,WAAO,IAAP;EACD;;EApEU;;ECAE,cAAM;EACnBvB,EAAAA,WAAW,GAAG;;EACd,MAAI4B,UAAJ,GAAiB;EACf,SAAKC,SAAL,GAAiB,KAAKA,SAAL,GACb,KAAKA,SADQ,GAEb,EAFJ;EAGA,WAAO,KAAKA,SAAZ;EACD;;EACDC,EAAAA,QAAQ,CAACC,YAAD,EAAeC,gBAAf,EAAiC;EACvC,QAAIA,gBAAJ,EAAsB;EACpB,WAAKJ,UAAL,CAAgBG,YAAhB,IAAgCC,gBAAhC;EACD,KAFD,MAEO;EACL,aAAO,KAAKJ,UAAL,CAAgBE,QAAhB,CAAP;EACD;EACF;;EACDG,EAAAA,OAAO,CAACF,YAAD,EAAe;EACpB,QAAI,KAAKH,UAAL,CAAgBG,YAAhB,CAAJ,EAAmC;EACjC,UAAIb,UAAU,GAAGC,KAAK,CAACzB,SAAN,CAAgBwC,KAAhB,CAAsBC,IAAtB,CAA2BrB,SAA3B,EAAsCoB,KAAtC,CAA4C,CAA5C,CAAjB;;EACA,aAAO,KAAKN,UAAL,CAAgBG,YAAhB,EAA8B,GAAGb,UAAjC,CAAP;EACD;EACF;;EACDrB,EAAAA,GAAG,CAACkC,YAAD,EAAe;EAChB,QAAIA,YAAJ,EAAkB;EAChB,aAAO,KAAKH,UAAL,CAAgBG,YAAhB,CAAP;EACD,KAFD,MAEO;EACL,WAAK,IAAI,CAACK,aAAD,CAAT,IAA4BrB,MAAM,CAACC,IAAP,CAAY,KAAKY,UAAjB,CAA5B,EAA0D;EACxD,eAAO,KAAKA,UAAL,CAAgBQ,aAAhB,CAAP;EACD;EACF;EACF;;EA7BkB;;ECCN,eAAM;EACnBpC,EAAAA,WAAW,GAAG;;EACd,MAAIqC,SAAJ,GAAgB;EACd,SAAKC,QAAL,GAAgB,KAAKA,QAAL,GACZ,KAAKA,QADO,GAEZ,EAFJ;EAGA,WAAO,KAAKA,QAAZ;EACD;;EACDC,EAAAA,OAAO,CAACC,WAAD,EAAc;EACnB,SAAKH,SAAL,CAAeG,WAAf,IAA8B,KAAKH,SAAL,CAAeG,WAAf,IAC1B,KAAKH,SAAL,CAAeG,WAAf,CAD0B,GAE1B,IAAIC,OAAJ,EAFJ;EAGA,WAAO,KAAKJ,SAAL,CAAeG,WAAf,CAAP;EACD;;EACD3C,EAAAA,GAAG,CAAC2C,WAAD,EAAc;EACf,WAAO,KAAKH,SAAL,CAAeG,WAAf,CAAP;EACD;;EAhBkB;;ECDN,SAASE,IAAT,GAAgB;EAC7B,MAAIC,IAAI,GAAG,EAAX;EAAA,MAAeC,CAAf;EAAA,MAAkBC,MAAlB;;EACA,OAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,EAAhB,EAAoBA,CAAC,EAArB,EAAyB;EACvBC,IAAAA,MAAM,GAAGC,IAAI,CAACD,MAAL,KAAgB,EAAhB,GAAqB,CAA9B;;EAEA,QAAID,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAI,EAAf,IAAqBA,CAAC,IAAI,EAA1B,IAAgCA,CAAC,IAAI,EAAzC,EAA6C;EAC3CD,MAAAA,IAAI,IAAI,GAAR;EACD;;EACDA,IAAAA,IAAI,IAAI,CAACC,CAAC,IAAI,EAAL,GAAU,CAAV,GAAeA,CAAC,IAAI,EAAL,GAAWC,MAAM,GAAG,CAAT,GAAa,CAAxB,GAA6BA,MAA7C,EAAsDE,QAAtD,CAA+D,EAA/D,CAAR;EACD;;EACD,SAAOJ,IAAP;EACD;;;;;;;;;ECRD,MAAMK,IAAN,SAAmBjD,MAAnB,CAA0B;EACxBC,EAAAA,WAAW,CAACiD,QAAD,EAAWC,aAAX,EAA0B;EACnC;EACA,SAAKC,cAAL,GAAsBD,aAAa,IAAI,EAAvC;EACA,SAAKE,SAAL,GAAiBH,QAAQ,IAAI,EAA7B;EACA,SAAKI,0BAAL;EACA,SAAKC,yBAAL;EACD;;EACD,MAAIC,KAAJ,GAAY;EACV,SAAKZ,IAAL,GAAY,KAAKA,IAAL,IAAaa,GAAG,CAACC,KAAJ,CAAUf,IAAV,EAAzB;EACA,WAAO,KAAKC,IAAZ;EACD;;EACD,MAAIe,KAAJ,GAAY;EAAE,WAAO,KAAKnD,IAAZ;EAAkB;;EAChC,MAAImD,KAAJ,CAAUnD,IAAV,EAAgB;EAAE,SAAKA,IAAL,GAAYA,IAAZ;EAAkB;;EACpC,MAAI6C,SAAJ,GAAgB;EACd,SAAKH,QAAL,GAAgB,KAAKA,QAAL,IAAiB,EAAjC;EACA,WAAO,KAAKA,QAAZ;EACD;;EACD,MAAIG,SAAJ,CAAcH,QAAd,EAAwB;EACtB,SAAKA,QAAL,GAAgBA,QAAhB;EACA,QAAIU,sBAAsB,GAAG,KAAKA,sBAAL,IAA+B,EAA5D;EACAA,IAAAA,sBAAsB,GAAGA,sBAAsB,CAACC,MAAvB,CAA8B,KAAKC,+BAAL,EAA9B,CAAzB;EACA9C,IAAAA,MAAM,CAACS,OAAP,CAAe,KAAKyB,QAApB,EACGxB,OADH,CACW,UAAgC;EAAA,UAA/B,CAACqC,UAAD,EAAaC,YAAb,CAA+B;;EACvC,UAAGJ,sBAAsB,CAACK,OAAvB,CAA+BF,UAA/B,MAA+C,CAAC,CAAnD,EAAsD;EACpD/C,QAAAA,MAAM,CAACkD,cAAP,CACE,IADF,EAEE,CAAC,IAAIL,MAAJ,CAAWE,UAAX,CAAD,CAFF,EAGE;EACEI,UAAAA,GAAG,EAAE,eAAW;EAAE,mBAAO,KAAKJ,UAAL,CAAP;EAAyB,WAD7C;EAEEK,UAAAA,GAAG,EAAE,aAASC,KAAT,EAAgB;EAAE,iBAAKN,UAAL,IAAmBM,KAAnB;EAA0B;EAFnD,SAHF;EAQA,aAAK,IAAIR,MAAJ,CAAWE,UAAX,CAAL,IAA+BC,YAA/B;EACD;EACF,KAbH;EAcD;;EACD,MAAIZ,cAAJ,GAAqB;EACnB,SAAKD,aAAL,GAAqB,KAAKA,aAAL,IAAsB,EAA3C;EACA,WAAO,KAAKA,aAAZ;EACD;;EACD,MAAIC,cAAJ,CAAmBD,aAAnB,EAAkC;EAChC,SAAKA,aAAL,GAAqBA,aAArB;EACD;;EACD,MAAImB,kBAAJ,GAAyB;EACvB,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,IAA0B,EAAnD;EACA,WAAO,KAAKA,iBAAZ;EACD;;EACD,MAAID,kBAAJ,CAAuBC,iBAAvB,EAA0C;EACxC,SAAKA,iBAAL,GAAyBA,iBAAzB;EACD;;EACDT,EAAAA,+BAA+B,GAAG;EAChC,WAAQ,KAAKU,uBAAN,GACH,KAAKA,uBAAL,CACCC,MADD,CACQ,CAACC,6BAAD,EAAgCC,yBAAhC,KAA8D;EACpED,MAAAA,6BAA6B,GAAGA,6BAA6B,CAACb,MAA9B,CAC9B,KAAKe,6BAAL,CACED,yBADF,CAD8B,CAAhC;EAKA,aAAOD,6BAAP;EACD,KARD,EAQG,EARH,CADG,GAUH,EAVJ;EAWD;;EACDE,EAAAA,6BAA6B,CAACD,yBAAD,EAA4B;EACvD,YAAOA,yBAAP;EACE,WAAK,MAAL;EACE,eAAO,CACLA,yBAAyB,CAACd,MAA1B,CAAiC,EAAjC,CADK,EAELc,yBAAyB,CAACd,MAA1B,CAAiC,QAAjC,CAFK,EAGLc,yBAAyB,CAACd,MAA1B,CAAiC,WAAjC,CAHK,CAAP;;EAKF;EACE,eAAO,CACLc,yBAAyB,CAACd,MAA1B,CAAiC,GAAjC,CADK,EAELc,yBAAyB,CAACd,MAA1B,CAAiC,QAAjC,CAFK,EAGLc,yBAAyB,CAACd,MAA1B,CAAiC,WAAjC,CAHK,CAAP;EARJ;EAcD;;EACDgB,EAAAA,sBAAsB,CAACF,yBAAD,EAA4B;EAChD,QAAGA,yBAAyB,CAACxC,KAA1B,CAAgC,CAAhC,EAAmC,CAAnC,MAA0C,IAA7C,EAAmD;EACjD,aAAOwC,yBAAyB,CAACG,OAA1B,CAAkC,KAAlC,EAAyC,IAAzC,CAAP;EACD,KAFD,MAEO;EACL,UAAIC,cAAc,GAAGJ,yBAAyB,CAACK,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,EAA0CC,WAA1C,EAArB;EACA,aAAON,yBAAyB,CAACG,OAA1B,CAAkC,IAAlC,EAAwCC,cAAxC,CAAP;EACD;EACF;;EACDxB,EAAAA,yBAAyB,GAAG;EAC1B,SAAKK,sBAAL,CACGlC,OADH,CACW,CAACwD,oBAAD,EAAuBC,yBAAvB,KAAqD;EAC5D,UAAIC,oBAAoB,GAAG,KAAKlC,QAAL,CAAcgC,oBAAd,KAC3B,KAAKA,oBAAL,CADA;;EAEA,UACEE,oBADF,EAEE;EACApE,QAAAA,MAAM,CAACkD,cAAP,CAAsB,IAAtB,EAA4BgB,oBAA5B,EAAkD;EAChDG,UAAAA,QAAQ,EAAE;EADsC,SAAlD;EAGA,aAAK,IAAIxB,MAAJ,CAAWqB,oBAAX,CAAL,IAAyCE,oBAAzC;EACD;EACF,KAZH;EAaA,WAAO,IAAP;EACD;;EACD9B,EAAAA,0BAA0B,GAAG;EAC3B,QAAG,KAAKkB,uBAAR,EAAiC;EAC/B,WAAKA,uBAAL,CACG9C,OADH,CACYiD,yBAAD,IAA+B;EACtC,YAAIW,4BAA4B,GAAG,KAAKV,6BAAL,CACjCD,yBADiC,CAAnC;EAGAW,QAAAA,4BAA4B,CACzB5D,OADH,CACW,CAAC6D,2BAAD,EAA8BC,gCAA9B,KAAmE;EAC1E,eAAKC,wBAAL,CAA8BF,2BAA9B;;EACA,cAAGC,gCAAgC,KAAKF,4BAA4B,CAAC7E,MAA7B,GAAsC,CAA9E,EAAiF;EAC/E,iBAAKiF,+BAAL,CAAqCf,yBAArC,EAAgE,IAAhE;EACD;EACF,SANH;EAOD,OAZH;EAaD;;EACD,WAAO,IAAP;EACD;;EACDc,EAAAA,wBAAwB,CAACd,yBAAD,EAA4B;EAClD,QAAIgB,OAAO,GAAG,IAAd;EACA,QAAId,sBAAsB,GAAG,KAAKA,sBAAL,CAA4BF,yBAA5B,CAA7B;EACA,QAAIiB,4BAA4B,GAAG,MAAM/B,MAAN,CAAagB,sBAAb,CAAnC;EACA,QAAIgB,+BAA+B,GAAG,SAAShC,MAAT,CAAgBgB,sBAAhB,CAAtC;;EACA,QAAGF,yBAAyB,KAAK,YAAjC,EAA+C;EAC7CgB,MAAAA,OAAO,CAACrB,kBAAR,GAA6B,KAAKK,yBAAL,CAA7B;EACD;;EACD,QAAImB,qBAAqB,GACvB,KAAK5C,QAAL,CAAcyB,yBAAd,KACA,KAAKA,yBAAL,CAFF;EAGA3D,IAAAA,MAAM,CAAC+E,gBAAP,CACE,IADF,EAEE;EACE,OAACpB,yBAAD,GAA6B;EAC3BU,QAAAA,QAAQ,EAAE,IADiB;EAE3BhB,QAAAA,KAAK,EAAEyB;EAFoB,OAD/B;EAKE,OAAC,IAAIjC,MAAJ,CAAWc,yBAAX,CAAD,GAAyC;EACvCR,QAAAA,GAAG,EAAE,eAAW;EACdwB,UAAAA,OAAO,CAAChB,yBAAD,CAAP,GAAqCgB,OAAO,CAAChB,yBAAD,CAAP,IAAsC,EAA3E;EACA,iBAAOgB,OAAO,CAAChB,yBAAD,CAAd;EACD,SAJsC;EAKvCP,QAAAA,GAAG,EAAE,aAAS4B,MAAT,EAAiB;EACpB,cAAIC,OAAO,GAAGjF,MAAM,CAACS,OAAP,CAAeuE,MAAf,CAAd;;EACAC,UAAAA,OAAO,CACJvE,OADH,CACW,QAAewE,KAAf,KAAyB;EAAA,gBAAxB,CAACC,GAAD,EAAM9B,KAAN,CAAwB;;EAChC,oBAAOM,yBAAP;EACE,mBAAK,YAAL;EACEgB,gBAAAA,OAAO,CAACrB,kBAAR,CAA2B6B,GAA3B,IAAkC9B,KAAlC;EACArD,gBAAAA,MAAM,CAACkD,cAAP,CACEyB,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CADT,EAEE,CAACwB,GAAD,CAFF,EAGE;EACEhC,kBAAAA,GAAG,EAAE,eAAW;EACd,2BAAQwB,OAAO,CAACS,OAAT,GACHT,OAAO,CAACS,OAAR,CAAgBC,gBAAhB,CAAiChC,KAAjC,CADG,GAEH,IAFJ;EAGD;EALH,iBAHF;;EAWA,oBAAG6B,KAAK,KAAKD,OAAO,CAACxF,MAAR,GAAiB,CAA9B,EAAiC;EAC/BO,kBAAAA,MAAM,CAACkD,cAAP,CACEyB,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CADT,EAEE,UAFF,EAGE;EACE2B,oBAAAA,YAAY,EAAE,IADhB;EAEEnC,oBAAAA,GAAG,EAAE,eAAW;EACd,0BAAGwB,OAAO,CAACS,OAAX,EAAoB;EAClB,+BAAOT,OAAO,CAACS,OAAf;EACD;EACF;EANH,mBAHF;EAYD;;EACD;;EACF;EACET,gBAAAA,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,CAA+CwB,GAA/C,IAAsD9B,KAAtD;EACA;EA/BJ;EAiCD,WAnCH;EAoCD;EA3CsC,OAL3C;EAkDE,OAACuB,4BAAD,GAAgC;EAC9BvB,QAAAA,KAAK,EAAE,iBAAW;EAChB,cAAGtD,SAAS,CAACN,MAAV,KAAqB,CAAxB,EAA2B;EACzB,gBAAI0F,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,gBAAIsD,KAAK,GAAGtD,SAAS,CAAC,CAAD,CAArB;EACA4E,YAAAA,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,GAAiD;EAC/C,eAACwB,GAAD,GAAO9B;EADwC,aAAjD;EAGD,WAND,MAMO,IAAGtD,SAAS,CAACN,MAAV,KAAqB,CAAxB,EAA2B;EAChC,gBAAIuF,MAAM,GAAGjF,SAAS,CAAC,CAAD,CAAtB;EACA4E,YAAAA,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,GAAiDqB,MAAjD;EACD;;EACD,eAAKO,8BAAL,CAAoC5B,yBAApC;EACA,iBAAOgB,OAAP;EACD;EAd6B,OAlDlC;EAkEE,OAACE,+BAAD,GAAmC;EACjCxB,QAAAA,KAAK,EAAE,iBAAW;EAChB,cAAGtD,SAAS,CAACN,MAAV,KAAqB,CAAxB,EAA2B;EACzB,gBAAI0F,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;;EACA,oBAAO4D,yBAAP;EACE,mBAAK,YAAL;EACE,uBAAOgB,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,CAA+CwB,GAA/C,CAAP;EACA,uBAAOR,OAAO,CAAC,IAAI9B,MAAJ,CAAW,mBAAX,CAAD,CAAP,CAAyCsC,GAAzC,CAAP;EACA;;EACF;EACE,uBAAOR,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,CAA+CwB,GAA/C,CAAP;EACA;EAPJ;EASD,WAXD,MAWO,IAAGpF,SAAS,CAACN,MAAV,KAAqB,CAAxB,EAA0B;EAC/BO,YAAAA,MAAM,CAACC,IAAP,CAAY0E,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAnB,EACGjD,OADH,CACYyE,GAAD,IAAS;EAChB,sBAAOxB,yBAAP;EACE,qBAAK,YAAL;EACE,yBAAOgB,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,CAA+CwB,GAA/C,CAAP;EACA,yBAAOR,OAAO,CAAC,IAAI9B,MAAJ,CAAW,mBAAX,CAAD,CAAP,CAAyCsC,GAAzC,CAAP;EACA;;EACF;EACE,yBAAOR,OAAO,CAAC,IAAI9B,MAAJ,CAAWc,yBAAX,CAAD,CAAP,CAA+CwB,GAA/C,CAAP;EACA;EAPJ;EASD,aAXH;EAYD;;EACD,eAAKI,8BAAL,CAAoC5B,yBAApC;EACA,iBAAOgB,OAAP;EACD;EA7BgC;EAlErC,KAFF;;EAqGA,QAAGG,qBAAH,EAA0B;EACxB,WAAKF,4BAAL,EAAmCE,qBAAnC;EACD;;EACD,WAAO,IAAP;EACD;;EACDS,EAAAA,8BAA8B,CAAC5B,yBAAD,EAA4B;EACxD,WAAO,KACJe,+BADI,CAC4Bf,yBAD5B,EACuD,KADvD,EAEJe,+BAFI,CAE4Bf,yBAF5B,EAEuD,IAFvD,CAAP;EAGD;;EACDe,EAAAA,+BAA+B,CAACc,SAAD,EAAYC,MAAZ,EAAoB;EACjD,QACE,KAAKD,SAAS,CAAC3C,MAAV,CAAiB,GAAjB,CAAL,KACA,KAAK2C,SAAS,CAAC3C,MAAV,CAAiB,QAAjB,CAAL,CADA,IAEA,KAAK2C,SAAS,CAAC3C,MAAV,CAAiB,WAAjB,CAAL,CAHF,EAIE;EACA7C,MAAAA,MAAM,CAACS,OAAP,CAAe,KAAK+E,SAAS,CAAC3C,MAAV,CAAiB,QAAjB,CAAL,CAAf,EACGnC,OADH,CACW,WAAiD;EAAA,YAAhD,CAACgF,kBAAD,EAAqBC,qBAArB,CAAgD;EACxDD,QAAAA,kBAAkB,GAAGA,kBAAkB,CAACE,KAAnB,CAAyB,GAAzB,CAArB;EACA,YAAIC,mBAAmB,GAAGH,kBAAkB,CAAC,CAAD,CAA5C;EACA,YAAII,kBAAkB,GAAGJ,kBAAkB,CAAC,CAAD,CAA3C;EACA,YAAIK,eAAe,GAAG,KAAKP,SAAS,CAAC3C,MAAV,CAAiB,GAAjB,CAAL,EAA4BgD,mBAA5B,CAAtB;EACA,YAAIG,sBAAsB,GAAIR,SAAS,KAAK,WAAf,GACzB,KAAKA,SAAS,CAAC3C,MAAV,CAAiB,WAAjB,CAAL,EAAoC8C,qBAApC,CADyB,GAEzB,KAAKH,SAAS,CAAC3C,MAAV,CAAiB,WAAjB,CAAL,EAAoC8C,qBAApC,EAA2DM,IAA3D,CAAgE,IAAhE,CAFJ;;EAGA,YACEJ,mBAAmB,IACnBC,kBADA,IAEAC,eAFA,IAGAC,sBAJF,EAKE;EACA,eAAKE,8BAAL,CACEV,SADF,EAEEO,eAFF,EAGED,kBAHF,EAIEE,sBAJF,EAKEP,MALF;EAOD;EACF,OAvBH;EAwBD;;EACD,WAAO,IAAP;EACD;;EACDS,EAAAA,8BAA8B,CAC5BV,SAD4B,EAE5BO,eAF4B,EAG5BD,kBAH4B,EAI5BE,sBAJ4B,EAK5BP,MAL4B,EAM5B;EACA,YAAOA,MAAP;EACE,WAAK,IAAL;EACE,gBAAOD,SAAP;EACE,eAAK,WAAL;EACE,gBAAGO,eAAe,YAAYI,QAA9B,EAAwC;EACtC/F,cAAAA,KAAK,CAACC,IAAN,CAAW0F,eAAX,EACGrF,OADH,CACY0F,gBAAD,IAAsB;EAC7BA,gBAAAA,gBAAgB,CAACX,MAAD,CAAhB,CAAyBK,kBAAzB,EAA6CE,sBAA7C;EACD,eAHH;EAID,aALD,MAKO,IAAGD,eAAe,YAAYM,WAA9B,EAA2C;EAChDN,cAAAA,eAAe,CAACN,MAAD,CAAf,CAAwBK,kBAAxB,EAA4CE,sBAA5C;EACD;;EACD;;EACF;EACED,YAAAA,eAAe,CAACN,MAAD,CAAf,CAAwBK,kBAAxB,EAA4CE,sBAA5C;EACA;EAbJ;;EAeA;;EACF,WAAK,KAAL;EACE,gBAAOR,SAAP;EACE,eAAK,WAAL;EACE,gBAAGO,eAAe,YAAYI,QAA9B,EAAwC;EACtC/F,cAAAA,KAAK,CAACC,IAAN,CAAW0F,eAAX,EACGrF,OADH,CACY0F,gBAAD,IAAsB;EAC7BA,gBAAAA,gBAAgB,CAACX,MAAD,CAAhB,CAAyBK,kBAAzB,EAA6CE,sBAA7C;EACD,eAHH;EAID,aALD,MAKO,IAAGD,eAAe,YAAYM,WAA9B,EAA2C;EAChDN,cAAAA,eAAe,CAACN,MAAD,CAAf,CAAwBK,kBAAxB,EAA4CE,sBAA5C;EACD;;EACD;;EACF;EACED,YAAAA,eAAe,CAACN,MAAD,CAAf,CAAwBK,kBAAxB,EAA4CE,sBAA5C;EACA;EAbJ;;EAeA;EAlCJ;EAoCD;;EAhUuB;;ECD1B,MAAMM,OAAN,SAAsBrE,IAAtB,CAA2B;EACzBhD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACD;;EACD,MAAI6C,sBAAJ,GAA6B;EAAE,WAAO,CACpC,cADoC,EAEpC,MAFoC,EAGpC,YAHoC,EAIpC,KAJoC,EAKpC,SALoC,EAMpC,MANoC,CAAP;EAO5B;;EACH,MAAI2D,SAAJ,GAAgB;EAAE,WAAO,KAAKC,QAAL,IAAiB;EACxCC,MAAAA,WAAW,EAAE;EAAC,wBAAgB;EAAjB,OAD2B;EAExCC,MAAAA,YAAY,EAAE;EAF0B,KAAxB;EAGf;;EACH,MAAIC,MAAJ,GAAa;EACX,SAAKC,KAAL,GAAa,KAAKA,KAAL,IAAc,IAA3B;EACA,WAAO,KAAKA,KAAZ;EACD;;EACD,MAAID,MAAJ,CAAWC,KAAX,EAAkB;EAAE,SAAKA,KAAL,GAAaA,KAAb;EAAoB;;EACxC,MAAIC,cAAJ,GAAqB;EAAE,WAAO,CAAC,EAAD,EAAK,aAAL,EAAoB,MAApB,EAA4B,UAA5B,EAAwC,MAAxC,EAAgD,MAAhD,CAAP;EAAgE;;EACvF,MAAIC,aAAJ,GAAoB;EAAE,WAAO,KAAKJ,YAAZ;EAA0B;;EAChD,MAAII,aAAJ,CAAkBJ,YAAlB,EAAgC;EAC9B,SAAKK,IAAL,CAAUL,YAAV,GAAyB,KAAKG,cAAL,CAAoBG,IAApB,CACtBC,gBAAD,IAAsBA,gBAAgB,KAAKP,YADpB,KAEpB,KAAKH,SAAL,CAAeG,YAFpB;EAGD;;EACD,MAAIQ,KAAJ,GAAY;EACV,SAAKC,IAAL,GAAY,KAAKA,IAAL,IAAa,IAAzB;EACA,WAAO,KAAKA,IAAZ;EACD;;EACD,MAAID,KAAJ,CAAUC,IAAV,EAAgB;EAAE,SAAKA,IAAL,GAAYA,IAAZ;EAAkB;;EACpC,MAAIC,WAAJ,GAAkB;EAChB,SAAKC,UAAL,GAAkB,KAAKA,UAAL,IAAmB,EAArC;EACA,WAAO,KAAKA,UAAZ;EACD;;EACD,MAAID,WAAJ,CAAgBC,UAAhB,EAA4B;EAAE,SAAKA,UAAL,GAAkBA,UAAlB;EAA8B;;EAC5D,MAAIC,IAAJ,GAAW;EAAE,WAAO,KAAKC,GAAZ;EAAiB;;EAC9B,MAAID,IAAJ,CAASC,GAAT,EAAc;EAAE,SAAKA,GAAL,GAAWA,GAAX;EAAgB;;EAChC,MAAIC,QAAJ,GAAe;EACb,SAAKC,OAAL,GAAe,KAAKA,OAAL,IAAgB,CAAC,KAAKlB,SAAL,CAAeE,WAAhB,CAA/B;EACA,WAAO,KAAKgB,OAAZ;EACD;;EACD,MAAID,QAAJ,CAAaC,OAAb,EAAsB;EAAE,SAAKA,OAAL,GAAeA,OAAf;EAAwB;;EAChD,MAAIC,KAAJ,GAAY;EACV,SAAK9G,IAAL,GAAY,KAAKA,IAAL,IAAa,EAAzB;EACA,WAAO,KAAKA,IAAZ;EACD;;EACD,MAAI8G,KAAJ,CAAU9G,IAAV,EAAgB;EAAE,SAAKA,IAAL,GAAYA,IAAZ;EAAkB;;EACpC,MAAImG,IAAJ,GAAW;EACT,SAAKY,GAAL,GAAY,KAAKA,GAAN,GACP,KAAKA,GADE,GAEP,IAAIC,cAAJ,EAFJ;EAGA,WAAO,KAAKD,GAAZ;EACD;;EACDE,EAAAA,gBAAgB,GAAG;EACjB,QAAIR,UAAU,GAAGrH,MAAM,CAACS,OAAP,CAAe,KAAK2G,WAApB,CAAjB;EACA,WAAQC,UAAU,CAAC5H,MAAZ,GACH4H,UAAU,CACT5D,MADD,CAEE,CACEqE,eADF,QAGEC,cAHF,KAIK;EAAA,UAFH,CAACC,YAAD,EAAeC,cAAf,CAEG;EACH,UAAIC,YAAY,GACdH,cAAc,KAAKV,UAAU,CAAC5H,MAAX,GAAoB,CADtB,GAEf,GAFe,GAGf,EAHJ;EAIA,UAAI0I,kBAAkB,GAAG,GAAzB;EACAL,MAAAA,eAAe,GAAGA,eAAe,CAACjF,MAAhB,CAChBmF,YADgB,EAEhBG,kBAFgB,EAGhBF,cAHgB,EAIhBC,YAJgB,CAAlB;EAMA,aAAOJ,eAAP;EACD,KAnBH,EAoBE,GApBF,CADG,GAuBH,EAvBJ;EAwBD;;EACD5G,EAAAA,OAAO,GAAG;EACR,QAAIiG,IAAI,GAAG,KAAKD,KAAhB;EACA,QAAIK,GAAG,GAAIvH,MAAM,CAACC,IAAP,CAAY,KAAKmH,WAAjB,EAA8B3H,MAA/B,GACN,KAAK6H,IAAL,CAAUzE,MAAV,CACA,KAAKgF,gBAAL,EADA,CADM,GAIN,KAAKP,IAJT;EAKA,QAAIV,KAAK,GAAG,KAAKD,MAAjB;EACA,QAAIgB,GAAG,GAAG,KAAKZ,IAAf;EACA,WAAO,IAAIqB,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;EACtCX,MAAAA,GAAG,CAACY,MAAJ,GAAaF,OAAb;EACAV,MAAAA,GAAG,CAACa,OAAJ,GAAcF,MAAd;EACAX,MAAAA,GAAG,CAACc,IAAJ,CAAStB,IAAT,EAAeI,GAAf,EAAoBX,KAApB;;EACA,WAAKY,QAAL,CAAc9G,OAAd,CAAuBgI,MAAD,IAAY;EAChCA,QAAAA,MAAM,GAAG1I,MAAM,CAACS,OAAP,CAAeiI,MAAf,EAAuB,CAAvB,CAAT;EACAf,QAAAA,GAAG,CAACgB,gBAAJ,CAAqBD,MAAM,CAAC,CAAD,CAA3B,EAAgCA,MAAM,CAAC,CAAD,CAAtC;EACD,OAHD;;EAIA,UAAG1I,MAAM,CAACC,IAAP,CAAY,KAAKyH,KAAjB,EAAwBjI,MAA3B,EAAmC;EACjCkI,QAAAA,GAAG,CAACiB,IAAJ,CAAS,KAAKlB,KAAd;EACD,OAFD,MAEO;EACLC,QAAAA,GAAG,CAACiB,IAAJ;EACD;EACF,KAbM,EAaJC,IAbI,CAaE9H,QAAD,IAAc;EACpB,WAAKb,IAAL,CACE,YADF,EACgB;EACZV,QAAAA,IAAI,EAAE,YADM;EAEZoB,QAAAA,IAAI,EAAEG,QAAQ,CAAC+H;EAFH,OADhB,EAKE,IALF;EAOA,aAAO/H,QAAP;EACD,KAtBM,EAsBJgI,KAtBI,CAsBGC,KAAD,IAAW;EAAE,YAAMA,KAAN;EAAa,KAtB5B,CAAP;EAuBD;;EAnHwB;;ECA3B,MAAMC,KAAN,SAAoBhH,IAApB,CAAyB;EACvBhD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACD;;EACD,MAAImJ,gBAAJ,GAAuB;EAAE,WAAO,EAAP;EAAW;;EACpC,MAAIC,kBAAJ,GAAyB;EAAE,WAAO,KAAP;EAAc;;EACzC,MAAI3F,uBAAJ,GAA8B;EAAE,WAAO,CACrC,SADqC,CAAP;EAE7B;;EACH,MAAIZ,sBAAJ,GAA6B;EAAE,WAAO,CACpC,aADoC,EAEpC,cAFoC,EAGpC,YAHoC,EAIpC,UAJoC,CAAP;EAK5B;;EACH,MAAIwG,YAAJ,GAAmB;EACjB,SAAKC,WAAL,GAAmB,KAAKA,WAAL,IAAoB,KAAKF,kBAA5C;EACA,WAAO,KAAKE,WAAZ;EACD;;EACD,MAAID,YAAJ,CAAiBC,WAAjB,EAA8B;EAAE,SAAKA,WAAL,GAAmBA,WAAnB;EAAgC;;EAChE,MAAI9C,SAAJ,GAAgB;EAAE,WAAO,KAAKC,QAAZ;EAAsB;;EACxC,MAAID,SAAJ,CAAcC,QAAd,EAAwB;EACtB,SAAKA,QAAL,GAAgBA,QAAhB;EACA,SAAKpD,GAAL,CAAS,KAAKoD,QAAd;EACD;;EACD,MAAI8C,UAAJ,GAAiB;EAAE,WAAO,KAAKC,SAAZ;EAAuB;;EAC1C,MAAID,UAAJ,CAAeC,SAAf,EAA0B;EAAE,SAAKA,SAAL,GAAiBA,SAAjB;EAA4B;;EACxD,MAAIC,OAAJ,GAAc;EACZ,SAAKC,MAAL,GAAe,OAAO,KAAKA,MAAZ,KAAuB,SAAxB,GACV,KAAKA,MADK,GAEV,KAFJ;EAGA,WAAO,KAAKA,MAAZ;EACD;;EACD,MAAID,OAAJ,CAAYC,MAAZ,EAAoB;EAAE,SAAKA,MAAL,GAAcA,MAAd;EAAsB;;EAC5C,MAAIC,SAAJ,GAAgB;EACd,SAAKC,QAAL,GAAgB,KAAKA,QAAL,IAAiB,EAAjC;EACA,WAAO,KAAKA,QAAZ;EACD;;EACD,MAAIC,aAAJ,GAAoB;EAAE,WAAO,KAAKC,YAAZ;EAA0B;;EAChD,MAAID,aAAJ,CAAkBC,YAAlB,EAAgC;EAAE,SAAKA,YAAL,GAAoBA,YAApB;EAAkC;;EACpE,MAAIC,WAAJ,GAAkB;EAAE,WAAO,KAAKC,UAAL,IAAmB;EAC5CtK,MAAAA,MAAM,EAAE;EADoC,KAA1B;EAEjB;;EACH,MAAIqK,WAAJ,CAAgBC,UAAhB,EAA4B;EAC1B,SAAKA,UAAL,GAAkB/J,MAAM,CAACgK,MAAP,CAChB,KAAKF,WADW,EAEhBC,UAFgB,CAAlB;EAID;;EACD,MAAIE,QAAJ,GAAe;EACb,SAAKC,OAAL,GAAe,KAAKA,OAAL,IAAgB,EAA/B;EACA,WAAO,KAAKA,OAAZ;EACD;;EACD,MAAID,QAAJ,CAAarJ,IAAb,EAAmB;EACjB,QACEZ,MAAM,CAACC,IAAP,CAAYW,IAAZ,EAAkBnB,MADpB,EAEE;EACA,UAAG,KAAKqK,WAAL,CAAiBrK,MAApB,EAA4B;EAC1B,aAAKwK,QAAL,CAAcE,OAAd,CAAsB,KAAKC,KAAL,CAAWxJ,IAAX,CAAtB;;EACA,aAAKqJ,QAAL,CAAc3J,MAAd,CAAqB,KAAKwJ,WAAL,CAAiBrK,MAAtC;EACD;EACF;EACF;;EACD,MAAIiI,KAAJ,GAAY;EACV,SAAK9G,IAAL,GAAY,KAAKA,IAAL,IAAa,KAAKsI,gBAA9B;EACA,WAAO,KAAKtI,IAAZ;EACD;;EACD,MAAI8G,KAAJ,CAAU9G,IAAV,EAAgB;EAAE,SAAKA,IAAL,GAAYA,IAAZ;EAAkB;;EACpC,MAAIyJ,EAAJ,GAAS;EAAE,WAAO,KAAKC,GAAZ;EAAiB;;EAC5B,MAAIA,GAAJ,GAAU;EACR,QAAID,EAAE,GAAGR,YAAY,CAACU,OAAb,CAAqB,KAAKV,YAAL,CAAkBW,QAAvC,KAAoDC,IAAI,CAACC,SAAL,CAAe,KAAKxB,gBAApB,CAA7D;EACA,WAAOuB,IAAI,CAACL,KAAL,CAAWC,EAAX,CAAP;EACD;;EACD,MAAIC,GAAJ,CAAQD,EAAR,EAAY;EACVA,IAAAA,EAAE,GAAGI,IAAI,CAACC,SAAL,CAAeL,EAAf,CAAL;EACAR,IAAAA,YAAY,CAACc,OAAb,CAAqB,KAAKd,YAAL,CAAkBW,QAAvC,EAAiDH,EAAjD;EACD;;EACDlH,EAAAA,GAAG,GAAG;EACJ,YAAOpD,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,eAAOO,MAAM,CAACgK,MAAP,CACL,EADK,EAEL,KAAKtC,KAFA,CAAP;AAIA;EACF,WAAK,CAAL;EACE,YAAIvC,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,eAAO,KAAK2H,KAAL,CAAWvC,GAAX,CAAP;AACA,EAVJ;EAYD;;EACD/B,EAAAA,GAAG,GAAG;EACJ,SAAK6G,QAAL,GAAgB,KAAKG,KAAL,EAAhB;;EACA,YAAOrK,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,aAAK6J,UAAL,GAAkB,IAAlB;;EACA,YAAInJ,UAAU,GAAGH,MAAM,CAACS,OAAP,CAAeV,SAAS,CAAC,CAAD,CAAxB,CAAjB;;EACAI,QAAAA,UAAU,CAACO,OAAX,CAAmB,OAAewE,KAAf,KAAyB;EAAA,cAAxB,CAACC,GAAD,EAAM9B,KAAN,CAAwB;EAC1C,eAAKiG,UAAL,GAAmBpE,KAAK,KAAM/E,UAAU,CAACV,MAAX,GAAoB,CAAhC,GACd,KADc,GAEd,IAFJ,CAD0C;;EAK1C,eAAKmL,eAAL,CAAqBzF,GAArB,EAA0B9B,KAA1B;EACD,SAND;;EAOA;;EACF,WAAK,CAAL;EACE,YAAG,OAAOtD,SAAS,CAAC,CAAD,CAAhB,KAAwB,QAA3B,EAAqC;EACnC,cAAIoF,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,cAAIsD,KAAK,GAAGtD,SAAS,CAAC,CAAD,CAArB;EACA,eAAK6K,eAAL,CAAqBzF,GAArB,EAA0B9B,KAA1B;EACD,SAJD,MAIO;EACL,cAAIlD,UAAU,GAAGH,MAAM,CAACS,OAAP,CAAeV,SAAS,CAAC,CAAD,CAAxB,CAAjB;;EACA,cAAI0J,MAAM,GAAG1J,SAAS,CAAC,CAAD,CAAtB;;EACAI,UAAAA,UAAU,CAACO,OAAX,CAAmB,QAAewE,KAAf,KAAyB;EAAA,gBAAxB,CAACC,GAAD,EAAM9B,KAAN,CAAwB;EAC1C,iBAAKiG,UAAL,GAAmBpE,KAAK,KAAM/E,UAAU,CAACV,MAAX,GAAoB,CAAhC,GACd,KADc,GAEd,IAFJ,CAD0C;;EAK1C,iBAAK+J,OAAL,GAAeC,MAAf;EACA,iBAAKmB,eAAL,CAAqBzF,GAArB,EAA0B9B,KAA1B;EACA,iBAAKmG,OAAL,GAAe,KAAf;EACD,WARD;EASD;;EACD;;EACF,WAAK,CAAL;EACE,YAAIrE,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,YAAIsD,KAAK,GAAGtD,SAAS,CAAC,CAAD,CAArB;EACA,YAAI0J,MAAM,GAAG1J,SAAS,CAAC,CAAD,CAAtB;EACA,aAAKyJ,OAAL,GAAeC,MAAf;EACA,aAAKmB,eAAL,CAAqBzF,GAArB,EAA0B9B,KAA1B;EACA,aAAKmG,OAAL,GAAe,KAAf;EACA;EAtCJ;;EAwCA,WAAO,IAAP;EACD;;EACDqB,EAAAA,KAAK,GAAG;EACN,SAAKZ,QAAL,GAAgB,KAAKG,KAAL,EAAhB;;EACA,YAAOrK,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,aAAI,IAAI0F,IAAR,IAAenF,MAAM,CAACC,IAAP,CAAY,KAAKyH,KAAjB,CAAf,EAAwC;EACtC,eAAKoD,iBAAL,CAAuB3F,IAAvB;EACD;;EACD;;EACF,WAAK,CAAL;EACE,YAAIA,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,aAAK+K,iBAAL,CAAuB3F,GAAvB;EACA;EATJ;;EAWA,WAAO,IAAP;EACD;;EACD4F,EAAAA,KAAK,GAAG;EACN,QAAIV,EAAE,GAAG,KAAKC,GAAd;;EACA,YAAOvK,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,YAAIU,UAAU,GAAGH,MAAM,CAACS,OAAP,CAAeV,SAAS,CAAC,CAAD,CAAxB,CAAjB;;EACAI,QAAAA,UAAU,CAACO,OAAX,CAAmB,WAAkB;EAAA,cAAjB,CAACyE,GAAD,EAAM9B,KAAN,CAAiB;EACnCgH,UAAAA,EAAE,CAAClF,GAAD,CAAF,GAAU9B,KAAV;EACD,SAFD;;EAGA;;EACF,WAAK,CAAL;EACE,YAAI8B,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,YAAIsD,KAAK,GAAGtD,SAAS,CAAC,CAAD,CAArB;EACAsK,QAAAA,EAAE,CAAClF,GAAD,CAAF,GAAU9B,KAAV;EACA;EAXJ;;EAaA,SAAKiH,GAAL,GAAWD,EAAX;EACA,WAAO,IAAP;EACD;;EACDW,EAAAA,OAAO,GAAG;EACR,YAAOjL,SAAS,CAACN,MAAjB;EACE,WAAK,CAAL;EACE,eAAO,KAAK6K,GAAZ;EACA;;EACF,WAAK,CAAL;EACE,YAAID,EAAE,GAAG,KAAKC,GAAd;EACA,YAAInF,GAAG,GAAGpF,SAAS,CAAC,CAAD,CAAnB;EACA,eAAOsK,EAAE,CAAClF,GAAD,CAAT;EACA,aAAKmF,GAAL,GAAWD,EAAX;EACA;EATJ;;EAWA,WAAO,IAAP;EACD;;EACDO,EAAAA,eAAe,CAACzF,GAAD,EAAM9B,KAAN,EAAa;EAC1B,QAAG,CAAC,KAAKqE,KAAL,CAAW,IAAI7E,MAAJ,CAAWsC,GAAX,CAAX,CAAJ,EAAiC;EAC/B,UAAIR,OAAO,GAAG,IAAd;EACA3E,MAAAA,MAAM,CAAC+E,gBAAP,CACE,KAAK2C,KADP,EAEE;EACE,SAAC,IAAI7E,MAAJ,CAAWsC,GAAX,CAAD,GAAmB;EACjBG,UAAAA,YAAY,EAAE,IADG;;EAEjBnC,UAAAA,GAAG,GAAG;EAAE,mBAAO,KAAKgC,GAAL,CAAP;EAAkB,WAFT;;EAGjB/B,UAAAA,GAAG,CAACC,KAAD,EAAQ;EACT,iBAAK8B,GAAL,IAAY9B,KAAZ;EACAsB,YAAAA,OAAO,CAAC+E,SAAR,CAAkBvE,GAAlB,IAAyB9B,KAAzB;EACA,gBAAGsB,OAAO,CAACkF,YAAX,EAAyBlF,OAAO,CAACoG,KAAR,CAAc5F,GAAd,EAAmB9B,KAAnB;EACzB,gBAAI4H,iBAAiB,GAAG,CAAC,KAAD,EAAQ,GAAR,EAAa9F,GAAb,EAAkB+F,IAAlB,CAAuB,EAAvB,CAAxB;EACA,gBAAIC,YAAY,GAAG,KAAnB;;EACA,gBAAGxG,OAAO,CAAC8E,MAAR,KAAmB,IAAtB,EAA4B;EAC1B9E,cAAAA,OAAO,CAACzE,IAAR,CACE+K,iBADF,EAEE;EACEzL,gBAAAA,IAAI,EAAEyL,iBADR;EAEErK,gBAAAA,IAAI,EAAE;EACJuE,kBAAAA,GAAG,EAAEA,GADD;EAEJ9B,kBAAAA,KAAK,EAAEA;EAFH;EAFR,eAFF,EASEsB,OATF;EAWD;;EACD,gBAAG,CAACA,OAAO,CAAC2E,UAAZ,EAAwB;EACtB,kBAAG,CAACtJ,MAAM,CAACgF,MAAP,CAAcL,OAAO,CAAC+E,SAAtB,EAAiCjK,MAArC,EAA6C;EAC3C,oBAAGkF,OAAO,CAAC8E,MAAR,KAAmB,IAAtB,EAA4B;EAC1B9E,kBAAAA,OAAO,CAACzE,IAAR,CACEiL,YADF,EAEE;EACE3L,oBAAAA,IAAI,EAAE2L,YADR;EAEEvK,oBAAAA,IAAI,EAAEZ,MAAM,CAACgK,MAAP,CACJ,EADI,EAEJrF,OAAO,CAAC+C,KAFJ;EAFR,mBAFF,EASE/C,OATF;EAWD;EACA,eAdH,MAcS;EACP,oBAAGA,OAAO,CAAC8E,MAAR,KAAmB,IAAtB,EAA4B;EAC1B9E,kBAAAA,OAAO,CAACzE,IAAR,CACEiL,YADF,EAEE;EACE3L,oBAAAA,IAAI,EAAE2L,YADR;EAEEvK,oBAAAA,IAAI,EAAEZ,MAAM,CAACgK,MAAP,CACJ,EADI,EAEJrF,OAAO,CAAC+E,SAFJ,EAGJ/E,OAAO,CAAC+C,KAHJ;EAFR,mBAFF,EAUE/C,OAVF;EAYD;EACF;;EACD,qBAAOA,OAAO,CAACgF,QAAf;EACD;EACF;;EAvDgB;EADrB,OAFF;EA8DD;;EACD,SAAKjC,KAAL,CAAW,IAAI7E,MAAJ,CAAWsC,GAAX,CAAX,IAA8B9B,KAA9B;EACA,WAAO,IAAP;EACD;;EACDyH,EAAAA,iBAAiB,CAAC3F,GAAD,EAAM;EACrB,QAAIiG,mBAAmB,GAAG,CAAC,OAAD,EAAU,GAAV,EAAejG,GAAf,EAAoB+F,IAApB,CAAyB,EAAzB,CAA1B;EACA,QAAIG,cAAc,GAAG,OAArB;EACA,QAAIC,UAAU,GAAG,KAAK5D,KAAL,CAAWvC,GAAX,CAAjB;EACA,WAAO,KAAKuC,KAAL,CAAW,IAAI7E,MAAJ,CAAWsC,GAAX,CAAX,CAAP;EACA,WAAO,KAAKuC,KAAL,CAAWvC,GAAX,CAAP;EACA,SAAKjF,IAAL,CACEkL,mBADF,EAEE;EACE5L,MAAAA,IAAI,EAAE4L,mBADR;EAEExK,MAAAA,IAAI,EAAE;EACJuE,QAAAA,GAAG,EAAEA,GADD;EAEJ9B,QAAAA,KAAK,EAAEiI;EAFH;EAFR,KAFF,EASE,IATF;EAWA,SAAKpL,IAAL,CACEmL,cADF,EAEE;EACE7L,MAAAA,IAAI,EAAE6L,cADR;EAEEzK,MAAAA,IAAI,EAAE;EACJuE,QAAAA,GAAG,EAAEA,GADD;EAEJ9B,QAAAA,KAAK,EAAEiI;EAFH;EAFR,KAFF,EASE,IATF;EAWA,WAAO,IAAP;EACD;;EACDlB,EAAAA,KAAK,CAACxJ,IAAD,EAAO;EACVA,IAAAA,IAAI,GAAGA,IAAI,IAAI,KAAK8G,KAAb,IAAsB,KAAKwB,gBAAlC;EACA,WAAOuB,IAAI,CAACL,KAAL,CAAWK,IAAI,CAACC,SAAL,CAAe9J,IAAf,CAAX,CAAP;EACD;;EA5RsB;;ECCzB,MAAM2K,UAAN,SAAyBtJ,IAAzB,CAA8B;EAC5BhD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACD;;EACD,MAAImJ,gBAAJ,GAAuB;EAAE,WAAO,EAAP;EAAW;;EACpC,MAAIC,kBAAJ,GAAyB;EAAE,WAAO,KAAP;EAAc;;EACzC,MAAI3F,uBAAJ,GAA8B;EAAE,WAAO,CACrC,SADqC,CAAP;EAE7B;;EACH,MAAIZ,sBAAJ,GAA6B;EAAE,WAAO,CACpC,aADoC,EAEpC,OAFoC,EAGpC,UAHoC,CAAP;EAI5B;;EACH,MAAIwG,YAAJ,GAAmB;EACjB,SAAKC,WAAL,GAAmB,KAAKA,WAAL,IAAoB,KAAKF,kBAA5C;EACA,WAAO,KAAKE,WAAZ;EACD;;EACD,MAAID,YAAJ,CAAiBC,WAAjB,EAA8B;EAAE,SAAKA,WAAL,GAAmBA,WAAnB;EAAgC;;EAChE,MAAI9C,SAAJ,GAAgB;EAAE,WAAO,KAAKC,QAAZ;EAAsB;;EACxC,MAAID,SAAJ,CAAcC,QAAd,EAAwB;EACtB,SAAKA,QAAL,GAAgBA,QAAhB;EACA,SAAKpD,GAAL,CAASoD,QAAT;EACD;;EACD,MAAIgF,OAAJ,GAAc;EACZ,SAAKC,MAAL,GAAc,KAAKA,MAAL,IAAe,KAAKvC,gBAAlC;EACA,WAAO,KAAKuC,MAAZ;EACD;;EACD,MAAID,OAAJ,CAAYE,UAAZ,EAAwB;EAAE,SAAKD,MAAL,GAAcC,UAAd;EAA0B;;EACpD,MAAIC,MAAJ,GAAa;EAAE,WAAO,KAAKC,KAAZ;EAAmB;;EAClC,MAAID,MAAJ,CAAWC,KAAX,EAAkB;EAAE,SAAKA,KAAL,GAAaA,KAAb;EAAoB;;EACxC,MAAItC,UAAJ,GAAiB;EAAE,WAAO,KAAKC,SAAZ;EAAuB;;EAC1C,MAAID,UAAJ,CAAeC,SAAf,EAA0B;EAAE,SAAKA,SAAL,GAAiBA,SAAjB;EAA4B;;EACxD,MAAIK,aAAJ,GAAoB;EAAE,WAAO,KAAKC,YAAZ;EAA0B;;EAChD,MAAID,aAAJ,CAAkBC,YAAlB,EAAgC;EAAE,SAAKA,YAAL,GAAoBA,YAApB;EAAkC;;EACpE,MAAIjJ,IAAJ,GAAW;EAAE,WAAO,KAAK8G,KAAZ;EAAmB;;EAChC,MAAIA,KAAJ,GAAY;EACV,WAAO,KAAK8D,OAAL,CACJK,GADI,CACCD,KAAD,IAAWA,KAAK,CAACxB,KAAN,EADX,CAAP;EAED;;EACD,MAAIC,EAAJ,GAAS;EAAE,WAAO,KAAKC,GAAZ;EAAiB;;EAC5B,MAAIA,GAAJ,GAAU;EACR,QAAID,EAAE,GAAGR,YAAY,CAACU,OAAb,CAAqB,KAAKX,aAAL,CAAmBY,QAAxC,KAAqDC,IAAI,CAACC,SAAL,CAAe,KAAKxB,gBAApB,CAA9D;EACA,WAAOuB,IAAI,CAACL,KAAL,CAAWC,EAAX,CAAP;EACD;;EACD,MAAIC,GAAJ,CAAQD,EAAR,EAAY;EACVA,IAAAA,EAAE,GAAGI,IAAI,CAACC,SAAL,CAAeL,EAAf,CAAL;EACAR,IAAAA,YAAY,CAACc,OAAb,CAAqB,KAAKf,aAAL,CAAmBY,QAAxC,EAAkDH,EAAlD;EACD;;EACDyB,EAAAA,aAAa,CAACC,SAAD,EAAY;EACvB,QAAIC,UAAJ;;EACA,SAAKR,OAAL,CACGxE,IADH,CACQ,CAAC2E,MAAD,EAASM,WAAT,KAAyB;EAC7B,UAAGN,MAAM,KAAK,IAAd,EAAoB;EAClB,YACEA,MAAM,YAAY1C,KAAlB,IACA0C,MAAM,CAACnJ,KAAP,KAAiBuJ,SAFnB,EAGE;EACAC,UAAAA,UAAU,GAAGC,WAAb;EACA,iBAAON,MAAP;EACD;EACF;EACF,KAXH;;EAYA,WAAOK,UAAP;EACD;;EACDE,EAAAA,kBAAkB,CAACF,UAAD,EAAa;EAC7B,QAAIJ,KAAK,GAAG,KAAKJ,OAAL,CAAalL,MAAb,CAAoB0L,UAApB,EAAgC,CAAhC,EAAmC,IAAnC,CAAZ;;EACA,SAAK9L,IAAL,CACE,QADF,EACY;EACRV,MAAAA,IAAI,EAAE;EADE,KADZ,EAIEoM,KAAK,CAAC,CAAD,CAJP,EAKE,IALF;EAOA,WAAO,IAAP;EACD;;EACDO,EAAAA,QAAQ,CAACC,SAAD,EAAY;EAClB,QAAIR,KAAJ;;EACA,QAAGQ,SAAS,YAAYnD,KAAxB,EAA+B;EAC7B2C,MAAAA,KAAK,GAAGQ,SAAR;EACAR,MAAAA,KAAK,CAAChN,EAAN,CACE,KADF,EAEE,CAACyN,KAAD,EAAQV,MAAR,KAAmB;EACjB,aAAKzL,IAAL,CACE,QADF,EAEE;EACEV,UAAAA,IAAI,EAAE;EADR,SAFF,EAKE,IALF;EAOD,OAVH;;EAYA,WAAKgM,OAAL,CAAa1L,IAAb,CAAkB8L,KAAlB;EACD;;EACD,SAAK1L,IAAL,CACE,KADF,EAEE;EACEV,MAAAA,IAAI,EAAE;EADR,KAFF,EAKEoM,KALF,EAME,IANF;EAQA,WAAO,IAAP;EACD;;EACDU,EAAAA,GAAG,CAACF,SAAD,EAAY;EACb,SAAK9C,UAAL,GAAkB,IAAlB;;EACA,QAAGlJ,KAAK,CAACmM,OAAN,CAAcH,SAAd,CAAH,EAA6B;EAC3BA,MAAAA,SAAS,CACN1L,OADH,CACY8L,UAAD,IAAgB;EACvB,aAAKL,QAAL,CAAcK,UAAd;EACD,OAHH;EAID,KALD,MAKO;EACL,WAAKL,QAAL,CAAcC,SAAd;EACD;;EACD,QAAG,KAAKxC,aAAR,EAAuB,KAAKU,GAAL,GAAW,KAAK5C,KAAhB;EACvB,SAAK4B,UAAL,GAAkB,KAAlB;EACA,SAAKpJ,IAAL,CACE,QADF,EACY;EACRV,MAAAA,IAAI,EAAE,QADE;EAERoB,MAAAA,IAAI,EAAE,KAAK8G;EAFH,KADZ,EAKE,IALF;EAOA,WAAO,IAAP;EACD;;EACD+E,EAAAA,MAAM,CAACL,SAAD,EAAY;EAChB,SAAK9C,UAAL,GAAkB,IAAlB;;EACA,QACE,CAAClJ,KAAK,CAACmM,OAAN,CAAcH,SAAd,CADH,EAEE;EACA,UAAIJ,UAAU,GAAG,KAAKF,aAAL,CAAmBM,SAAS,CAAC5J,KAA7B,CAAjB;EACA,WAAK0J,kBAAL,CAAwBF,UAAxB;EACD,KALD,MAKO,IAAG5L,KAAK,CAACmM,OAAN,CAAcH,SAAd,CAAH,EAA6B;EAClCA,MAAAA,SAAS,CACN1L,OADH,CACYkL,KAAD,IAAW;EAClB,YAAII,UAAU,GAAG,KAAKF,aAAL,CAAmBF,KAAK,CAACpJ,KAAzB,CAAjB;EACA,aAAK0J,kBAAL,CAAwBF,UAAxB;EACD,OAJH;EAKD;;EACD,SAAKR,OAAL,GAAe,KAAKA,OAAL,CACZkB,MADY,CACJd,KAAD,IAAWA,KAAK,KAAK,IADhB,CAAf;EAEA,QAAG,KAAKhC,aAAR,EAAuB,KAAKU,GAAL,GAAW,KAAK5C,KAAhB;EAEvB,SAAK4B,UAAL,GAAkB,KAAlB;EAEA,SAAKpJ,IAAL,CACE,QADF,EACY;EACRV,MAAAA,IAAI,EAAE,QADE;EAERoB,MAAAA,IAAI,EAAE,KAAK8G;EAFH,KADZ,EAKE,IALF;EAOA,WAAO,IAAP;EACD;;EACDiF,EAAAA,KAAK,GAAG;EACN,SAAKF,MAAL,CAAY,KAAKjB,OAAjB;EACA,WAAO,IAAP;EACD;;EACDpB,EAAAA,KAAK,CAACxJ,IAAD,EAAO;EACVA,IAAAA,IAAI,GAAGA,IAAI,IAAI,KAAK8G,KAAb,IAAsB,KAAKwB,gBAAlC;EACA,WAAOuB,IAAI,CAACL,KAAL,CAAWK,IAAI,CAACC,SAAL,CAAe9J,IAAf,CAAX,CAAP;EACD;;EAjK2B;;ECD9B,MAAMgM,IAAN,SAAmB3K,IAAnB,CAAwB;EACtBhD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACD;;EACD,MAAIyD,uBAAJ,GAA8B;EAAE,WAAO,CACrC,WADqC,CAAP;EAE7B;;EACH,MAAIZ,sBAAJ,GAA6B;EAAE,WAAO,CACpC,aADoC,EAEpC,SAFoC,EAGpC,YAHoC,EAIpC,WAJoC,EAKpC,QALoC,CAAP;EAM5B;;EACH,MAAIiK,YAAJ,GAAmB;EAAE,WAAO,KAAKC,QAAL,CAAcC,OAArB;EAA8B;;EACnD,MAAIF,YAAJ,CAAiBG,WAAjB,EAA8B;EAC5B,QAAG,CAAC,KAAKF,QAAT,EAAmB,KAAKA,QAAL,GAAgBG,QAAQ,CAACC,aAAT,CAAuBF,WAAvB,CAAhB;EACpB;;EACD,MAAIF,QAAJ,GAAe;EAAE,WAAO,KAAK1H,OAAZ;EAAqB;;EACtC,MAAI0H,QAAJ,CAAa1H,OAAb,EAAsB;EACpB,SAAKA,OAAL,GAAeA,OAAf;EACA,SAAK+H,eAAL,CAAqBC,OAArB,CAA6B,KAAKhI,OAAlC,EAA2C;EACzCiI,MAAAA,OAAO,EAAE,IADgC;EAEzCC,MAAAA,SAAS,EAAE;EAF8B,KAA3C;EAID;;EACD,MAAIC,WAAJ,GAAkB;EAChB,SAAKC,UAAL,GAAkB,KAAKpI,OAAL,CAAaoI,UAA/B;EACA,WAAO,KAAKA,UAAZ;EACD;;EACD,MAAID,WAAJ,CAAgBC,UAAhB,EAA4B;EAC1B,SAAI,IAAI,CAACC,YAAD,EAAeC,cAAf,CAAR,IAA0C1N,MAAM,CAACS,OAAP,CAAe+M,UAAf,CAA1C,EAAsE;EACpE,UAAG,OAAOE,cAAP,KAA0B,WAA7B,EAA0C;EACxC,aAAKZ,QAAL,CAAca,eAAd,CAA8BF,YAA9B;EACD,OAFD,MAEO;EACL,aAAKX,QAAL,CAAcc,YAAd,CAA2BH,YAA3B,EAAyCC,cAAzC;EACD;EACF;EACF;;EACD,MAAIP,eAAJ,GAAsB;EACpB,SAAKU,gBAAL,GAAwB,KAAKA,gBAAL,IAAyB,IAAIC,gBAAJ,CAC/C,KAAKC,cAAL,CAAoB9H,IAApB,CAAyB,IAAzB,CAD+C,CAAjD;EAGA,WAAO,KAAK4H,gBAAZ;EACD;;EACD,MAAIG,OAAJ,GAAc;EACZ,SAAKC,MAAL,GAAc,KAAKA,MAAL,IAAe,IAA7B;EACA,WAAO,KAAKA,MAAZ;EACD;;EACD,MAAID,OAAJ,CAAYC,MAAZ,EAAoB;EAAE,SAAKA,MAAL,GAAcA,MAAd;EAAsB;;EAC5C,MAAIC,UAAJ,GAAiB;EACf,SAAKC,SAAL,GAAiB,KAAKA,SAAL,IAAkB,EAAnC;EACA,WAAO,KAAKA,SAAZ;EACD;;EACD,MAAID,UAAJ,CAAeC,SAAf,EAA0B;EAAE,SAAKA,SAAL,GAAiBA,SAAjB;EAA4B;;EACxDJ,EAAAA,cAAc,CAACK,kBAAD,EAAqBC,QAArB,EAA+B;EAC3C,SAAI,IAAI,CAACC,mBAAD,EAAsBC,cAAtB,CAAR,IAAiDvO,MAAM,CAACS,OAAP,CAAe2N,kBAAf,CAAjD,EAAqF;EACnF,cAAOG,cAAc,CAACpH,IAAtB;EACE,aAAK,WAAL;AACE,EACA,eAAK5B,8BAAL,CAAoC,WAApC;;EACA,cAAGgJ,cAAc,CAACC,UAAf,CAA0B/O,MAA1B,IAAoC,KAAK+O,UAA5C,EAAwD;EACtD,iBAAKA,UAAL;EACD;;EACD,cAAGD,cAAc,CAACE,YAAf,CAA4BhP,MAA5B,IAAsC,KAAKgP,YAA9C,EAA4D;EAC1D,iBAAKA,YAAL;EACD;;EACD;EAVJ;EAYD;EACF;;EACDC,EAAAA,UAAU,GAAG;EACX,QAAIT,MAAM,GAAG,KAAKA,MAAlB;EACAA,IAAAA,MAAM,CAACU,MAAP,CAAcC,qBAAd,CACEX,MAAM,CAACxI,MADT,EAEE,KAAKqH,QAFP;EAIA,WAAO,IAAP;EACD;;EACD+B,EAAAA,UAAU,GAAG;EACX,QACE,KAAKzJ,OAAL,IACA,KAAKA,OAAL,CAAa0J,aAFf,EAGE,KAAK1J,OAAL,CAAa0J,aAAb,CAA2BC,WAA3B,CAAuC,KAAK3J,OAA5C;EACF,WAAO,IAAP;EACD;;EArFqB;;ECAxB,IAAM4J,UAAU,GAAG,cAAc/M,IAAd,CAAmB;EACpChD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACD;;EACD,MAAIyD,uBAAJ,GAA8B;EAAE,WAAO,CACrC,OADqC,EAErC,YAFqC,EAGrC,MAHqC,EAIrC,YAJqC,EAKrC,QALqC,CAAP;EAM7B;;EACH,MAAIZ,sBAAJ,GAA6B;EAAE,WAAO,EAAP;EAAW;;EAXN,CAAtC;;ECAA,IAAMqM,MAAM,GAAG,cAAchN,IAAd,CAAmB;EAChChD,EAAAA,WAAW,GAAG;EACZ,UAAM,GAAGc,SAAT;EACA,SAAKmP,eAAL;EACD;;EACD,MAAItM,sBAAJ,GAA6B;EAAE,WAAO,CACpC,MADoC,EAEpC,aAFoC,EAGpC,YAHoC,EAIpC,QAJoC,CAAP;EAK5B;;EACH,MAAIuM,QAAJ,GAAe;EAAE,WAAOC,MAAM,CAACC,QAAP,CAAgBF,QAAvB;EAAiC;;EAClD,MAAIG,QAAJ,GAAe;EAAE,WAAOF,MAAM,CAACC,QAAP,CAAgBC,QAAvB;EAAiC;;EAClD,MAAIC,IAAJ,GAAW;EAAE,WAAOH,MAAM,CAACC,QAAP,CAAgBE,IAAvB;EAA6B;;EAC1C,MAAIC,QAAJ,GAAe;EAAE,WAAOJ,MAAM,CAACC,QAAP,CAAgBG,QAAvB;EAAiC;;EAClD,MAAIC,IAAJ,GAAW;EACT,QAAIC,MAAM,GAAGN,MAAM,CAACC,QAAP,CAAgBG,QAAhB,CACV1L,OADU,CACF,IAAI6L,MAAJ,CAAW,CAAC,GAAD,EAAM,KAAKC,IAAX,EAAiB1E,IAAjB,CAAsB,EAAtB,CAAX,CADE,EACqC,EADrC,EAEVtF,KAFU,CAEJ,GAFI,EAGVzE,KAHU,CAGJ,CAHI,EAGD,CAHC,EAIV,CAJU,CAAb;EAKA,QAAI0O,SAAS,GACXH,MAAM,CAACjQ,MAAP,KAAkB,CADJ,GAEZ,EAFY,GAIViQ,MAAM,CAACjQ,MAAP,KAAkB,CAAlB,IACAiQ,MAAM,CAACI,KAAP,CAAa,KAAb,CADA,IAEAJ,MAAM,CAACI,KAAP,CAAa,KAAb,CAHF,GAII,CAAC,GAAD,CAJJ,GAKIJ,MAAM,CACH5L,OADH,CACW,KADX,EACkB,EADlB,EAEGA,OAFH,CAEW,KAFX,EAEkB,EAFlB,EAGG8B,KAHH,CAGS,GAHT,CARR;EAYA,WAAO;EACLiK,MAAAA,SAAS,EAAEA,SADN;EAELH,MAAAA,MAAM,EAAEA;EAFH,KAAP;EAID;;EACD,MAAIK,IAAJ,GAAW;EACT,QAAIL,MAAM,GAAGN,MAAM,CAACC,QAAP,CAAgBU,IAAhB,CACV5O,KADU,CACJ,CADI,EAEVyE,KAFU,CAEJ,GAFI,EAGVzE,KAHU,CAGJ,CAHI,EAGD,CAHC,EAIV,CAJU,CAAb;EAKA,QAAI0O,SAAS,GACXH,MAAM,CAACjQ,MAAP,KAAkB,CADJ,GAEZ,EAFY,GAIViQ,MAAM,CAACjQ,MAAP,KAAkB,CAAlB,IACAiQ,MAAM,CAACI,KAAP,CAAa,KAAb,CADA,IAEAJ,MAAM,CAACI,KAAP,CAAa,KAAb,CAHF,GAII,CAAC,GAAD,CAJJ,GAKIJ,MAAM,CACH5L,OADH,CACW,KADX,EACkB,EADlB,EAEGA,OAFH,CAEW,KAFX,EAEkB,EAFlB,EAGG8B,KAHH,CAGS,GAHT,CARR;EAYA,WAAO;EACLiK,MAAAA,SAAS,EAAEA,SADN;EAELH,MAAAA,MAAM,EAAEA;EAFH,KAAP;EAID;;EACD,MAAIrI,UAAJ,GAAiB;EACf,QAAIqI,MAAJ;EACA,QAAI9O,IAAJ;;EACA,QAAGwO,MAAM,CAACC,QAAP,CAAgBW,IAAhB,CAAqBF,KAArB,CAA2B,IAA3B,CAAH,EAAqC;EACnC,UAAIzI,UAAU,GAAG+H,MAAM,CAACC,QAAP,CAAgBW,IAAhB,CACdpK,KADc,CACR,GADQ,EAEdzE,KAFc,CAER,CAAC,CAFO,EAGd+J,IAHc,CAGT,EAHS,CAAjB;EAIAwE,MAAAA,MAAM,GAAGrI,UAAT;EACAzG,MAAAA,IAAI,GAAGyG,UAAU,CACdzB,KADI,CACE,GADF,EAEJnC,MAFI,CAEG,CACN2D,WADM,EAEN6I,SAFM,KAGH;EACH,YAAIC,aAAa,GAAGD,SAAS,CAACrK,KAAV,CAAgB,GAAhB,CAApB;EACAwB,QAAAA,WAAW,CAAC8I,aAAa,CAAC,CAAD,CAAd,CAAX,GAAgCA,aAAa,CAAC,CAAD,CAA7C;EACA,eAAO9I,WAAP;EACD,OATI,EASF,EATE,CAAP;EAUD,KAhBD,MAgBO;EACLsI,MAAAA,MAAM,GAAG,EAAT;EACA9O,MAAAA,IAAI,GAAG,EAAP;EACD;;EACD,WAAO;EACL8O,MAAAA,MAAM,EAAEA,MADH;EAEL9O,MAAAA,IAAI,EAAEA;EAFD,KAAP;EAID;;EACD,MAAIuP,KAAJ,GAAY;EAAE,WAAO,KAAKP,IAAL,IAAa,GAApB;EAAyB;;EACvC,MAAIO,KAAJ,CAAUP,IAAV,EAAgB;EAAE,SAAKA,IAAL,GAAYA,IAAZ;EAAkB;;EACpC,MAAIQ,YAAJ,GAAmB;EAAE,WAAO,KAAKC,WAAL,IAAoB,KAA3B;EAAkC;;EACvD,MAAID,YAAJ,CAAiBC,WAAjB,EAA8B;EAAE,SAAKA,WAAL,GAAmBA,WAAnB;EAAgC;;EAChE,MAAIC,OAAJ,GAAc;EAAE,WAAO,KAAKC,MAAZ;EAAoB;;EACpC,MAAID,OAAJ,CAAYC,MAAZ,EAAoB;EAAE,SAAKA,MAAL,GAAcA,MAAd;EAAsB;;EAC5C,MAAIC,WAAJ,GAAkB;EAAE,WAAO,KAAKC,UAAZ;EAAwB;;EAC5C,MAAID,WAAJ,CAAgBC,UAAhB,EAA4B;EAAE,SAAKA,UAAL,GAAkBA,UAAlB;EAA8B;;EAC5D,MAAIpB,QAAJ,GAAe;EACb,WAAO;EACLO,MAAAA,IAAI,EAAE,KAAKA,IADN;EAELH,MAAAA,IAAI,EAAE,KAAKA,IAFN;EAGLM,MAAAA,IAAI,EAAE,KAAKA,IAHN;EAIL1I,MAAAA,UAAU,EAAE,KAAKA;EAJZ,KAAP;EAMD;;EACDqJ,EAAAA,UAAU,CAACC,cAAD,EAAiBC,iBAAjB,EAAoC;EAC5C,QAAIC,YAAY,GAAG,IAAIzQ,KAAJ,EAAnB;;EACA,QAAGuQ,cAAc,CAAClR,MAAf,KAA0BmR,iBAAiB,CAACnR,MAA/C,EAAuD;EACrDoR,MAAAA,YAAY,GAAGF,cAAc,CAC1BlN,MADY,CACL,CAACqN,aAAD,EAAgBC,aAAhB,EAA+BC,kBAA/B,KAAsD;EAC5D,YAAIC,gBAAgB,GAAGL,iBAAiB,CAACI,kBAAD,CAAxC;;EACA,YAAGD,aAAa,CAACjB,KAAd,CAAoB,KAApB,CAAH,EAA+B;EAC7BgB,UAAAA,aAAa,CAAChR,IAAd,CAAmB,IAAnB;EACD,SAFD,MAEO,IAAGiR,aAAa,KAAKE,gBAArB,EAAuC;EAC5CH,UAAAA,aAAa,CAAChR,IAAd,CAAmB,IAAnB;EACD,SAFM,MAEA;EACLgR,UAAAA,aAAa,CAAChR,IAAd,CAAmB,KAAnB;EACD;;EACD,eAAOgR,aAAP;EACD,OAXY,EAWV,EAXU,CAAf;EAYD,KAbD,MAaO;EACLD,MAAAA,YAAY,CAAC/Q,IAAb,CAAkB,KAAlB;EACD;;EACD,WAAQ+Q,YAAY,CAAC5N,OAAb,CAAqB,KAArB,MAAgC,CAAC,CAAlC,GACH,IADG,GAEH,KAFJ;EAGD;;EACDiO,EAAAA,QAAQ,CAAC7B,QAAD,EAAW;EACjB,QAAIkB,MAAM,GAAGvQ,MAAM,CAACS,OAAP,CAAe,KAAK8P,MAApB,EACV9M,MADU,CACH,CACN6M,OADM,WAEyB;EAAA,UAA/B,CAACa,SAAD,EAAYC,aAAZ,CAA+B;EAC7B,UAAIT,cAAc,GAChBQ,SAAS,CAAC1R,MAAV,KAAqB,CAArB,IACA0R,SAAS,CAACrB,KAAV,CAAgB,KAAhB,CAFmB,GAGjB,CAACqB,SAAD,CAHiB,GAIhBA,SAAS,CAAC1R,MAAV,KAAqB,CAAtB,GACE,CAAC,EAAD,CADF,GAEE0R,SAAS,CACNrN,OADH,CACW,KADX,EACkB,EADlB,EAEGA,OAFH,CAEW,KAFX,EAEkB,EAFlB,EAGG8B,KAHH,CAGS,GAHT,CANN;EAUAwL,MAAAA,aAAa,CAACvB,SAAd,GAA0Bc,cAA1B;EACAL,MAAAA,OAAO,CAACK,cAAc,CAACzF,IAAf,CAAoB,GAApB,CAAD,CAAP,GAAoCkG,aAApC;EACA,aAAOd,OAAP;EACD,KAjBQ,EAkBT,EAlBS,CAAb;EAoBA,WAAOtQ,MAAM,CAACgF,MAAP,CAAcuL,MAAd,EACJvJ,IADI,CACEqK,KAAD,IAAW;EACf,UAAIV,cAAc,GAAGU,KAAK,CAACxB,SAA3B;EACA,UAAIe,iBAAiB,GAAI,KAAKP,WAAN,GACpBhB,QAAQ,CAACU,IAAT,CAAcF,SADM,GAEpBR,QAAQ,CAACI,IAAT,CAAcI,SAFlB;EAGA,UAAIa,UAAU,GAAG,KAAKA,UAAL,CACfC,cADe,EAEfC,iBAFe,CAAjB;EAIA,aAAOF,UAAU,KAAK,IAAtB;EACD,KAXI,CAAP;EAYD;;EACDY,EAAAA,QAAQ,CAACjF,KAAD,EAAQ;EACd,QAAIgD,QAAQ,GAAG,KAAKA,QAApB;EACA,QAAIgC,KAAK,GAAG,KAAKH,QAAL,CAAc7B,QAAd,CAAZ;EACA,QAAIkC,SAAS,GAAG;EACdF,MAAAA,KAAK,EAAEA,KADO;EAEdhC,MAAAA,QAAQ,EAAEA;EAFI,KAAhB;;EAIA,QAAGgC,KAAH,EAAU;EACR,WAAKZ,UAAL,CAAgBY,KAAK,CAACG,QAAtB,EAAgCD,SAAhC;EACA,WAAKrR,IAAL,CAAU,QAAV,EAAoB;EAClBV,QAAAA,IAAI,EAAE,QADY;EAElBoB,QAAAA,IAAI,EAAE2Q;EAFY,OAApB,EAIA,IAJA;EAKD;EACF;;EACDrC,EAAAA,eAAe,GAAG;EAChBE,IAAAA,MAAM,CAACxQ,EAAP,CAAU,UAAV,EAAsB,KAAK0S,QAAL,CAAcrL,IAAd,CAAmB,IAAnB,CAAtB;EACD;;EACDwL,EAAAA,kBAAkB,GAAG;EACnBrC,IAAAA,MAAM,CAACtQ,GAAP,CAAW,UAAX,EAAuB,KAAKwS,QAAL,CAAcrL,IAAd,CAAmB,IAAnB,CAAvB;EACD;;EACDyL,EAAAA,QAAQ,CAACjC,IAAD,EAAO;EACbL,IAAAA,MAAM,CAACC,QAAP,CAAgBW,IAAhB,GAAuBP,IAAvB;EACD;;EAzL+B,CAAlC;;ECQA,IAAMhN,KAAG,GAAG;EACVzD,EAAAA,MADU;EAEV2S,EAAAA,QAFU;EAGVjP,EAAAA,KAHU;EAIV4D,EAAAA,OAJU;EAKV2C,EAAAA,KALU;EAMVsC,EAAAA,UANU;EAOVqB,EAAAA,IAPU;EAQVoC,EAAAA,UARU;EASVC,EAAAA;EATU,CAAZ;;;;;;;;"}
{"version":3,"sources":["MVC.js","Constants.js","Events.js","Templates.js","Utils.js","is.js","typeOf.js","addPropertiesToObject.js","objectQuery.js","toggleEventsForTargetObjects.js","validateDataSchema.js","Channels.js","Channel.js","Base.js","Observer.js","Service.js","Model.js","Emitter.js","View.js","Controller.js","Router.js"],"names":["MVC","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","Object","toString","call","from","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","Constants","CONST","Events","EV","Templates","ObjectQueryStringFormatInvalidRoot","data","join","DataSchemaMismatch","DataFunctionInvalid","DataUndefined","SchemaUndefined","TMPL","Utils","object","isObject","isEqualType","valueA","valueB","typeOf","addPropertiesToTargetObject","targetObject","arguments","properties","_Object$entries","entries","_Object$entries$_i","_propertyName","_propertyValue","propertyName","propertyValue","objectQuery","string","context","stringData","parseStringData","test","slice","parseContext","reduce","fragment","fragmentIndex","fragments","_properties","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_step$value","propertyKey","concat","split","map","operator","splice","RegExp","toggleEventsForTargetObjects","toggleMethod","events","targetObjects","callbacks","eventSettings","eventCallbackName","eventData","eventTargetSettings","eventName","eventTargets","eventTarget","eventMethodName","NodeList","HTMLElement","eventCallback","console","log","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","bindEventsToTargetObjects","this","apply","unbindEventsFromTargetObjects","validateDataSchema","schema","array","name","arrayValue","_i2","_Object$entries2","_Object$entries2$_i","objectKey","objectValue","_class","_events","eventCallbacks","eventCallbackGroup","additionalArguments","values","get","Channels","channelName","_channels","Channel","channels","_response","response","_x","_x2","responseName","responseCallback","_responses","requestData","_Object$keys","keys","_responseName","responses","Base","_MVC$Events","settings","options","configuration","_this","_configuration","_options","_settings","set","Observer","_MVC$Base","addSettings","_observer","observe","_context","_target","mutations","_mutations","mutationRecordList","observer","_this2","_loop","mutationRecord","type","_mutationRecordCatego","mutationRecordCategory","_loop2","_i3","node","mutation","filter","_mutation","callback","attributeName","MutationObserver","observerCallback","bind","_i4","_Object$entries3","_Object$entries3$_i","mutationSettings","mutationCallback","mutationData","mutationTarget","ui","mutationEventName","mutationEventData","match","observerCallbacks","replace","window","Service","_type","url","_url","_data","headers","_headers","_defaults","contentType","responseType","_responseType","Promise","resolve","reject","_xhr","status","abort","open","onload","onerror","send","defaults","Content-Type","_responseTypes","find","responseTypeItem","header","setRequestHeader","xhr","XMLHttpRequest","Model","histiogram","_histiogram","dataCallbacks","_dataCallbacks","dataEvents","_dataEvents","_schema","property","_history","parse","_key","_value","assign","setDataProperty","silent","_key2","unsetDataProperty","defineProperties","setValueEventName","emit","unsetValueEventName","unsetValue","JSON","stringify","history","unshift","Emitter","_MVC$Model","_name","View","elementName","_elementName","element","_element","attributes","_attributes","_ui","uiCallbacks","_uiCallbacks","_observerCallbacks","uiEmitters","_uiEmitters","uiEvents","_uiEvents","observers","_observers","templates","_templates","insert","_insert","parentElement","removeChild","tagName","document","createElement","querySelector","attributeKey","attributeValue","removeAttribute","setAttribute","uiKey","uiSelector","querySelectorAll","observerConfiguration","observerConfigurationData","observerName","observerTarget","observerOptions","accumulator","currentValue","remove","insertMethod","method","insertAdjacentElement","_Object$entries4","_Object$entries4$_i","templateName","templateSettings","Controller","emitters","_emitters","modelCallbacks","_modelCallbacks","viewCallbacks","_viewCallbacks","controllerCallbacks","_controllerCallbacks","routerCallbacks","_routerCallbacks","models","_models","views","_views","controllers","_controllers","routers","_routers","modelEvents","_modelEvents","viewEvents","_viewEvents","controllerEvents","_controllerEvents","Router","setRoutes","routes","setEvents","start","initialize","getRoute","navigate","dispatchEvent","Event","route","addEventListener","hashChange","String","location","hash","pop","event","error","path"],"mappings":"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","sourcesContent":["var MVC = MVC || {}\r\n","MVC.Constants = {}\nMVC.CONST = MVC.Constants\n","MVC.Events = class {\r\n  constructor() {}\r\n  get _events() {\r\n    this.events = (this.events)\r\n      ? this.events\r\n      : {}\r\n    return this.events\r\n  }\r\n  eventCallbacks(eventName) { return this._events[eventName] || {} }\r\n  eventCallbackName(eventCallback) {\r\n    return (eventCallback.name.length)\r\n      ? eventCallback.name\r\n      : 'anonymousFunction'\r\n  }\r\n  eventCallbackGroup(eventCallbacks, eventCallbackName) {\r\n    return eventCallbacks[eventCallbackName] || []\r\n  }\r\n  on(eventName, eventCallback) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    let eventCallbackName = this.eventCallbackName(eventCallback)\r\n    let eventCallbackGroup = this.eventCallbackGroup(eventCallbacks, eventCallbackName)\r\n    eventCallbackGroup.push(eventCallback)\r\n    eventCallbacks[eventCallbackName] = eventCallbackGroup\r\n    this._events[eventName] = eventCallbacks\r\n  }\r\n  off() {\r\n    switch(arguments.length) {\r\n      case 1:\r\n        var eventName = arguments[0]\r\n        delete this._events[eventName]\r\n        break\r\n      case 2:\r\n        var eventName = arguments[0]\r\n        var eventCallback = arguments[1]\r\n        var eventCallbackName = this.eventCallbackName(eventCallback)\r\n        delete this._events[eventName][eventCallbackName]\r\n        break\r\n    }\r\n  }\r\n  emit(eventName, eventData) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    for(let [eventCallbackGroupName, eventCallbackGroup] of Object.entries(eventCallbacks)) {\r\n      for(let eventCallback of eventCallbackGroup) {\r\n        let additionalArguments = Object.values(arguments).splice(2)\r\n        eventCallback(eventData, ...additionalArguments)\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Templates = {\r\n  ObjectQueryStringFormatInvalidRoot: function ObjectQueryStringFormatInvalid(data) {\r\n    return [\r\n      'Object Query \"string\" property must be formatted to first include \"[@]\".'\r\n    ].join('\\n')\r\n  },\r\n  DataSchemaMismatch: function DataSchemaMismatch(data) {\r\n    return [\r\n      `Data and Schema properties do not match.`\r\n    ].join('\\n')\r\n  },\r\n  DataFunctionInvalid: function DataFunctionInvalid(data) {\r\n    [\r\n      `Model Data property type \"Function\" is not valid.`\r\n    ].join('\\n')\r\n  },\r\n  DataUndefined: function DataUndefined(data) {\r\n    [\r\n      `Model Data property undefined.`\r\n    ].join('\\n')\r\n  },\r\n  SchemaUndefined: function SchemaUndefined(data) {\r\n    [\r\n      `Model \"Schema\" undefined.`\r\n    ].join('\\n')\r\n  },\r\n}\r\nMVC.TMPL = MVC.Templates\r\n","MVC.Utils = {}\r\n","MVC.Utils.isArray = function isArray(object) { return Array.isArray(object) }\r\nMVC.Utils.isObject = function isObject(object) {\r\n  return (!Array.isArray(object))\r\n    ? typeof object === 'object'\r\n    : false\r\n}\r\nMVC.Utils.isEqualType = function isEqualType(valueA, valueB) { return valueA === valueB }\r\n","MVC.Utils.typeOf =  function typeOf(data) {\r\n  switch(typeof data) {\r\n    case 'object':\r\n      let _object\r\n      if(MVC.Utils.isArray(data)) {\r\n        // Array\r\n        return 'array'\r\n      } else if(\r\n        MVC.Utils.isObject(data)\r\n      ) {\r\n        // Object\r\n        return 'object'\r\n      } else if(\r\n        data === null\r\n      ) {\r\n        // Null\r\n        return 'null'\r\n      }\r\n      return _object\r\n      break\r\n    case 'string':\r\n    case 'number':\r\n    case 'boolean':\r\n    case 'undefined':\r\n    case 'function':\r\n      return typeof data\r\n      break\r\n  }\r\n}\r\n","MVC.Utils.addPropertiesToTargetObject = function addPropertiesToTargetObject() {\r\n  let targetObject\r\n  switch(arguments.length) {\r\n    case 2:\r\n      let properties = arguments[0]\r\n      targetObject = arguments[1]\r\n      for(let [propertyName, propertyValue] of Object.entries(properties)) {\r\n        targetObject[propertyName] = propertyValue\r\n      }\r\n      break\r\n    case 3:\r\n      let propertyName = arguments[0]\r\n      let propertyValue = arguments[1]\r\n      targetObject = arguments[2]\r\n      targetObject[propertyName] = propertyValue\r\n      break\r\n  }\r\n  return targetObject\r\n}\r\n","MVC.Utils.objectQuery = function objectQuery(\r\n  string,\r\n  context\r\n) {\r\n  let stringData = MVC.Utils.objectQuery.parseStringData(string, context)\r\n  if(stringData[0].test('@')) {\r\n    if(stringData.length === 1) {\r\n      return [\r\n        ['@', context]\r\n      ]\r\n    } else {\r\n      stringData = stringData.slice(1)\r\n      let _context = MVC.Utils.objectQuery.parseContext(stringData, context)\r\n      return _context\r\n    }\r\n  } else {\r\n    throw MVC.TMPL.ObjectQueryStringFormatInvalidRoot()\r\n  }\r\n}\r\nMVC.Utils.objectQuery.parseContext = function(stringData, context) {\r\n  context = (MVC.Utils.isObject(context))\r\n    ? Object.entries(context)\r\n    : context\r\n  return stringData.reduce((properties, fragment, fragmentIndex, fragments) => {\r\n    let _properties = []\r\n    for(let [propertyKey, propertyValue] of properties) {\r\n      if(fragment.test(propertyKey)) {\r\n        if(fragmentIndex === fragments.length - 1) {\r\n          _properties = _properties.concat([[propertyKey, propertyValue]])\r\n        } else {\r\n          _properties = _properties.concat(Object.entries(propertyValue))\r\n        }\r\n      }\r\n    }\r\n    properties = _properties\r\n    return properties\r\n  }, context)\r\n}\r\nMVC.Utils.objectQuery.parseStringData = function(string, context) {\r\n  let stringData = string\r\n    .split('][')\r\n    .map((fragment, fragmentIndex, fragments) => {\r\n      if(fragmentIndex === 0) {\r\n        fragment = (fragment[0] === '[')\r\n          ? fragment.split('').slice(1).join('')\r\n          : fragment\r\n      }\r\n      if(fragmentIndex === fragments.length - 1) {\r\n        fragment = (fragment[fragment.length - 1] === ']')\r\n          ? fragment.split('').slice(0, -1).join('')\r\n          : fragment\r\n      }\r\n      let operator\r\n      if(fragment[0] === '/') {\r\n        fragment = fragment.split('')\r\n        fragment.splice(0, 1)\r\n        switch(fragment[fragment.length - 1]) {\r\n          case '/':\r\n            operator = 'i'\r\n            break\r\n          case ')':\r\n            operator = fragment.splice(-3).slice(1).slice(0, -1)\r\n            break\r\n        }\r\n        fragment.splice(-1)\r\n        fragment = fragment.join('')\r\n        fragment = new RegExp(fragment, operator)\r\n      } else {\r\n        operator = 'i'\r\n        fragment = new RegExp('^'.concat(fragment, '$'), operator)\r\n      }\r\n      return fragment\r\n    })\r\n  return stringData\r\n}\r\n","MVC.Utils.toggleEventsForTargetObjects = function toggleEventsForTargetObjects(\r\n  toggleMethod,\r\n  events,\r\n  targetObjects,\r\n  callbacks\r\n) {\r\n  for(let [eventSettings, eventCallbackName] of Object.entries(events)) {\r\n    let eventData = eventSettings.split(' ')\r\n    let eventTargetSettings = eventData[0]\r\n    let eventName = eventData[1]\r\n    let eventTargets = MVC.Utils.objectQuery(\r\n      eventTargetSettings,\r\n      targetObjects\r\n    )\r\n    for(let [eventTargetName, eventTarget] of eventTargets) {\r\n      let eventMethodName = (toggleMethod === 'on')\r\n      ? (\r\n        eventTarget instanceof NodeList ||\r\n        eventTarget instanceof HTMLElement\r\n      )\r\n        ? 'addEventListener'\r\n        : 'on'\r\n      : (\r\n        eventTarget instanceof NodeList ||\r\n        eventTarget instanceof HTMLElement\r\n      )\r\n        ? 'removeEventListener'\r\n        : 'off'\r\n      let eventCallback = MVC.Utils.objectQuery(\r\n        eventCallbackName,\r\n        callbacks\r\n      )[0][1]\r\n      console.log('eventMethodName', eventMethodName)\r\n      if(eventTarget instanceof NodeList) {\r\n        for(let _eventTarget of eventTarget) {\r\n          _eventTarget[eventMethodName](eventName, eventCallback)\r\n        }\r\n      } else if(eventTarget instanceof HTMLElement){\r\n        eventTarget[eventMethodName](eventName, eventCallback)\r\n      } else {\r\n        eventTarget[eventMethodName](eventName, eventCallback)\r\n      }\r\n    }\r\n  }\r\n}\r\nMVC.Utils.bindEventsToTargetObjects = function bindEventsToTargetObjects() {\r\n  this.toggleEventsForTargetObjects('on', ...arguments)\r\n}\r\nMVC.Utils.unbindEventsFromTargetObjects = function unbindEventsFromTargetObjects() {\r\n  this.toggleEventsForTargetObjects('off', ...arguments)\r\n}\r\n","MVC.Utils.validateDataSchema = function validateDataSchema(data, schema) {\r\n  if(schema) {\r\n    switch(MVC.Utils.typeOf(data)) {\r\n      case 'array':\r\n        let array = []\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(array)\r\n          )\r\n        ) {\r\n          console.log(schema.name)\r\n          for(let [arrayKey, arrayValue] of Object.entries(data)) {\r\n            array.push(\r\n              this.validateDataSchema(arrayValue)\r\n            )\r\n          }\r\n        }\r\n        return array\r\n        break\r\n      case 'object':\r\n        let object = {}\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(object)\r\n          )\r\n        ) {\r\n          console.log(schema.name)\r\n          for(let [objectKey, objectValue] of Object.entries(data)) {\r\n            object[objectKey] = this.validateDataSchema(objectValue, schema[objectKey])\r\n          }\r\n        }\r\n        return object\r\n        break\r\n      case 'string':\r\n      case 'number':\r\n      case 'boolean':\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(data)\r\n          )\r\n        ) {\r\n          console.log(schema.name)\r\n          return data\r\n        } else {\r\n          throw MVC.TMPL\r\n        }\r\n        break\r\n      case 'null':\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(data)\r\n          )\r\n        ) {\r\n          return data\r\n        }\r\n        break\r\n      case 'undefined':\r\n        throw MVC.TMPL\r\n        break\r\n      case 'function':\r\n        throw MVC.TMPL\r\n        break\r\n    }\r\n  } else {\r\n    throw MVC.TMPL\r\n  }\r\n}\r\n","MVC.Channels = class {\r\n  constructor() {}\r\n  get _channels() { return this.channels || {} }\r\n  channel(channelName) {\r\n    this._channels[channelName] = (this._channels[channelName])\r\n      ? this._channels[channelName]\r\n      : new MVC.Channels.Channel()\r\n    return this._channels[channelName]\r\n  }\r\n  off(channelName) {\r\n    delete this._channels[channelName]\r\n  }\r\n}\r\n","MVC.Channels.Channel = class {\r\n  constructor() {}\r\n  get _responses() { return this.responses || {} }\r\n  response(responseName, responseCallback) {\r\n    if(responseCallback) {\r\n      this._responses[responseName] = responseCallback\r\n    } else {\r\n      return this._responses[response]\r\n    }\r\n  }\r\n  request(responseName, requestData) {\r\n    if(this._responses[responseName]) {\r\n      return this._responses[responseName](requestData)\r\n    }\r\n  }\r\n  off(responseName) {\r\n    if(responseName) {\r\n      delete this._responses[responseName]\r\n    } else {\r\n      for(let [responseName] of Object.keys(this._responses)) {\r\n        delete this._responses[responseName]\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Base = class extends MVC.Events {\r\n  constructor(settings, options, configuration) {\r\n    super()\r\n    if(configuration) this._configuration = configuration\r\n    if(options) this._options = options\r\n    if(settings) this._settings = settings\r\n  }\r\n  get _configuration() {\r\n    this.configuration = (this.configuration)\r\n      ? this.configuration\r\n      : {}\r\n    return this.configuration\r\n  }\r\n  set _configuration(configuration) { this.configuration = configuration }\r\n  get _options() {\r\n    this.options = (this.options)\r\n      ? this.options\r\n      : {}\r\n    return this.options\r\n  }\r\n  set _options(options) { this.options = options }\r\n  get _settings() {\r\n    this.settings = (this.settings)\r\n      ? this.settings\r\n      : {}\r\n    return this.settings\r\n  }\r\n  set _settings(settings) { this.settings = settings }\r\n}\r\n","MVC.Observer = class extends MVC.Base {\r\n  constructor() {\r\n    super(...arguments)\r\n    this.addSettings()\r\n    this._observer.observe(this.target, this.options)\r\n  }\r\n  get _context() { return this.context }\r\n  set _context(context) { this.context = context }\r\n  get _target() { return this.target }\r\n  set _target(target) { this.target = target }\r\n  get _options() { return this.options }\r\n  set _options(options) { this.options = options }\r\n  get _observer() {\r\n    this.observer = (this.observer)\r\n      ? this.observer\r\n      : new MutationObserver(this.observerCallback.bind(this))\r\n    return this.observer\r\n  }\r\n  get _mutations() {\r\n    this.mutations = (this.mutations)\r\n      ? this.mutations\r\n      : []\r\n    return this.mutations\r\n  }\r\n  set _mutations(mutations) {\r\n    for(let [mutationSettings, mutationCallback] of Object.entries(mutations)) {\r\n      let mutation\r\n      let mutationData = mutationSettings.split(' ')\r\n      let mutationTarget = MVC.Utils.objectQuery(\r\n        mutationData,\r\n        this.context.ui\r\n      )\r\n      let mutationEventName = mutationData[1]\r\n      let mutationEventData = mutationData[2]\r\n      mutationCallback = (mutationCallback.match('@'))\r\n        ? this.context.observerCallbacks[mutationCallback.replace('@', '')]\r\n        : (typeof mutationCallback === 'string')\r\n          ? MVC.Utils.objectQuery(mutationCallback, window)\r\n          : mutationCallback\r\n      mutation = {\r\n        target: mutationTarget,\r\n        name: mutationEventName,\r\n        callback: mutationCallback,\r\n      }\r\n      if(mutationEventData) mutation.data = mutationEventData\r\n      this._mutations.push(mutation)\r\n    }\r\n  }\r\n  addSettings() {\r\n    if(Object.keys(this._settings).length) {\r\n      this._settings = settings\r\n      if(this._settings.context) this._context = this._settings.context\r\n      if(this._settings.target) this._target = (this._settings.target instanceof NodeList)\r\n      ? this._settings.target[0]\r\n      : this._settings.target\r\n      if(this._settings.options) this._options = this._settings.options\r\n      if(this._settings.mutations) this._mutations = this._settings.mutations\r\n    }\r\n  }\r\n  observerCallback(mutationRecordList, observer) {\r\n    for(let [mutationRecordIndex, mutationRecord] of Object.entries(mutationRecordList)) {\r\n      switch(mutationRecord.type) {\r\n        case 'childList':\r\n          let mutationRecordCategories = ['addedNodes', 'removedNodes']\r\n          for(let mutationRecordCategory of mutationRecordCategories) {\r\n            if(mutationRecord[mutationRecordCategory].length) {\r\n              for(let [nodeIndex, node] of Object.entries(mutationRecord[mutationRecordCategory])) {\r\n                let mutation = this.mutations.filter((_mutation) => _mutation.target === node)[0]\r\n                if(mutation) {\r\n                  mutation.callback({\r\n                    mutation: mutation,\r\n                    mutationRecord: mutationRecord,\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break\r\n        case 'attributes':\r\n          let mutation = this.mutations.filter((_mutation) => (\r\n            _mutation.name === mutationRecord.type &&\r\n            _mutation.data === mutationRecord.attributeName\r\n          ))[0]\r\n          if(mutation) {\r\n            mutation.callback({\r\n              mutation: mutation,\r\n              mutationRecord: mutationRecord,\r\n            })\r\n          }\r\n          break\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Service = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _defaults() { return this.defaults || {\n    contentType: {'Content-Type': 'application/json'},\n    responseType: 'json',\n  } }\n  get _responseTypes() { return ['', 'arraybuffer', 'blob', 'document', 'json', 'text'] }\n  get _responseType() { return this.responseType }\n  set _responseType(responseType) {\n    this._xhr.responseType = this._responseTypes.find(\n      (responseTypeItem) => responseTypeItem === responseType\n    ) || this._defaults.responseType\n  }\n  get _type() { return this.type }\n  set _type(type) { this.type = type }\n  get _url() { return this.url }\n  set _url(url) { this.url = url }\n  get _headers() { return this.headers || [] }\n  set _headers(headers) {\n    this._headers.length = 0\n    for(let header of headers) {\n      this._xhr.setRequestHeader({header}[0], {header}[1])\n      this._headers.push(header)\n    }\n  }\n  get _xhr() {\n    this.xhr = (this.xhr)\n      ? this.xhr\n      : new XMLHttpRequest()\n    return this.xhr\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.type) this._type = this._settings.type\n      if(this._settings.url) this._url = this._settings.url\n      if(this._settings.data) this._data = this._settings.data || null\n      if(this._settings.headers) this._headers = this._settings.headers || [this._defaults.contentType]\n      if(this._settings.responseType) this._responseType = this._settings.responseType\n    }\n  }\n  newXHR() {\n    return new Promise((resolve, reject) => {\n      if(this._xhr.status === 200) this._xhr.abort()\n      this._xhr.open(this._type, this._url)\n      this._xhr.onload = resolve\n      this._xhr.onerror = reject\n      this._xhr.send(this._data)\n    })\n  }\n}\n","MVC.Model = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _defaults() { return this._defaults }\n  set _defaults(defaults) {\n    this.defaults = defaults\n    this.set(this.defaults)\n  }\n  get _schema() { return this._schema }\n  set _schema(schema) { this.schema = schema }\n  get _histiogram() { return this.histiogram || {\n    length: 1\n  } }\n  set _histiogram(histiogram) {\n    this.histiogram = Object.assign(\n      this._histiogram,\n      histiogram\n    )\n  }\n  get _history() {\n    this.history = (this.history)\n      ? this.history\n      : []\n    return this.history\n  }\n  set _history(data) {\n    if(\n      Object.keys(data).length\n    ) {\n      if(this._histiogram.length) {\n        this._history.unshift(this.parse(data))\n        this._history.splice(this._histiogram.length)\n      }\n    }\n  }\n  get _data() {\n    this.data =  (this.data)\n      ? this.data\n      : {}\n    return this.data\n  }\n  set _dataEvents(dataEvents) {\n    MVC.Utils.bindEventsToTargetObjects(dataEvents, this, this.dataCallbacks)\n  }\n  get _dataCallbacks() {\n    this.dataCallbacks = (this.dataCallbacks)\n      ? this.dataCallbacks\n      : {}\n    return this.dataCallbacks\n  }\n  set _dataCallbacks(dataCallbacks) {\n    this.dataCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      dataCallbacks, this._dataCallbacks\n    )\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.histiogram) this._histiogram = this._settings.histiogram\n      if(this._settings.data) this.set(this._settings.data)\n      if(this._settings.dataCallbacks) this._dataCallbacks = this._settings.dataCallbacks\n      if(this._settings.dataEvents) this._dataEvents = this._settings.dataEvents\n      if(this._settings.schema) this._schema = this._settings.schema\n      if(this._settings.defaults) this._defaults = this._settings.defaults\n    }\n  }\n  get() {\n    let property = arguments[0]\n    return this._data['_'.concat(property)]\n  }\n  set() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 1:\n        for(let [key, value] of Object.entries(arguments[0])) {\n          let _data = Object.assign(\n            this.parse(),\n            {\n              [key]: value,\n            },\n          )\n          // console.log('\\n', '_data', '\\n', '-----', '\\n', _data)\n          this.setDataProperty(key, value)\n        }\n        break\n      case 2:\n        var key = arguments[0]\n        var value = arguments[1]\n        this.setDataProperty(key, value)\n        break\n      case 3:\n        var key = arguments[0]\n        var value = arguments[1]\n        var silent = arguments[2]\n        this.setDataProperty(key, value, silent)\n        break\n    }\n  }\n  unset() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 0:\n        for(let key of Object.keys(this._data)) {\n          this.unsetDataProperty(key)\n        }\n        break\n      case 1:\n        let key = arguments[0]\n        this.unsetDataProperty(key)\n        break\n    }\n  }\n  setDataProperty(key, value, silent) {\n    if(!this._data['_'.concat(key)]) {\n      let context = this\n      Object.defineProperties(\n        this._data,\n        {\n          ['_'.concat(key)]: {\n            configurable: true,\n            get() { return this[key] },\n            set(value) {\n              this[key] = value\n              let setValueEventName = ['set', ':', key].join('')\n              let setEventName = 'set'\n              if(!silent) {\n                context.emit(\n                  setValueEventName,\n                  {\n                    name: setValueEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n                context.emit(\n                  setEventName,\n                  {\n                    name: setEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n              }\n            }\n          }\n        }\n      )\n    }\n    this._data['_'.concat(key)] = value\n  }\n  unsetDataProperty(key) {\n    let unsetValueEventName = ['unset', ':', key].join('')\n    let unsetEventName = 'unset'\n    let unsetValue = this._data[key]\n    delete this._data['_'.concat(key)]\n    delete this._data[key]\n    this.emit(\n      unsetValueEventName,\n      {\n        name: unsetValueEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n    this.emit(\n      unsetEventName,\n      {\n        name: unsetEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n  }\n  parse(data) {\n    data = data || this._data\n    return JSON.parse(JSON.stringify(Object.assign({}, data))) }\n}\n","MVC.Emitter = class extends MVC.Model {\r\n  constructor() {\r\n    super(...arguments)\r\n    this._name = this.settings.name\r\n  }\r\n  get _name() { return this.name }\r\n  set _name(name) { this.name = name }\r\n  get emission() {\r\n    return {\r\n      name: this.name,\r\n      data: this.parse()\r\n    }\r\n  }\r\n}\r\n","MVC.View = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _elementName() { return this._element.tagName }\n  set _elementName(elementName) {\n    if(!this._element) this._element = document.createElement(elementName)\n  }\n  get _element() { return this.element }\n  set _element(element) {\n    if(element instanceof HTMLElement) {\n      this.element = element\n    } else if(typeof element === 'string') {\n      this.element = document.querySelector(element)\n    }\n  }\n  get _attributes() { return this._element.attributes }\n  set _attributes(attributes) {\n    for(let [attributeKey, attributeValue] of Object.entries(attributes)) {\n      if(typeof attributeValue === 'undefined') {\n        this._element.removeAttribute(attributeKey)\n      } else {\n        this._element.setAttribute(attributeKey, attributeValue)\n      }\n    }\n    this.attributes = this._element.attributes\n  }\n  get _ui() {\n    this.ui = (this.ui)\n      ? this.ui\n      : {}\n    return this.ui\n  }\n  set _ui(ui) {\n    this._ui['$'] = this.element\n    for(let [uiKey, uiSelector] of Object.entries(ui)) {\n      if(typeof uiSelector === 'undefined') {\n        delete this._ui[uiKey]\n      } else {\n        this._ui[uiKey] = this._element.querySelectorAll(uiSelector)\n      }\n    }\n  }\n  set _uiEvents(uiEvents) {\n    MVC.Utils.bindEventsToTargetObjects(uiEvents, this.ui, this.uiCallbacks)\n  }\n  get _uiCallbacks() {\n    this.uiCallbacks = (this.uiCallbacks)\n      ? this.uiCallbacks\n      : {}\n    return this.uiCallbacks\n  }\n  set _uiCallbacks(uiCallbacks) {\n    this.uiCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      uiCallbacks, this._uiCallbacks\n    )\n  }\n  get _observerCallbacks() {\n    this.observerCallbacks = (this.observerCallbacks)\n      ? this.observerCallbacks\n      : {}\n    return this.observerCallbacks\n  }\n  set _observerCallbacks(observerCallbacks) {\n    this.observerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      observerCallbacks, this._observerCallbacks\n    )\n  }\n  get _uiEmitters() {\n    this.uiEmitters = (this.uiEmitters)\n      ? this.uiEmitters\n      : {}\n    return this.uiEmitters\n  }\n  set _uiEmitters(uiEmitters) {\n    this.uiEmitters = MVC.Utils.addPropertiesToTargetObject(\n      uiEmitters, this._uiEmitters\n    )\n  }\n  get _observers() {\n    this.observers = (this.observers)\n      ? this.observers\n      : {}\n    return this.observers\n  }\n  set _observers(observers) {\n    for(let [observerConfiguration, mutationSettings] of Object.entries(observers)) {\n      let observerConfigurationData = observerConfiguration.split(' ')\n      let observerName = observerConfigurationData[0]\n      let observerTarget = (observerName.match('@', ''))\n        ? MVC.Utils.objectQuery(\n            observerName.replace('@', ''),\n            this.ui\n          )\n        : document.querySelectorAll(observerName)\n      let observerOptions = (observerConfigurationData[1])\n        ? observerConfigurationData[1]\n          .split(',')\n          .reduce((accumulator, currentValue) => {\n            accumulator[currentValue] = true\n            return accumulator\n          }, {})\n        : {}\n      let observer = new MVC.Observer({\n        context: this,\n        target: observerTarget,\n        options: observerOptions,\n        mutations: mutationSettings\n      })\n      this._observers[observerName] = observer\n    }\n  }\n  set _insert(insert) {\n    if(this.element.parentElement) this.remove()\n    let insertMethod = insert.method\n    let parentElement = document.querySelector(insert.element)\n    parentElement.insertAdjacentElement(insertMethod, this.element)\n  }\n  get _templates() {\n    this.templates = (this.templates)\n      ? this.templates\n      : {}\n    return this.templates\n  }\n  set _templates(templates) {\n    for(let [templateName, templateSettings] of Object.entries(templates)) {\n      this._templates[templateName] = templateSettings\n    }\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.elementName) this._elementName = this._settings.elementName\n      if(this._settings.element) this._element = this._settings.element\n      if(this._settings.attributes) this._attributes = this._settings.attributes\n      this._ui = this._settings.ui || {}\n      if(this._settings.uiCallbacks) this._uiCallbacks = this._settings.uiCallbacks\n      if(this._settings.observerCallbacks) this._observerCallbacks = this._settings.observerCallbacks\n      if(this._settings.uiEmitters) this._uiEmitters = this._settings.uiEmitters\n      if(this._settings.uiEvents) this._uiEvents = this._settings.uiEvents\n      if(this._settings.observers) this._observers = this._settings.observers\n      if(this._settings.templates) this._templates = this._settings.templates\n      if(this._settings.insert) this._insert = this._settings.insert\n    } else {\n      this._elementName = 'div'\n    }\n  }\n  remove() { this.element.parentElement.removeChild(this.element) }\n}\n","MVC.Controller = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _emitters() {\n    this.emitters = (this.emitters)\n      ? this.emitters\n      : {}\n    return this.emitters\n  }\n  set _emitters(emitters) {\n    this.emitters = MVC.Utils.addPropertiesToTargetObject(\n      emitters, this._emitters\n    )\n  }\n  get _modelCallbacks() {\n    this.modelCallbacks = (this.modelCallbacks)\n      ? this.modelCallbacks\n      : {}\n    return this.modelCallbacks\n  }\n  set _modelCallbacks(modelCallbacks) {\n    this.modelCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      modelCallbacks, this._modelCallbacks\n    )\n  }\n  get _viewCallbacks() {\n    this.viewCallbacks = (this.viewCallbacks)\n      ? this.viewCallbacks\n      : {}\n    return this.viewCallbacks\n  }\n  set _viewCallbacks(viewCallbacks) {\n    this.viewCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      viewCallbacks, this._viewCallbacks\n    )\n  }\n  get _controllerCallbacks() {\n    this.controllerCallbacks = (this.controllerCallbacks)\n      ? this.controllerCallbacks\n      : {}\n    return this.controllerCallbacks\n  }\n  set _controllerCallbacks(controllerCallbacks) {\n    this.controllerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      controllerCallbacks, this._controllerCallbacks\n    )\n  }\n  get _routerCallbacks() {\n    this.routerCallbacks = (this.routerCallbacks)\n      ? this.routerCallbacks\n      : {}\n    return this.routerCallbacks\n  }\n  set _routerCallbacks(routerCallbacks) {\n    this.routerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      routerCallbacks, this._routerCallbacks\n    )\n  }\n  get _models() {\n    this.models = (this.models)\n      ? this.models\n      : {}\n    return this.models\n  }\n  set _models(models) {\n    this.models = MVC.Utils.addPropertiesToTargetObject(\n      models, this._models\n    )\n  }\n  get _views() {\n    this.views = (this.views)\n      ? this.views\n      : {}\n    return this.views\n  }\n  set _views(views) {\n    this.views = MVC.Utils.addPropertiesToTargetObject(\n      views, this._views\n    )\n  }\n  get _controllers() {\n    this.controllers = (this.controllers)\n      ? this.controllers\n      : {}\n    return this.controllers\n  }\n  set _controllers(controllers) {\n    this.controllers = MVC.Utils.addPropertiesToTargetObject(\n      controllers, this._controllers\n    )\n  }\n  get _routers() {\n    this.routers = (this.routers)\n      ? this.routers\n      : {}\n    return this.routers\n  }\n  set _routers(routers) {\n    this.routers = MVC.Utils.addPropertiesToTargetObject(\n      routers, this._routers\n    )\n  }\n  set _modelEvents(modelEvents) {\n    MVC.Utils.bindEventsToTargetObjects(modelEvents, this._models, this._modelCallbacks)\n  }\n  set _viewEvents(viewEvents) {\n    MVC.Utils.bindEventsToTargetObjects(viewEvents, this._views, this._viewCallbacks)\n  }\n  set _controllerEvents(controllerEvents) {\n    MVC.Utils.bindEventsToTargetObjects(controllerEvents, this._controllers, this._controllerCallbacks)\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this.settings.emitters) this._emitters = this.settings.emitters\n      if(this.settings.modelCallbacks) this._modelCallbacks = this.settings.modelCallbacks\n      if(this.settings.viewCallbacks) this._viewCallbacks = this.settings.viewCallbacks\n      if(this.settings.controllerCallbacks) this._controllerCallbacks = this.settings.controllerCallbacks\n      if(this.settings.routerCallbacks) this._routerCallbacks = this.settings.routerCallbacks\n      if(this.settings.models) this._models = this.settings.models\n      if(this.settings.views) this._views = this.settings.views\n      if(this.settings.controllers) this._controllers = this.settings.controllers\n      if(this.settings.routers) this._routers = this.settings.routers\n      if(this.settings.modelEvents) this._modelEvents = this.settings.modelEvents\n      if(this.settings.viewEvents) this._viewEvents = this.settings.viewEvents\n      if(this.settings.controllerEvents) this._controllerEvents = this.settings.controllerEvents\n    }\n  }\n}\n","MVC.Router = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n    this.setRoutes(this.routes, this.controllers)\n    this.setEvents()\n    this.start()\n    if(typeof this.initialize === 'function') this.initialize()\n  }\n  addSettings() {\n    if(this._settings) {\n      if(this._settings.routes) this.routes = this._settings.routes\n      if(this._settings.controllers) this.controllers = this._settings.controllers\n    }\n  }\n  start() {\n    var location = this.getRoute()\n    if(location === '') {\n      this.navigate('/')\n    }else {\n      window.dispatchEvent(new Event('hashchange'))\n    }\n  }\n  setRoutes(routes, controllers) {\n    for(var route in routes) {\n      this.routes[route] = controllers[routes[route]]\n    }\n    return\n  }\n  setEvents() {\n    window.addEventListener('hashchange', this.hashChange.bind(this))\n    return\n  }\n  getRoute() {\n    return String(window.location.hash).split('#').pop()\n  }\n  hashChange(event) {\n    var route = this.getRoute()\n    try {\n      this.routes[route](event)\n      this.emit('navigate', this)\n    } catch(error) {}\n  }\n  navigate(path) {\n    window.location.hash = path\n  }\n}\n"],"file":"../../browser/mvc-framework-min.js"}
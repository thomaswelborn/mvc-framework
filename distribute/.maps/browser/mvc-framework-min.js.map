{"version":3,"sources":["MVC.js","Utils.js","Events.js","Service.js","Channels.js","Channel.js","Observers.js","Observer.js","Model.js","View.js","Controller.js","Router.js"],"names":["MVC","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","Object","prototype","toString","call","from","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_typeof","obj","constructor","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","Utils","getObjectFromDotNotationString","string","context","split","reduce","accumulator","currentValue","RegExp","replace","_Object$entries","entries","_Object$entries$_i","contextKey","contextValue","test","toggleEventsForTargetObjects","toggleMethod","events","targetObjects","callbacks","_i2","_Object$entries2","_Object$entries2$_i","eventSettings","eventCallback","eventData","eventTargetSettings","eventName","eventTargets","this","0","document","querySelectorAll","_i3","_Object$entries3","_Object$entries3$_i","eventTarget","eventTargetMethodName","HTMLElement","eventCallbacks","match","window","_i4","_Object$values","values","_eventCallback","bindEventsToTargetObjects","apply","concat","slice","arguments","unbindEventsFromTargetObjects","addPropertiesToTargetObject","targetObject","properties","_i5","_Object$entries4","_Object$entries4$_i","_propertyName","_propertyValue","propertyName","propertyValue","Events","_class","_events","name","eventCallbackName","eventCallbackGroup","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","additionalArguments","splice","get","Service","_MVC$Events","settings","options","configuration","_this","_configuration","_options","_settings","_this2","Promise","resolve","reject","_xhr","status","abort","open","_type","_url","onload","onerror","send","_data","defaults","contentType","Content-Type","responseType","set","type","url","data","headers","_headers","_defaults","_responseType","_responseTypes","find","responseTypeItem","header","setRequestHeader","xhr","XMLHttpRequest","Channels","channelName","_channels","Channel","channels","_response","response","_x","_x2","responseName","responseCallback","_responses","requestData","_Object$keys","keys","_responseName","responses","Observers","Observer","_observer","observe","mutationRecordList","observer","_loop","mutationRecord","_mutationRecordCatego","mutationRecordCategory","_loop2","node","mutation","mutations","filter","_mutation","callback","attributeName","_context","_target","NodeList","_mutations","MutationObserver","observerCallback","bind","mutationSettings","mutationCallback","mutationData","mutationTarget","ui","mutationEventName","mutationEventData","observerCallbacks","Model","property","_history","parse","_key","_value","setDataProperty","silent","_key2","unsetDataProperty","defineProperties","setValueEventName","join","emit","unsetValueEventName","unsetValue","JSON","stringify","assign","histiogram","_histiogram","dataCallbacks","_dataCallbacks","dataEvents","_dataEvents","history","unshift","View","element","parentElement","removeChild","elementName","_elementName","_element","attributes","_attributes","_ui","uiCallbacks","_uiCallbacks","_observerCallbacks","uiEmitters","_uiEmitters","uiEvents","_uiEvents","observers","_observers","templates","_templates","insert","_insert","tagName","createElement","querySelector","attributeKey","attributeValue","removeAttribute","setAttribute","uiKey","uiSelector","emitters","observerConfiguration","observerConfigurationData","observerName","observerTarget","observerOptions","remove","insertMethod","method","insertAdjacentElement","templateName","templateSettings","Controller","_emitters","modelCallbacks","_modelCallbacks","viewCallbacks","_viewCallbacks","controllerCallbacks","_controllerCallbacks","routerCallbacks","_routerCallbacks","models","_models","views","_views","controllers","_controllers","routers","_routers","modelEvents","_modelEvents","viewEvents","_viewEvents","controllerEvents","_controllerEvents","Router","setRoutes","routes","setEvents","start","initialize","getRoute","navigate","dispatchEvent","Event","route","addEventListener","hashChange","String","location","hash","pop","event","error","path"],"mappings":"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","sourcesContent":["var MVC = MVC || {}\r\n","MVC.Utils = {\r\n  getObjectFromDotNotationString: function(\r\n    string,\r\n    context\r\n  ) {\r\n    let object = string\r\n      .split('.')\r\n      .reduce(\r\n        (accumulator, currentValue) => {\r\n          currentValue = (currentValue[0] === '/')\r\n            ? new RegExp(currentValue.replace(new RegExp('/', 'g'), ''))\r\n            : currentValue\r\n          for(let [contextKey, contextValue] of Object.entries(context)) {\r\n            if(currentValue instanceof RegExp) {\r\n              if(currentValue.test(contextKey)) {\r\n                accumulator[contextKey] = contextValue\r\n              }\r\n            } else {\r\n              if(currentValue === contextKey) {\r\n                accumulator[contextKey] = contextValue\r\n              }\r\n            }\r\n          }\r\n          return accumulator\r\n        }, {})\r\n    return object\r\n  },\r\n  toggleEventsForTargetObjects(\r\n    toggleMethod,\r\n    events,\r\n    targetObjects,\r\n    callbacks\r\n  ) {\r\n    for(let [eventSettings, eventCallback] of Object.entries(events)) {\r\n      let eventData = eventSettings.split(' ')\r\n      let eventTargetSettings = eventData[0]\r\n      let eventName = eventData[1]\r\n      let eventTargets\r\n      switch(eventTargetSettings[0] === '@') {\r\n        case true:\r\n          eventTargetSettings = eventTargetSettings.replace('@', '')\r\n          eventTargets = (eventTargetSettings)\r\n            ? this.getObjectFromDotNotationString(\r\n              eventTargetSettings,\r\n              targetObjects\r\n            )\r\n            : {\r\n              0: targetObjects,\r\n            }\r\n          break\r\n        case false:\r\n          eventTargets = document.querySelectorAll(eventTargetSettings)\r\n          break\r\n      }\r\n      for(let [eventTargetName, eventTarget] of Object.entries(eventTargets)) {\r\n        let eventTargetMethodName = (toggleMethod === 'on')\r\n          ? (eventTarget instanceof HTMLElement)\r\n            ? 'addEventListener'\r\n            : 'on'\r\n          : (eventTarget instanceof HTMLElement)\r\n            ? 'removeEventListener'\r\n            : 'off'\r\n        let eventCallbacks = (eventCallback.match('@'))\r\n          ? this.getObjectFromDotNotationString(\r\n            eventCallback.replace('@', ''),\r\n            callbacks\r\n          )\r\n          : window[eventCallback]\r\n        for(let eventCallback of Object.values(eventCallbacks)) {\r\n          eventTarget[eventTargetMethodName](eventName, eventCallback)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  bindEventsToTargetObjects: function() {\r\n    this.toggleEventsForTargetObjects('on', ...arguments)\r\n  },\r\n  unbindEventsFromTargetObjects: function() {\r\n    this.toggleEventsForTargetObjects('off', ...arguments)\r\n  },\r\n  addPropertiesToTargetObject: function() {\r\n    let targetObject\r\n    switch(arguments.length) {\r\n      case 2:\r\n        let properties = arguments[0]\r\n        targetObject = arguments[1]\r\n        for(let [propertyName, propertyValue] of Object.entries(properties)) {\r\n          targetObject[propertyName] = propertyValue\r\n        }\r\n        break\r\n      case 3:\r\n        let propertyName = arguments[0]\r\n        let propertyValue = arguments[1]\r\n        targetObject = arguments[2]\r\n        targetObject[propertyName] = propertyValue\r\n        break\r\n    }\r\n    return targetObject\r\n  },\r\n}\r\n","MVC.Events = class {\r\n  constructor() {}\r\n  get _events() {\r\n    this.events = (this.events)\r\n      ? this.events\r\n      : {}\r\n    return this.events\r\n  }\r\n  eventCallbacks(eventName) { return this._events[eventName] || {} }\r\n  eventCallbackName(eventCallback) {\r\n    return (eventCallback.name.length)\r\n      ? eventCallback.name\r\n      : 'anonymousFunction'\r\n  }\r\n  eventCallbackGroup(eventCallbacks, eventCallbackName) {\r\n    return eventCallbacks[eventCallbackName] || []\r\n  }\r\n  on(eventName, eventCallback) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    let eventCallbackName = this.eventCallbackName(eventCallback)\r\n    let eventCallbackGroup = this.eventCallbackGroup(eventCallbacks, eventCallbackName)\r\n    eventCallbackGroup.push(eventCallback)\r\n    eventCallbacks[eventCallbackName] = eventCallbackGroup\r\n    this._events[eventName] = eventCallbacks\r\n  }\r\n  off() {\r\n    switch(arguments.length) {\r\n      case 1:\r\n        var eventName = arguments[0]\r\n        delete this._events[eventName]\r\n        break\r\n      case 2:\r\n        var eventName = arguments[0]\r\n        var eventCallback = arguments[1]\r\n        var eventCallbackName = this.eventCallbackName(eventCallback)\r\n        delete this._events[eventName][eventCallbackName]\r\n        break\r\n    }\r\n  }\r\n  emit(eventName, eventData) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    for(let [eventCallbackGroupName, eventCallbackGroup] of Object.entries(eventCallbacks)) {\r\n      for(let eventCallback of eventCallbackGroup) {\r\n        let additionalArguments = Object.values(arguments).splice(2)\r\n        eventCallback(eventData, ...additionalArguments)\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Service = class extends MVC.Events {\n  constructor(settings, options, configuration) {\n    super()\n    if(configuration) this._configuration = configuration\n    if(options) this._options = options\n    if(settings) this._settings = settings\n  }\n  get _defaults() { return this.defaults || {\n    contentType: {'Content-Type': 'application/json'},\n    responseType: 'json',\n  } }\n  get _options() { return this.options }\n  set _options(options) { this.options = options }\n  get _configuration() { return this.configuration }\n  set _configuration(configuration) { this.configuration = configuration }\n  get _settings() { return this.settings || {} }\n  set _settings(settings) {\n    this.settings = settings\n    if(this.settings.type) this._type = this.settings.type\n    if(this.settings.url) this._url = this.settings.url\n    if(this.settings.data) this._data = this.settings.data || null\n    if(this.settings.headers) this._headers = this.settings.headers || [this._defaults.contentType]\n    if(this.settings.responseType) this._responseType = this.settings.responseType\n  }\n  get _responseTypes() { return ['', 'arraybuffer', 'blob', 'document', 'json', 'text'] }\n  get _responseType() { return this.responseType }\n  set _responseType(responseType) {\n    this._xhr.responseType = this._responseTypes.find(\n      (responseTypeItem) => responseTypeItem === responseType\n    ) || this._defaults.responseType\n  }\n  get _type() { return this.type }\n  set _type(type) { this.type = type }\n  get _url() { return this.url }\n  set _url(url) { this.url = url }\n  get _headers() { return this.headers || [] }\n  set _headers(headers) {\n    this._headers.length = 0\n    for(let header of headers) {\n      this._xhr.setRequestHeader({header}[0], {header}[1])\n      this._headers.push(header)\n    }\n  }\n  get _xhr() {\n    this.xhr = (this.xhr)\n      ? this.xhr\n      : new XMLHttpRequest()\n    return this.xhr\n  }\n  newXHR() {\n    return new Promise((resolve, reject) => {\n      if(this._xhr.status === 200) this._xhr.abort()\n      this._xhr.open(this._type, this._url)\n      this._xhr.onload = resolve\n      this._xhr.onerror = reject\n      this._xhr.send(this._data)\n    })\n  }\n}\n","MVC.Channels = class {\r\n  constructor() {}\r\n  get _channels() { return this.channels || {} }\r\n  channel(channelName) {\r\n    this._channels[channelName] = (this._channels[channelName])\r\n      ? this._channels[channelName]\r\n      : new MVC.Channels.Channel()\r\n    return this._channels[channelName]\r\n  }\r\n  off(channelName) {\r\n    delete this._channels[channelName]\r\n  }\r\n}\r\n","MVC.Channels.Channel = class {\r\n  constructor() {}\r\n  get _responses() { return this.responses || {} }\r\n  response(responseName, responseCallback) {\r\n    if(responseCallback) {\r\n      this._responses[responseName] = responseCallback\r\n    } else {\r\n      return this._responses[response]\r\n    }\r\n  }\r\n  request(responseName, requestData) {\r\n    if(this._responses[responseName]) {\r\n      return this._responses[responseName](requestData)\r\n    }\r\n  }\r\n  off(responseName) {\r\n    if(responseName) {\r\n      delete this._responses[responseName]\r\n    } else {\r\n      for(let [responseName] of Object.keys(this._responses)) {\r\n        delete this._responses[responseName]\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Observers = class {}\r\n","MVC.Observers.Observer = class {\r\n  constructor(settings) {\r\n    this._settings = settings\r\n    this._observer.observe(this.target, this.options)\r\n  }\r\n  get _settings() {\r\n    this.settings = (this.settings)\r\n      ? this.settings\r\n      : {}\r\n    return this.settings\r\n  }\r\n  set _settings(settings) {\r\n    if(settings) {\r\n      this.settings = settings\r\n      if(this.settings.context) this._context = this.settings.context\r\n      if(this.settings.target) this._target = (this.settings.target instanceof NodeList)\r\n        ? this.settings.target[0]\r\n        : this.settings.target\r\n      if(this.settings.options) this._options = this.settings.options\r\n      if(this.settings.mutations) this._mutations = this.settings.mutations\r\n    }\r\n  }\r\n  get _context() { return this.context }\r\n  set _context(context) { this.context = context }\r\n  get _target() { return this.target }\r\n  set _target(target) { this.target = target }\r\n  get _options() { return this.options }\r\n  set _options(options) { this.options = options }\r\n  get _observer() {\r\n    this.observer = (this.observer)\r\n      ? this.observer\r\n      : new MutationObserver(this.observerCallback.bind(this))\r\n    return this.observer\r\n  }\r\n  get _mutations() {\r\n    this.mutations = (this.mutations)\r\n      ? this.mutations\r\n      : []\r\n    return this.mutations\r\n  }\r\n  set _mutations(mutations) {\r\n    for(let [mutationSettings, mutationCallback] of Object.entries(mutations)) {\r\n      let mutation\r\n      let mutationData = mutationSettings.split(' ')\r\n      let mutationTarget = MVC.Utils.getObjectFromDotNotationString(\r\n        mutationData[0].replace('@', ''),\r\n        this.context.ui\r\n      )\r\n      let mutationEventName = mutationData[1]\r\n      let mutationEventData = mutationData[2]\r\n      mutationCallback = (mutationCallback.match('@'))\r\n        ? this.context.observerCallbacks[mutationCallback.replace('@', '')]\r\n        : (typeof mutationCallback === 'string')\r\n          ? MVC.Utils.getObjectFromDotNotationString(mutationCallback, window)\r\n          : mutationCallback\r\n      mutation = {\r\n        target: mutationTarget,\r\n        name: mutationEventName,\r\n        callback: mutationCallback,\r\n      }\r\n      if(mutationEventData) mutation.data = mutationEventData\r\n      this._mutations.push(mutation)\r\n    }\r\n  }\r\n  observerCallback(mutationRecordList, observer) {\r\n    for(let [mutationRecordIndex, mutationRecord] of Object.entries(mutationRecordList)) {\r\n      switch(mutationRecord.type) {\r\n        case 'childList':\r\n          let mutationRecordCategories = ['addedNodes', 'removedNodes']\r\n          for(let mutationRecordCategory of mutationRecordCategories) {\r\n            if(mutationRecord[mutationRecordCategory].length) {\r\n              for(let [nodeIndex, node] of Object.entries(mutationRecord[mutationRecordCategory])) {\r\n                let mutation = this.mutations.filter((_mutation) => _mutation.target === node)[0]\r\n                if(mutation) {\r\n                  mutation.callback({\r\n                    mutation: mutation,\r\n                    mutationRecord: mutationRecord,\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break\r\n        case 'attributes':\r\n          let mutation = this.mutations.filter((_mutation) => (\r\n            _mutation.name === mutationRecord.type &&\r\n            _mutation.data === mutationRecord.attributeName\r\n          ))[0]\r\n          if(mutation) {\r\n            mutation.callback({\r\n              mutation: mutation,\r\n              mutationRecord: mutationRecord,\r\n            })\r\n          }\r\n          break\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Model = class extends MVC.Events {\n  constructor(settings, options, configuration) {\n    super()\n    if(configuration) this._configuration = configuration\n    if(options) this._options = options\n    if(settings) this._settings = settings\n  }\n  get _defaults() { return this._defaults }\n  set _defaults(defaults) {\n    this.defaults = defaults\n    this.set(this.defaults)\n  }\n  get _configuration() { return this.configuration }\n  set _configuration(configuration) { this.configuration = configuration }\n  get _options() { return this.options }\n  set _options(options) { this.options = options }\n  get _settings() { return this.settings || {} }\n  set _settings(settings) {\n    if(settings) {\n      this.settings = settings\n      if(this.settings.histiogram) this._histiogram = this.settings.histiogram\n      if(this.settings.data) this.set(this.settings.data)\n      if(this.settings.dataCallbacks) this._dataCallbacks = this.settings.dataCallbacks\n      if(this.settings.dataEvents) this._dataEvents = this.settings.dataEvents\n      if(this.settings.defaults) this._defaults = this.settings.defaults\n    }\n  }\n  get _histiogram() { return this.histiogram || {\n    length: 1\n  } }\n  set _histiogram(histiogram) {\n    this.histiogram = Object.assign(\n      this._histiogram,\n      histiogram\n    )\n  }\n  get _history() {\n    this.history = (this.history)\n      ? this.history\n      : []\n    return this.history\n  }\n  set _history(data) {\n    if(\n      Object.keys(data).length\n    ) {\n      if(this._histiogram.length) {\n        this._history.unshift(this.parse(data))\n        this._history.splice(this._histiogram.length)\n      }\n    }\n  }\n  get _data() {\n    this.data =  (this.data)\n      ? this.data\n      : {}\n    return this.data\n  }\n  set _dataEvents(dataEvents) {\n    MVC.Utils.bindEventsToTargetObjects(dataEvents, this, this.dataCallbacks)\n  }\n  get _dataCallbacks() {\n    this.dataCallbacks = (this.dataCallbacks)\n      ? this.dataCallbacks\n      : {}\n    return this.dataCallbacks\n  }\n  set _dataCallbacks(dataCallbacks) {\n    this.dataCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      dataCallbacks, this._dataCallbacks\n    )\n  }\n  get() {\n    let property = arguments[0]\n    return this._data['_'.concat(property)]\n  }\n  set() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 1:\n        for(let [key, value] of Object.entries(arguments[0])) {\n          this.setDataProperty(key, value)\n        }\n        break\n      case 2:\n        var key = arguments[0]\n        var value = arguments[1]\n        this.setDataProperty(key, value)\n        break\n      case 3:\n        var key = arguments[0]\n        var value = arguments[1]\n        var silent = arguments[2]\n        this.setDataProperty(key, value, silent)\n        break\n    }\n  }\n  unset() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 0:\n        for(let key of Object.keys(this._data)) {\n          this.unsetDataProperty(key)\n        }\n        break\n      case 1:\n        let key = arguments[0]\n        this.unsetDataProperty(key)\n        break\n    }\n  }\n  setDataProperty(key, value, silent) {\n    if(!this._data['_'.concat(key)]) {\n      let context = this\n      Object.defineProperties(\n        this._data,\n        {\n          ['_'.concat(key)]: {\n            configurable: true,\n            get() { return this[key] },\n            set(value) {\n              this[key] = value\n              let setValueEventName = ['set', ':', key].join('')\n              let setEventName = 'set'\n              if(!silent) {\n                context.emit(\n                  setValueEventName,\n                  {\n                    name: setValueEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n                context.emit(\n                  setEventName,\n                  {\n                    name: setEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n              }\n            }\n          }\n        }\n      )\n    }\n    this._data['_'.concat(key)] = value\n  }\n  unsetDataProperty(key) {\n    let unsetValueEventName = ['unset', ':', key].join('')\n    let unsetEventName = 'unset'\n    let unsetValue = this._data[key]\n    delete this._data['_'.concat(key)]\n    delete this._data[key]\n    this.emit(\n      unsetValueEventName,\n      {\n        name: unsetValueEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n    this.emit(\n      unsetEventName,\n      {\n        name: unsetEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n  }\n  parse(data) {\n    data = data || this._data\n    return JSON.parse(JSON.stringify(Object.assign({}, data))) }\n}\n","MVC.View = class extends MVC.Events {\n  constructor(settings, options, configuration) {\n    super()\n    if(configuration) this._configuration = configuration\n    if(options) this._options = options\n    if(settings) this._settings = settings\n  }\n  get _options() { return this.options }\n  set _options(options) { this.options = options }\n  get _configuration() { return this.configuration }\n  set _configuration(configuration) { this.configuration = configuration }\n  get _settings() {\n    this.settings = (this.settings)\n      ? this.settings\n      : {}\n    return this.settings\n  }\n  set _settings(settings) {\n    if(settings) {\n      this.settings = settings\n      if(this.settings.elementName) this._elementName = this.settings.elementName\n      if(this.settings.element) this._element = this.settings.element\n      if(this.settings.attributes) this._attributes = this.settings.attributes\n      this._ui = this.settings.ui || {}\n      if(this.settings.uiCallbacks) this._uiCallbacks = this.settings.uiCallbacks\n      if(this.settings.observerCallbacks) this._observerCallbacks = this.settings.observerCallbacks\n      if(this.settings.uiEmitters) this._uiEmitters = this.settings.uiEmitters\n      if(this.settings.uiEvents) this._uiEvents = this.settings.uiEvents\n      if(this.settings.observers) this._observers = this.settings.observers\n      if(this.settings.templates) this._templates = this.settings.templates\n      if(this.settings.insert) this._insert = this.settings.insert\n    } else {\n      this._elementName = 'div'\n    }\n  }\n  get _elementName() { return this._element.tagName }\n  set _elementName(elementName) {\n    if(!this._element) this._element = document.createElement(elementName)\n  }\n  get _element() { return this.element }\n  set _element(element) {\n    if(element instanceof HTMLElement) {\n      this.element = element\n    } else if(typeof element === 'string') {\n      this.element = document.querySelector(element)\n    }\n  }\n  get _attributes() { return this._element.attributes }\n  set _attributes(attributes) {\n    for(let [attributeKey, attributeValue] of Object.entries(attributes)) {\n      if(typeof attributeValue === 'undefined') {\n        this._element.removeAttribute(attributeKey)\n      } else {\n        this._element.setAttribute(attributeKey, attributeValue)\n      }\n    }\n    this.attributes = this._element.attributes\n  }\n  get _ui() {\n    this.ui = (this.ui)\n      ? this.ui\n      : {}\n    return this.ui\n  }\n  set _ui(ui) {\n    this._ui['$'] = this.element\n    for(let [uiKey, uiSelector] of Object.entries(ui)) {\n      if(typeof uiSelector === 'undefined') {\n        delete this._ui[uiKey]\n      } else {\n        this._ui[uiKey] = this._element.querySelectorAll(uiSelector)\n      }\n    }\n  }\n  set _uiEvents(uiEvents) {\n    MVC.Utils.bindEventsToTargetObjects(uiEvents, this.ui, this.uiCallbacks)\n  }\n  get _uiCallbacks() { return this.uiCallbacks || {} }\n  set _uiCallbacks(uiCallbacks) { this.uiCallbacks = uiCallbacks }\n  get _observerCallbacks() { return this.observerCallbacks || {} }\n  set _observerCallbacks(observerCallbacks) { this.observerCallbacks = observerCallbacks }\n  get _uiEmitters() { return this.uiEmitters || {} }\n  set _uiEmitters(uiEmitters) { this.uiEmitters = emitters }\n  get _observers() {\n    this.observers = (this.observers)\n      ? this.observers\n      : {}\n    return this.observers\n  }\n  set _observers(observers) {\n    for(let [observerConfiguration, mutationSettings] of Object.entries(observers)) {\n      let observerConfigurationData = observerConfiguration.split(' ')\n      let observerName = observerConfigurationData[0]\n      let observerTarget = (observerName.match('@', ''))\n        ? MVC.Utils.getObjectFromDotNotationString(\n            observerName.replace('@', ''),\n            this.ui\n          )\n        : document.querySelectorAll(observerName)\n      let observerOptions = (observerConfigurationData[1])\n        ? observerConfigurationData[1]\n          .split(',')\n          .reduce((accumulator, currentValue) => {\n            accumulator[currentValue] = true\n            return accumulator\n          }, {})\n        : {}\n      let observer = new MVC.Observers.Observer({\n        context: this,\n        target: observerTarget,\n        options: observerOptions,\n        mutations: mutationSettings\n      })\n      this._observers[observerName] = observer\n    }\n  }\n  set _insert(insert) {\n    if(this.element.parentElement) this.remove()\n    let insertMethod = insert.method\n    let parentElement = document.querySelector(insert.element)\n    parentElement.insertAdjacentElement(insertMethod, this.element)\n  }\n  get _templates() {\n    this.templates = (this.templates)\n      ? this.templates\n      : {}\n    return this.templates\n  }\n  set _templates(templates) {\n    for(let [templateName, templateSettings] of Object.entries(templates)) {\n      this._templates[templateName] = templateSettings\n    }\n  }\n  remove() { this.element.parentElement.removeChild(this.element) }\n}\n","MVC.Controller = class extends MVC.Events {\n  constructor(settings, options, configuration) {\n    super()\n    if(configuration) this._configuration = configuration\n    if(options) this._options = options\n    if(settings) this._settings = settings\n  }\n  get _configuration() { return this.configuration }\n  set _configuration(configuration) { this.configuration = configuration }\n  get _options() { return this.options }\n  set _options(options) { this.options = options }\n  get _settings() {\n    this.settings = (this.settings)\n      ? this.settings\n      : {}\n    return this.settings\n  }\n  set _settings(settings) {\n    this.settings = settings\n    if(this._settings.emitters) this._emitters = this._settings.emitters\n    if(this._settings.modelCallbacks) this._modelCallbacks = this._settings.modelCallbacks\n    if(this._settings.viewCallbacks) this._viewCallbacks = this._settings.viewCallbacks\n    if(this._settings.controllerCallbacks) this._controllerCallbacks = this._settings.controllerCallbacks\n    if(this._settings.routerCallbacks) this._routerCallbacks = this._settings.routerCallbacks\n    if(this._settings.models) this._models = this._settings.models\n    if(this._settings.views) this._views = this._settings.views\n    if(this._settings.controllers) this._controllers = this._settings.controllers\n    if(this._settings.routers) this._routers = this._settings.routers\n    if(this._settings.modelEvents) this._modelEvents = this._settings.modelEvents\n    if(this._settings.viewEvents) this._viewEvents = this._settings.viewEvents\n    if(this._settings.controllerEvents) this._controllerEvents = this._settings.controllerEvents\n  }\n  get _emitters() {\n    this.emitters = (this.emitters)\n      ? this.emitters\n      : {}\n    return this.emitters\n  }\n  set _emitters(emitters) {\n    this.emitters = MVC.Utils.addPropertiesToTargetObject(\n      emitters, this._emitters\n    )\n  }\n  get _modelCallbacks() {\n    this.modelCallbacks = (this.modelCallbacks)\n      ? this.modelCallbacks\n      : {}\n    return this.modelCallbacks\n  }\n  set _modelCallbacks(modelCallbacks) {\n    this.modelCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      modelCallbacks, this._modelCallbacks\n    )\n  }\n  get _viewCallbacks() {\n    this.viewCallbacks = (this.viewCallbacks)\n      ? this.viewCallbacks\n      : {}\n    return this.viewCallbacks\n  }\n  set _viewCallbacks(viewCallbacks) {\n    this.viewCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      viewCallbacks, this._viewCallbacks\n    )\n  }\n  get _controllerCallbacks() {\n    this.controllerCallbacks = (this.controllerCallbacks)\n      ? this.controllerCallbacks\n      : {}\n    return this.controllerCallbacks\n  }\n  set _controllerCallbacks(controllerCallbacks) {\n    this.controllerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      controllerCallbacks, this._controllerCallbacks\n    )\n  }\n  get _routerCallbacks() {\n    this.routerCallbacks = (this.routerCallbacks)\n      ? this.routerCallbacks\n      : {}\n    return this.routerCallbacks\n  }\n  set _routerCallbacks(routerCallbacks) {\n    this.routerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      routerCallbacks, this._routerCallbacks\n    )\n  }\n  get _models() {\n    this.models = (this.models)\n      ? this.models\n      : {}\n    return this.models\n  }\n  set _models(models) {\n    this.models = MVC.Utils.addPropertiesToTargetObject(\n      models, this._models\n    )\n  }\n  get _views() {\n    this.views = (this.views)\n      ? this.views\n      : {}\n    return this.views\n  }\n  set _views(views) {\n    this.views = MVC.Utils.addPropertiesToTargetObject(\n      views, this._views\n    )\n  }\n  get _controllers() {\n    this.controllers = (this.controllers)\n      ? this.controllers\n      : {}\n    return this.controllers\n  }\n  set _controllers(controllers) {\n    this.controllers = MVC.Utils.addPropertiesToTargetObject(\n      controllers, this._controllers\n    )\n  }\n  get _routers() {\n    this.routers = (this.routers)\n      ? this.routers\n      : {}\n    return this.routers\n  }\n  set _routers(routers) {\n    this.routers = MVC.Utils.addPropertiesToTargetObject(\n      routers, this._routers\n    )\n  }\n  set _modelEvents(modelEvents) {\n    MVC.Utils.bindEventsToTargetObjects(modelEvents, this._models, this._modelCallbacks)\n  }\n  set _viewEvents(viewEvents) {\n    MVC.Utils.bindEventsToTargetObjects(viewEvents, this._views, this._viewCallbacks)\n  }\n  set _controllerEvents(controllerEvents) {\n    MVC.Utils.bindEventsToTargetObjects(controllerEvents, this._controllers, this._controllerCallbacks)\n  }\n}\n","MVC.Router = class extends MVC.Events {\n  constructor(settings) {\n    super()\n    Object.assign(this, settings, { settings: settings })\n    this.setRoutes(this.routes, this.controllers)\n    this.setEvents()\n    this.start()\n    if(typeof this.initialize === 'function') this.initialize()\n  }\n  start() {\n    var location = this.getRoute()\n    if(location === '') {\n      this.navigate('/')\n    }else {\n      window.dispatchEvent(new Event('hashchange'))\n    }\n  }\n  setRoutes(routes, controllers) {\n    for(var route in routes) {\n      this.routes[route] = controllers[routes[route]]\n    }\n    return\n  }\n  setEvents() {\n    window.addEventListener('hashchange', this.hashChange.bind(this))\n    return\n  }\n  getRoute() {\n    return String(window.location.hash).split('#').pop()\n  }\n  hashChange(event) {\n    var route = this.getRoute()\n    try {\n      this.routes[route](event)\n      this.emit('navigate', this)\n    } catch(error) {}\n  }\n  navigate(path) {\n    window.location.hash = path\n  }\n}\n"],"file":"../../browser/mvc-framework-min.js"}
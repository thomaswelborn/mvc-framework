{"version":3,"sources":["MVC.js","Utils.js","Events.js","Service.js","Channels.js","Channel.js","Observers.js","Observer.js","Model.js","View.js","Controller.js","Router.js"],"names":["MVC","Utils","getObjectFromDotNotationString","string","context","object","split","reduce","accumulator","currentValue","RegExp","replace","Object","entries","contextKey","contextValue","test","toggleEventsForTargetObjects","toggleMethod","events","targetObjects","callbacks","eventSettings","eventCallback","eventData","eventTargetSettings","eventName","eventTargets","document","querySelectorAll","eventTargetName","eventTarget","eventTargetMethodName","HTMLElement","eventCallbacks","match","window","values","bindEventsToTargetObjects","arguments","unbindEventsFromTargetObjects","addPropertiesToTargetObject","targetObject","length","properties","propertyName","propertyValue","Events","_events","name","eventCallbackName","eventCallbackGroup","push","eventCallbackGroupName","additionalArguments","splice","Service","type","url","settings","_settings","_type","_url","Promise","resolve","reject","_xhr","status","abort","open","onload","onerror","send","_data","defaults","contentType","responseType","data","_headers","headers","_defaults","_responseType","_responseTypes","find","responseTypeItem","header","setRequestHeader","xhr","XMLHttpRequest","Channels","channelName","_channels","Channel","channels","responseName","responseCallback","_responses","response","requestData","keys","responses","Observers","Observer","_observer","observe","target","options","mutationRecordList","observer","mutationRecordIndex","mutationRecord","mutationRecordCategories","mutationRecordCategory","nodeIndex","node","mutation","mutations","filter","_mutation","callback","attributeName","_context","_target","NodeList","_options","_mutations","MutationObserver","observerCallback","bind","mutationSettings","mutationCallback","mutationData","mutationTarget","ui","mutationEventName","mutationEventData","observerCallbacks","Model","property","concat","_history","parse","key","value","setDataProperty","unsetDataProperty","defineProperties","configurable","get","set","setValueEventName","join","setEventName","emit","unsetValueEventName","unsetEventName","unsetValue","JSON","stringify","assign","histiogram","_histiogram","dataCallbacks","_dataCallbacks","dataEvents","_dataEvents","history","unshift","View","element","parentElement","removeChild","elementName","_elementName","_element","attributes","_attributes","_ui","uiCallbacks","_uiCallbacks","_observerCallbacks","uiEmitters","_uiEmitters","uiEvents","_uiEvents","observers","_observers","template","_template","insert","_insert","tagName","createElement","querySelector","attributeKey","attributeValue","removeAttribute","setAttribute","uiKey","uiSelector","emitters","observerConfiguration","observerConfigurationData","observerName","observerTarget","observerOptions","remove","insertMethod","method","insertAdjacentElement","Controller","_emitters","modelCallbacks","_modelCallbacks","viewCallbacks","_viewCallbacks","controllerCallbacks","_controllerCallbacks","routerCallbacks","_routerCallbacks","models","_models","views","_views","controllers","_controllers","routers","_routers","modelEvents","_modelEvents","viewEvents","_viewEvents","controllerEvents","_controllerEvents","Router","setRoutes","routes","setEvents","start","initialize","location","getRoute","navigate","dispatchEvent","Event","route","addEventListener","hashChange","String","hash","pop","event","error","path"],"mappings":"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","file":"../../browser/mvc-framework.js","sourcesContent":["var MVC = MVC || {}\r\n","MVC.Utils = {\r\n  getObjectFromDotNotationString: function(\r\n    string,\r\n    context\r\n  ) {\r\n    let object = string\r\n      .split('.')\r\n      .reduce(\r\n        (accumulator, currentValue) => {\r\n          currentValue = (currentValue[0] === '/')\r\n            ? new RegExp(currentValue.replace(new RegExp('/', 'g'), ''))\r\n            : currentValue\r\n          for(let [contextKey, contextValue] of Object.entries(context)) {\r\n            if(currentValue instanceof RegExp) {\r\n              if(currentValue.test(contextKey)) {\r\n                accumulator[contextKey] = contextValue\r\n              }\r\n            } else {\r\n              if(currentValue === contextKey) {\r\n                accumulator[contextKey] = contextValue\r\n              }\r\n            }\r\n          }\r\n          return accumulator\r\n        }, {})\r\n    return object\r\n  },\r\n  toggleEventsForTargetObjects(\r\n    toggleMethod,\r\n    events,\r\n    targetObjects,\r\n    callbacks\r\n  ) {\r\n    for(let [eventSettings, eventCallback] of Object.entries(events)) {\r\n      let eventData = eventSettings.split(' ')\r\n      let eventTargetSettings = eventData[0]\r\n      let eventName = eventData[1]\r\n      let eventTargets\r\n      switch(eventTargetSettings[0] === '@') {\r\n        case true:\r\n          eventTargetSettings = eventTargetSettings.replace('@', '')\r\n          eventTargets = (eventTargetSettings)\r\n            ? this.getObjectFromDotNotationString(\r\n              eventTargetSettings,\r\n              targetObjects\r\n            )\r\n            : {\r\n              0: targetObjects,\r\n            }\r\n          break\r\n        case false:\r\n          eventTargets = document.querySelectorAll(eventTargetSettings)\r\n          break\r\n      }\r\n      for(let [eventTargetName, eventTarget] of Object.entries(eventTargets)) {\r\n        let eventTargetMethodName = (toggleMethod === 'on')\r\n          ? (eventTarget instanceof HTMLElement)\r\n            ? 'addEventListener'\r\n            : 'on'\r\n          : (eventTarget instanceof HTMLElement)\r\n            ? 'removeEventListener'\r\n            : 'off'\r\n        let eventCallbacks = (eventCallback.match('@'))\r\n          ? this.getObjectFromDotNotationString(\r\n            eventCallback.replace('@', ''),\r\n            callbacks\r\n          )\r\n          : window[eventCallback]\r\n        for(let eventCallback of Object.values(eventCallbacks)) {\r\n          eventTarget[eventTargetMethodName](eventName, eventCallback)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  bindEventsToTargetObjects: function() {\r\n    this.toggleEventsForTargetObjects('on', ...arguments)\r\n  },\r\n  unbindEventsFromTargetObjects: function() {\r\n    this.toggleEventsForTargetObjects('off', ...arguments)\r\n  },\r\n  addPropertiesToTargetObject: function() {\r\n    let targetObject\r\n    switch(arguments.length) {\r\n      case 2:\r\n        let properties = arguments[0]\r\n        targetObject = arguments[1]\r\n        for(let [propertyName, propertyValue] of Object.entries(properties)) {\r\n          targetObject[propertyName] = propertyValue\r\n        }\r\n        break\r\n      case 3:\r\n        let propertyName = arguments[0]\r\n        let propertyValue = arguments[1]\r\n        targetObject = arguments[2]\r\n        targetObject[propertyName] = propertyValue\r\n        break\r\n    }\r\n    return targetObject\r\n  },\r\n}\r\n","MVC.Events = class {\r\n  constructor() {}\r\n  get _events() {\r\n    this.events = (this.events)\r\n      ? this.events\r\n      : {}\r\n    return this.events\r\n  }\r\n  eventCallbacks(eventName) { return this._events[eventName] || {} }\r\n  eventCallbackName(eventCallback) {\r\n    return (eventCallback.name.length)\r\n      ? eventCallback.name\r\n      : 'anonymousFunction'\r\n  }\r\n  eventCallbackGroup(eventCallbacks, eventCallbackName) {\r\n    return eventCallbacks[eventCallbackName] || []\r\n  }\r\n  on(eventName, eventCallback) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    let eventCallbackName = this.eventCallbackName(eventCallback)\r\n    let eventCallbackGroup = this.eventCallbackGroup(eventCallbacks, eventCallbackName)\r\n    eventCallbackGroup.push(eventCallback)\r\n    eventCallbacks[eventCallbackName] = eventCallbackGroup\r\n    this._events[eventName] = eventCallbacks\r\n  }\r\n  off() {\r\n    switch(arguments.length) {\r\n      case 1:\r\n        var eventName = arguments[0]\r\n        delete this._events[eventName]\r\n        break\r\n      case 2:\r\n        var eventName = arguments[0]\r\n        var eventCallback = arguments[1]\r\n        var eventCallbackName = this.eventCallbackName(eventCallback)\r\n        delete this._events[eventName][eventCallbackName]\r\n        break\r\n    }\r\n  }\r\n  emit(eventName, eventData) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    for(let [eventCallbackGroupName, eventCallbackGroup] of Object.entries(eventCallbacks)) {\r\n      for(let eventCallback of eventCallbackGroup) {\r\n        let additionalArguments = Object.values(arguments).splice(2)\r\n        eventCallback(eventData, ...additionalArguments)\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Service = class extends MVC.Events {\n  constructor(type, url, settings) {\n    super()\n    this._settings = settings || {}\n    this._type = type\n    this._url = url\n  }\n  get _defaults() { return this.defaults || {\n    contentType: {'Content-Type': 'application/json'},\n    responseType: 'json',\n  } }\n  get _settings() { return this.settings || {} }\n  set _settings(settings) {\n    this.settings = settings || {}\n    this._data = this.settings.data || null\n    this._headers = this._settings.headers || [this._defaults.contentType]\n    this._responseType = this._settings.responseType\n  }\n  get _responseTypes() { return ['', 'arraybuffer', 'blob', 'document', 'json', 'text'] }\n  get _responseType() { return this.responseType }\n  set _responseType(responseType) {\n    this._xhr.responseType = this._responseTypes.find(\n      (responseTypeItem) => responseTypeItem === responseType\n    ) || this._defaults.responseType\n  }\n  get _type() { return this.type }\n  set _type(type) { this.type = type }\n  get _url() { return this.url }\n  set _url(url) { this.url = url }\n  get _headers() { return this.headers || [] }\n  set _headers(headers) {\n    this._headers.length = 0\n    for(let header of headers) {\n      this._xhr.setRequestHeader({header}[0], {header}[1])\n      this._headers.push(header)\n    }\n  }\n  get _xhr() {\n    this.xhr = (this.xhr)\n      ? this.xhr\n      : new XMLHttpRequest()\n    return this.xhr\n  }\n  newXHR() {\n    return new Promise((resolve, reject) => {\n      if(this._xhr.status === 200) this._xhr.abort()\n      this._xhr.open(this._type, this._url)\n      this._xhr.onload = resolve\n      this._xhr.onerror = reject\n      this._xhr.send(this._data)\n    })\n  }\n}\n","MVC.Channels = class {\r\n  constructor() {}\r\n  get _channels() { return this.channels || {} }\r\n  channel(channelName) {\r\n    this._channels[channelName] = (this._channels[channelName])\r\n      ? this._channels[channelName]\r\n      : new MVC.Channels.Channel()\r\n    return this._channels[channelName]\r\n  }\r\n  off(channelName) {\r\n    delete this._channels[channelName]\r\n  }\r\n}\r\n","MVC.Channels.Channel = class {\r\n  constructor() {}\r\n  get _responses() { return this.responses || {} }\r\n  response(responseName, responseCallback) {\r\n    if(responseCallback) {\r\n      this._responses[responseName] = responseCallback\r\n    } else {\r\n      return this._responses[response]\r\n    }\r\n  }\r\n  request(responseName, requestData) {\r\n    if(this._responses[responseName]) {\r\n      return this._responses[responseName](requestData)\r\n    }\r\n  }\r\n  off(responseName) {\r\n    if(responseName) {\r\n      delete this._responses[responseName]\r\n    } else {\r\n      for(let [responseName] of Object.keys(this._responses)) {\r\n        delete this._responses[responseName]\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Observers = class {}\r\n","MVC.Observers.Observer = class {\r\n  constructor(settings) {\r\n    this._settings = settings\r\n    this._observer.observe(this.target, this.options)\r\n  }\r\n  get _settings() {\r\n    this.settings = (this.settings)\r\n      ? this.settings\r\n      : {}\r\n    return this.settings\r\n  }\r\n  set _settings(settings) {\r\n    if(settings) {\r\n      this.settings = settings\r\n      if(this.settings.context) this._context = this.settings.context\r\n      if(this.settings.target) this._target = (this.settings.target instanceof NodeList)\r\n        ? this.settings.target[0]\r\n        : this.settings.target\r\n      if(this.settings.options) this._options = this.settings.options\r\n      if(this.settings.mutations) this._mutations = this.settings.mutations\r\n    }\r\n  }\r\n  get _context() { return this.context }\r\n  set _context(context) { this.context = context }\r\n  get _target() { return this.target }\r\n  set _target(target) { this.target = target }\r\n  get _options() { return this.options }\r\n  set _options(options) { this.options = options }\r\n  get _observer() {\r\n    this.observer = (this.observer)\r\n      ? this.observer\r\n      : new MutationObserver(this.observerCallback.bind(this))\r\n    return this.observer\r\n  }\r\n  get _mutations() {\r\n    this.mutations = (this.mutations)\r\n      ? this.mutations\r\n      : []\r\n    return this.mutations\r\n  }\r\n  set _mutations(mutations) {\r\n    for(let [mutationSettings, mutationCallback] of Object.entries(mutations)) {\r\n      let mutation\r\n      let mutationData = mutationSettings.split(' ')\r\n      let mutationTarget = MVC.Utils.getObjectFromDotNotationString(\r\n        mutationData[0].replace('@', ''),\r\n        this.context.ui\r\n      )\r\n      let mutationEventName = mutationData[1]\r\n      let mutationEventData = mutationData[2]\r\n      mutationCallback = (mutationCallback.match('@'))\r\n        ? this.context.observerCallbacks[mutationCallback.replace('@', '')]\r\n        : (typeof mutationCallback === 'string')\r\n          ? MVC.Utils.getObjectFromDotNotationString(mutationCallback, window)\r\n          : mutationCallback\r\n      mutation = {\r\n        target: mutationTarget,\r\n        name: mutationEventName,\r\n        callback: mutationCallback,\r\n      }\r\n      if(mutationEventData) mutation.data = mutationEventData\r\n      this._mutations.push(mutation)\r\n    }\r\n  }\r\n  observerCallback(mutationRecordList, observer) {\r\n    for(let [mutationRecordIndex, mutationRecord] of Object.entries(mutationRecordList)) {\r\n      switch(mutationRecord.type) {\r\n        case 'childList':\r\n          let mutationRecordCategories = ['addedNodes', 'removedNodes']\r\n          for(let mutationRecordCategory of mutationRecordCategories) {\r\n            if(mutationRecord[mutationRecordCategory].length) {\r\n              for(let [nodeIndex, node] of Object.entries(mutationRecord[mutationRecordCategory])) {\r\n                let mutation = this.mutations.filter((_mutation) => _mutation.target === node)[0]\r\n                if(mutation) {\r\n                  mutation.callback({\r\n                    mutation: mutation,\r\n                    mutationRecord: mutationRecord,\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break\r\n        case 'attributes':\r\n          let mutation = this.mutations.filter((_mutation) => (\r\n            _mutation.name === mutationRecord.type &&\r\n            _mutation.data === mutationRecord.attributeName\r\n          ))[0]\r\n          if(mutation) {\r\n            mutation.callback({\r\n              mutation: mutation,\r\n              mutationRecord: mutationRecord,\r\n            })\r\n          }\r\n          break\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Model = class extends MVC.Events {\n  constructor(settings) {\n    super()\n    this._settings = settings\n  }\n  get _settings() { return this.settings || {} }\n  set _settings(settings) {\n    if(settings) {\n      this.settings = settings\n      if(this.settings.histiogram) this._histiogram = this.settings.histiogram\n      if(this.settings.data) this.set(this.settings.data)\n      if(this.settings.dataCallbacks) this._dataCallbacks = this.settings.dataCallbacks\n      if(this.settings.dataEvents) this._dataEvents = this.settings.dataEvents\n    }\n  }\n  get _histiogram() { return this.histiogram || {\n    length: 1\n  } }\n  set _histiogram(histiogram) {\n    this.histiogram = Object.assign(\n      this._histiogram,\n      histiogram\n    )\n  }\n  get _history() {\n    this.history = (this.history)\n      ? this.history\n      : []\n    return this.history\n  }\n  set _history(data) {\n    if(\n      Object.keys(data).length\n    ) {\n      if(this._histiogram.length) {\n        this._history.unshift(this.parse(data))\n        this._history.splice(this._histiogram.length)\n      }\n    }\n  }\n  get _data() {\n    this.data =  (this.data)\n      ? this.data\n      : {}\n    return this.data\n  }\n  set _dataEvents(dataEvents) {\n    MVC.Utils.bindEventsToTargetObjects(dataEvents, this, this.dataCallbacks)\n  }\n  get _dataCallbacks() {\n    this.dataCallbacks = (this.dataCallbacks)\n      ? this.dataCallbacks\n      : {}\n    return this.dataCallbacks\n  }\n  set _dataCallbacks(dataCallbacks) {\n    this.dataCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      dataCallbacks, this._dataCallbacks\n    )\n  }\n  get() {\n    let property = arguments[0]\n    return this._data['_'.concat(property)]\n  }\n  set() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 1:\n        for(let [key, value] of Object.entries(arguments[0])) {\n          this.setDataProperty(key, value)\n        }\n        break\n      case 2:\n        let key = arguments[0]\n        let value = arguments[1]\n        this.setDataProperty(key, value)\n        break;\n    }\n  }\n  unset() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 0:\n        for(let key of Object.keys(this._data)) {\n          this.unsetDataProperty(key)\n        }\n        break\n      case 1:\n        let key = arguments[0]\n        this.unsetDataProperty(key)\n        break\n    }\n  }\n  setDataProperty(key, value) {\n    if(!this._data['_'.concat(key)]) {\n      let context = this\n      Object.defineProperties(\n        this._data,\n        {\n          ['_'.concat(key)]: {\n            configurable: true,\n            get() { return this[key] },\n            set(value) {\n              this[key] = value\n              let setValueEventName = ['set', ':', key].join('')\n              let setEventName = 'set'\n              context.emit(\n                setValueEventName,\n                {\n                  name: setValueEventName,\n                  data: {\n                    key: key,\n                    value: value,\n                  },\n                },\n                context\n              )\n              context.emit(\n                setEventName,\n                {\n                  name: setEventName,\n                  data: {\n                    key: key,\n                    value: value,\n                  },\n                },\n                context\n              )\n            }\n          }\n        }\n      )\n    }\n    this._data['_'.concat(key)] = value\n  }\n  unsetDataProperty(key) {\n    let unsetValueEventName = ['unset', ':', key].join('')\n    let unsetEventName = 'unset'\n    let unsetValue = this._data[key]\n    delete this._data['_'.concat(key)]\n    delete this._data[key]\n    this.emit(\n      unsetValueEventName,\n      {\n        name: unsetValueEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n    this.emit(\n      unsetEventName,\n      {\n        name: unsetEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n  }\n  parse(data) {\n    data = data || this._data\n    return JSON.parse(JSON.stringify(Object.assign({}, data))) }\n}\n","MVC.View = class extends MVC.Events {\n  constructor(settings) {\n    super()\n    this._settings = settings\n  }\n  get _settings() {\n    this.settings = (this.settings)\n      ? this.settings\n      : {}\n    return this.settings\n  }\n  set _settings(settings) {\n    if(settings) {\n      this.settings = settings\n      if(this.settings.elementName) this._elementName = this.settings.elementName\n      if(this.settings.element) this._element = this.settings.element\n      if(this.settings.attributes) this._attributes = this.settings.attributes\n      this._ui = this.settings.ui || {}\n      if(this.settings.uiCallbacks) this._uiCallbacks = this.settings.uiCallbacks\n      if(this.settings.observerCallbacks) this._observerCallbacks = this.settings.observerCallbacks\n      if(this.settings.uiEmitters) this._uiEmitters = this.settings.uiEmitters\n      if(this.settings.uiEvents) this._uiEvents = this.settings.uiEvents\n      if(this.settings.observers) this._observers = this.settings.observers\n      if(this.settings.template) this._template = this.settings.template\n      if(this.settings.insert) this._insert = this.settings.insert\n    } else {\n      this._elementName = 'div'\n    }\n  }\n  get _elementName() { return this._element.tagName }\n  set _elementName(elementName) {\n    if(!this._element) this._element = document.createElement(elementName)\n  }\n  get _element() { return this.element }\n  set _element(element) {\n    if(element instanceof HTMLElement) {\n      this.element = element\n    } else if(typeof element === 'string') {\n      this.element = document.querySelector(element)\n    }\n  }\n  get _attributes() { return this._element.attributes }\n  set _attributes(attributes) {\n    for(let [attributeKey, attributeValue] of Object.entries(attributes)) {\n      if(typeof attributeValue === 'undefined') {\n        this._element.removeAttribute(attributeKey)\n      } else {\n        this._element.setAttribute(attributeKey, attributeValue)\n      }\n    }\n    this.attributes = this._element.attributes\n  }\n  get _ui() {\n    this.ui = (this.ui)\n      ? this.ui\n      : {}\n    return this.ui\n  }\n  set _ui(ui) {\n    this._ui['$'] = this.element\n    for(let [uiKey, uiSelector] of Object.entries(ui)) {\n      if(typeof uiSelector === 'undefined') {\n        delete this._ui[uiKey]\n      } else {\n        this._ui[uiKey] = this._element.querySelectorAll(uiSelector)\n      }\n    }\n  }\n  set _uiEvents(uiEvents) {\n    MVC.Utils.bindEventsToTargetObjects(uiEvents, this.ui, this.uiCallbacks)\n  }\n  get _uiCallbacks() { return this.uiCallbacks || {} }\n  set _uiCallbacks(uiCallbacks) { this.uiCallbacks = uiCallbacks }\n  get _observerCallbacks() { return this.observerCallbacks || {} }\n  set _observerCallbacks(observerCallbacks) { this.observerCallbacks = observerCallbacks }\n  get _uiEmitters() { return this.uiEmitters || {} }\n  set _uiEmitters(uiEmitters) { this.uiEmitters = emitters }\n  get _observers() {\n    this.observers = (this.observers)\n      ? this.observers\n      : {}\n    return this.observers\n  }\n  set _observers(observers) {\n    for(let [observerConfiguration, mutationSettings] of Object.entries(observers)) {\n      let observerConfigurationData = observerConfiguration.split(' ')\n      let observerName = observerConfigurationData[0]\n      let observerTarget = (observerName.match('@', ''))\n        ? MVC.Utils.getObjectFromDotNotationString(\n            observerName.replace('@', ''),\n            this.ui\n          )\n        : document.querySelectorAll(observerName)\n      let observerOptions = (observerConfigurationData[1])\n        ? observerConfigurationData[1]\n          .split(',')\n          .reduce((accumulator, currentValue) => {\n            accumulator[currentValue] = true\n            return accumulator\n          }, {})\n        : {}\n      // if(observerOptions)  = observerOptions\n      let observer = new MVC.Observers.Observer({\n        context: this,\n        target: observerTarget,\n        options: observerOptions,\n        mutations: mutationSettings\n      })\n      this._observers[observerName] = observer\n    }\n  }\n  set _insert(insert) {\n    if(this.element.parentElement) this.remove()\n    let insertMethod = insert.method\n    let parentElement = document.querySelector(insert.element)\n    parentElement.insertAdjacentElement(insertMethod, this.element)\n  }\n  remove() { this.element.parentElement.removeChild(this.element) }\n}\n","MVC.Controller = class extends MVC.Events {\n  constructor(settings) {\n    super()\n    if(settings) this._settings = settings\n  }\n  get _settings() {\n    this.settings = (this.settings)\n      ? this.settings\n      : {}\n    return this.settings\n  }\n  set _settings(settings) {\n    this.settings = settings\n    if(this._settings.emitters) this._emitters = this._settings.emitters\n    if(this._settings.modelCallbacks) this._modelCallbacks = this._settings.modelCallbacks\n    if(this._settings.viewCallbacks) this._viewCallbacks = this._settings.viewCallbacks\n    if(this._settings.controllerCallbacks) this._controllerCallbacks = this._settings.controllerCallbacks\n    if(this._settings.routerCallbacks) this._routerCallbacks = this._settings.routerCallbacks\n    if(this._settings.models) this._models = this._settings.models\n    if(this._settings.views) this._views = this._settings.views\n    if(this._settings.controllers) this._controllers = this._settings.controllers\n    if(this._settings.routers) this._routers = this._settings.routers\n    if(this._settings.modelEvents) this._modelEvents = this._settings.modelEvents\n    if(this._settings.viewEvents) this._viewEvents = this._settings.viewEvents\n    if(this._settings.controllerEvents) this._controllerEvents = this._settings.controllerEvents\n  }\n  get _emitters() {\n    this.emitters = (this.emitters)\n      ? this.emitters\n      : {}\n    return this.emitters\n  }\n  set _emitters(emitters) {\n    this.emitters = MVC.Utils.addPropertiesToTargetObject(\n      emitters, this._emitters\n    )\n  }\n  get _modelCallbacks() {\n    this.modelCallbacks = (this.modelCallbacks)\n      ? this.modelCallbacks\n      : {}\n    return this.modelCallbacks\n  }\n  set _modelCallbacks(modelCallbacks) {\n    this.modelCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      modelCallbacks, this._modelCallbacks\n    )\n  }\n  get _viewCallbacks() {\n    this.viewCallbacks = (this.viewCallbacks)\n      ? this.viewCallbacks\n      : {}\n    return this.viewCallbacks\n  }\n  set _viewCallbacks(viewCallbacks) {\n    this.viewCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      viewCallbacks, this._viewCallbacks\n    )\n  }\n  get _controllerCallbacks() {\n    this.controllerCallbacks = (this.controllerCallbacks)\n      ? this.controllerCallbacks\n      : {}\n    return this.controllerCallbacks\n  }\n  set _controllerCallbacks(controllerCallbacks) {\n    this.controllerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      controllerCallbacks, this._controllerCallbacks\n    )\n  }\n  get _routerCallbacks() {\n    this.routerCallbacks = (this.routerCallbacks)\n      ? this.routerCallbacks\n      : {}\n    return this.routerCallbacks\n  }\n  set _routerCallbacks(routerCallbacks) {\n    this.routerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      routerCallbacks, this._routerCallbacks\n    )\n  }\n  get _models() {\n    this.models = (this.models)\n      ? this.models\n      : {}\n    return this.models\n  }\n  set _models(models) {\n    this.models = MVC.Utils.addPropertiesToTargetObject(\n      models, this._models\n    )\n  }\n  get _views() {\n    this.views = (this.views)\n      ? this.views\n      : {}\n    return this.views\n  }\n  set _views(views) {\n    this.views = MVC.Utils.addPropertiesToTargetObject(\n      views, this._views\n    )\n  }\n  get _controllers() {\n    this.controllers = (this.controllers)\n      ? this.controllers\n      : {}\n    return this.controllers\n  }\n  set _controllers(controllers) {\n    this.controllers = MVC.Utils.addPropertiesToTargetObject(\n      controllers, this._controllers\n    )\n  }\n  get _routers() {\n    this.routers = (this.routers)\n      ? this.routers\n      : {}\n    return this.routers\n  }\n  set _routers(routers) {\n    this.routers = MVC.Utils.addPropertiesToTargetObject(\n      routers, this._routers\n    )\n  }\n  set _modelEvents(modelEvents) {\n    MVC.Utils.bindEventsToTargetObjects(modelEvents, this._models, this._modelCallbacks)\n  }\n  set _viewEvents(viewEvents) {\n    MVC.Utils.bindEventsToTargetObjects(viewEvents, this._views)\n  }\n  set _controllerEvents(controllerEvents) {\n    MVC.Utils.bindEventsToTargetObjects(controllerEvents, this._controllers, this._controllerCallbacks)\n  }\n}\n","MVC.Router = class extends MVC.Events {\n  constructor(settings) {\n    super()\n    Object.assign(this, settings, { settings: settings })\n    this.setRoutes(this.routes, this.controllers)\n    this.setEvents()\n    this.start()\n    if(typeof this.initialize === 'function') this.initialize()\n  }\n  start() {\n    var location = this.getRoute()\n    if(location === '') {\n      this.navigate('/')\n    }else {\n      window.dispatchEvent(new Event('hashchange'))\n    }\n  }\n  setRoutes(routes, controllers) {\n    for(var route in routes) {\n      this.routes[route] = controllers[routes[route]]\n    }\n    return\n  }\n  setEvents() {\n    window.addEventListener('hashchange', this.hashChange.bind(this))\n    return\n  }\n  getRoute() {\n    return String(window.location.hash).split('#').pop()\n  }\n  hashChange(event) {\n    var route = this.getRoute()\n    try {\n      this.routes[route](event)\n      this.emit('navigate', this)\n    } catch(error) {}\n  }\n  navigate(path) {\n    window.location.hash = path\n  }\n}\n"]}
{"version":3,"sources":["MVC.js","Constants.js","Events.js","Templates.js","Utils.js","is.js","typeOf.js","addPropertiesToObject.js","getObjectFromDotNotationString.js","toggleEventsForTargetObjects.js","validateDataSchema.js","Channels.js","Channel.js","Base.js","Observer.js","Emitter.js","Service.js","Model.js","View.js","Controller.js","Router.js"],"names":["MVC","Constants","CONST","Events","EV","Templates","TMPL","Utils","isArray","object","Array","isObject","isEqualType","valueA","valueB","typeOf","data","_object","addPropertiesToTargetObject","targetObject","arguments","length","properties","Object","entries","propertyName","propertyValue","getObjectFromDotNotationString","string","context","split","reduce","accumulator","currentValue","RegExp","replace","contextKey","contextValue","test","toggleEventsForTargetObjects","toggleMethod","events","targetObjects","callbacks","eventSettings","eventCallback","eventData","eventTargetSettings","eventName","eventTargets","document","querySelectorAll","eventTargetName","eventTarget","eventTargetMethodName","HTMLElement","eventCallbacks","match","window","values","bindEventsToTargetObjects","unbindEventsFromTargetObjects","validateDataSchema","validate","schema","array","arrayKey","arrayValue","push","objectKey","objectValue","_events","name","eventCallbackName","eventCallbackGroup","eventCallbackGroupName","additionalArguments","splice","Channels","channelName","_channels","Channel","channels","responseName","responseCallback","_responses","response","requestData","keys","responses","Base","settings","options","configuration","_configuration","_options","_settings","Observer","addSettings","_observer","observe","target","_context","_target","NodeList","mutations","_mutations","mutationRecordList","observer","mutationRecordIndex","mutationRecord","type","mutationRecordCategories","mutationRecordCategory","nodeIndex","node","mutation","filter","_mutation","callback","attributeName","MutationObserver","observerCallback","bind","mutationSettings","mutationCallback","mutationData","mutationTarget","ui","mutationEventName","mutationEventData","observerCallbacks","Emitter","Service","_type","url","_url","_data","headers","_headers","_defaults","contentType","responseType","_responseType","Promise","resolve","reject","_xhr","status","abort","open","onload","onerror","send","defaults","_responseTypes","find","responseTypeItem","header","setRequestHeader","xhr","XMLHttpRequest","Model","histiogram","_histiogram","set","dataCallbacks","_dataCallbacks","dataEvents","_dataEvents","_schema","property","concat","_history","parse","key","value","setDataProperty","silent","unsetDataProperty","defineProperties","configurable","get","setValueEventName","join","setEventName","emit","unsetValueEventName","unsetEventName","unsetValue","JSON","stringify","assign","history","unshift","View","elementName","_elementName","element","_element","attributes","_attributes","_ui","uiCallbacks","_uiCallbacks","_observerCallbacks","uiEmitters","_uiEmitters","uiEvents","_uiEvents","observers","_observers","templates","_templates","insert","_insert","parentElement","removeChild","tagName","createElement","querySelector","attributeKey","attributeValue","removeAttribute","setAttribute","uiKey","uiSelector","emitters","observerConfiguration","observerConfigurationData","observerName","observerTarget","observerOptions","remove","insertMethod","method","insertAdjacentElement","templateName","templateSettings","Controller","_emitters","modelCallbacks","_modelCallbacks","viewCallbacks","_viewCallbacks","controllerCallbacks","_controllerCallbacks","routerCallbacks","_routerCallbacks","models","_models","views","_views","controllers","_controllers","routers","_routers","modelEvents","_modelEvents","viewEvents","_viewEvents","controllerEvents","_controllerEvents","Router","setRoutes","routes","setEvents","start","initialize","location","getRoute","navigate","dispatchEvent","Event","route","addEventListener","hashChange","String","hash","pop","event","error","path"],"mappings":"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","file":"../../browser/mvc-framework.js","sourcesContent":["var MVC = MVC || {}\r\n","MVC.Constants = {}\nMVC.CONST = MVC.Constants\n","MVC.Events = class {\r\n  constructor() {}\r\n  get _events() {\r\n    this.events = (this.events)\r\n      ? this.events\r\n      : {}\r\n    return this.events\r\n  }\r\n  eventCallbacks(eventName) { return this._events[eventName] || {} }\r\n  eventCallbackName(eventCallback) {\r\n    return (eventCallback.name.length)\r\n      ? eventCallback.name\r\n      : 'anonymousFunction'\r\n  }\r\n  eventCallbackGroup(eventCallbacks, eventCallbackName) {\r\n    return eventCallbacks[eventCallbackName] || []\r\n  }\r\n  on(eventName, eventCallback) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    let eventCallbackName = this.eventCallbackName(eventCallback)\r\n    let eventCallbackGroup = this.eventCallbackGroup(eventCallbacks, eventCallbackName)\r\n    eventCallbackGroup.push(eventCallback)\r\n    eventCallbacks[eventCallbackName] = eventCallbackGroup\r\n    this._events[eventName] = eventCallbacks\r\n  }\r\n  off() {\r\n    switch(arguments.length) {\r\n      case 1:\r\n        var eventName = arguments[0]\r\n        delete this._events[eventName]\r\n        break\r\n      case 2:\r\n        var eventName = arguments[0]\r\n        var eventCallback = arguments[1]\r\n        var eventCallbackName = this.eventCallbackName(eventCallback)\r\n        delete this._events[eventName][eventCallbackName]\r\n        break\r\n    }\r\n  }\r\n  emit(eventName, eventData) {\r\n    let eventCallbacks = this.eventCallbacks(eventName)\r\n    for(let [eventCallbackGroupName, eventCallbackGroup] of Object.entries(eventCallbacks)) {\r\n      for(let eventCallback of eventCallbackGroup) {\r\n        let additionalArguments = Object.values(arguments).splice(2)\r\n        eventCallback(eventData, ...additionalArguments)\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Constants.Templates = {}\r\nMVC.CONST.TMPL = MVC.Constants.Templates\r\n","MVC.Utils = {}\r\n","MVC.Utils.isArray = function isArray(object) { return Array.isArray(object) }\r\nMVC.Utils.isObject = function isObject(object) {\r\n  return (!Array.isArray(object))\r\n    ? typeof object === 'object'\r\n    : false\r\n}\r\nMVC.Utils.isEqualType = function isEqualType(valueA, valueB) { return valueA === valueB }\r\n","MVC.Utils.typeOf =  function typeOf(data) {\r\n  switch(typeof data) {\r\n    case 'object':\r\n      let _object\r\n      if(MVC.Utils.isArray(data)) {\r\n        // Array\r\n        return 'array'\r\n      } else if(\r\n        MVC.Utils.isObject(data)\r\n      ) {\r\n        // Object\r\n        return 'object'\r\n      } else if(\r\n        data === null\r\n      ) {\r\n        // Null\r\n        return 'null'\r\n      }\r\n      return _object\r\n      break\r\n    case 'string':\r\n    case 'number':\r\n    case 'boolean':\r\n    case 'undefined':\r\n    case 'function':\r\n      return typeof data\r\n      break\r\n  }\r\n}\r\n","MVC.Utils.addPropertiesToTargetObject = function addPropertiesToTargetObject() {\r\n  let targetObject\r\n  switch(arguments.length) {\r\n    case 2:\r\n      let properties = arguments[0]\r\n      targetObject = arguments[1]\r\n      for(let [propertyName, propertyValue] of Object.entries(properties)) {\r\n        targetObject[propertyName] = propertyValue\r\n      }\r\n      break\r\n    case 3:\r\n      let propertyName = arguments[0]\r\n      let propertyValue = arguments[1]\r\n      targetObject = arguments[2]\r\n      targetObject[propertyName] = propertyValue\r\n      break\r\n  }\r\n  return targetObject\r\n}\r\n","MVC.Utils.getObjectFromDotNotationString = function getObjectFromDotNotationString(\r\n  string,\r\n  context\r\n) {\r\n  let object = string\r\n    .split('.')\r\n    .reduce(\r\n      (accumulator, currentValue) => {\r\n        currentValue = (currentValue[0] === '/')\r\n          ? new RegExp(currentValue.replace(new RegExp('/', 'g'), ''))\r\n          : currentValue\r\n        for(let [contextKey, contextValue] of Object.entries(context)) {\r\n          if(currentValue instanceof RegExp) {\r\n            if(currentValue.test(contextKey)) {\r\n              accumulator[contextKey] = contextValue\r\n            }\r\n          } else {\r\n            if(currentValue === contextKey) {\r\n              accumulator[contextKey] = contextValue\r\n            }\r\n          }\r\n        }\r\n        return accumulator\r\n      }, {})\r\n  return object\r\n}\r\n","MVC.Utils.toggleEventsForTargetObjects = function toggleEventsForTargetObjects(\r\n  toggleMethod,\r\n  events,\r\n  targetObjects,\r\n  callbacks\r\n) {\r\n  for(let [eventSettings, eventCallback] of Object.entries(events)) {\r\n    let eventData = eventSettings.split(' ')\r\n    let eventTargetSettings = eventData[0]\r\n    let eventName = eventData[1]\r\n    let eventTargets\r\n    switch(eventTargetSettings[0] === '@') {\r\n      case true:\r\n        eventTargetSettings = eventTargetSettings.replace('@', '')\r\n        eventTargets = (eventTargetSettings)\r\n          ? this.getObjectFromDotNotationString(\r\n            eventTargetSettings,\r\n            targetObjects\r\n          )\r\n          : {\r\n            0: targetObjects,\r\n          }\r\n        break\r\n      case false:\r\n        eventTargets = document.querySelectorAll(eventTargetSettings)\r\n        break\r\n    }\r\n    for(let [eventTargetName, eventTarget] of Object.entries(eventTargets)) {\r\n      let eventTargetMethodName = (toggleMethod === 'on')\r\n        ? (eventTarget instanceof HTMLElement)\r\n          ? 'addEventListener'\r\n          : 'on'\r\n        : (eventTarget instanceof HTMLElement)\r\n          ? 'removeEventListener'\r\n          : 'off'\r\n      let eventCallbacks = (eventCallback.match('@'))\r\n        ? this.getObjectFromDotNotationString(\r\n          eventCallback.replace('@', ''),\r\n          callbacks\r\n        )\r\n        : window[eventCallback]\r\n      for(let eventCallback of Object.values(eventCallbacks)) {\r\n        eventTarget[eventTargetMethodName](eventName, eventCallback)\r\n      }\r\n    }\r\n  }\r\n}\r\nMVC.Utils.bindEventsToTargetObjects = function bindEventsToTargetObjects() {\r\n  this.toggleEventsForTargetObjects('on', ...arguments)\r\n}\r\nMVC.Utils.unbindEventsFromTargetObjects = function unbindEventsFromTargetObjects() {\r\n  this.toggleEventsForTargetObjects('off', ...arguments)\r\n}\r\n","MVC.Utils.validateDataSchema = function validate(data, schema) {\r\n  if(schema) {\r\n    switch(MVC.Utils.typeOf(data)) {\r\n      case 'array':\r\n        let array = []\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(array)\r\n          )\r\n        ) {\r\n          for(let [arrayKey, arrayValue] of Object.entries(data)) {\r\n            array.push(\r\n              this.validate(arrayValue)\r\n            )\r\n          }\r\n        }\r\n        return array\r\n        break\r\n      case 'object':\r\n        let object = {}\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(object)\r\n          )\r\n        ) {\r\n          for(let [objectKey, objectValue] of Object.entries(data)) {\r\n            object[objectKey] = this.validate(objectValue, schema[objectKey])\r\n          }\r\n        }\r\n        return object\r\n        break\r\n      case 'string':\r\n      case 'number':\r\n      case 'boolean':\r\n        schema = (MVC.Utils.typeOf(schema) === 'function')\r\n          ? schema()\r\n          : schema\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(data)\r\n          )\r\n        ) {\r\n          return data\r\n        } else {\r\n          throw MVC.CONST.TMPL\r\n        }\r\n        break\r\n      case 'null':\r\n        if(\r\n          MVC.Utils.isEqualType(\r\n            MVC.Utils.typeOf(schema),\r\n            MVC.Utils.typeOf(data)\r\n          )\r\n        ) {\r\n          return data\r\n        }\r\n        break\r\n      case 'undefined':\r\n        throw MVC.CONST.TMPL\r\n        break\r\n      case 'function':\r\n        throw MVC.CONST.TMPL\r\n        break\r\n    }\r\n  } else {\r\n    throw MVC.CONST.TMPL\r\n  }\r\n}\r\n","MVC.Channels = class {\r\n  constructor() {}\r\n  get _channels() { return this.channels || {} }\r\n  channel(channelName) {\r\n    this._channels[channelName] = (this._channels[channelName])\r\n      ? this._channels[channelName]\r\n      : new MVC.Channels.Channel()\r\n    return this._channels[channelName]\r\n  }\r\n  off(channelName) {\r\n    delete this._channels[channelName]\r\n  }\r\n}\r\n","MVC.Channels.Channel = class {\r\n  constructor() {}\r\n  get _responses() { return this.responses || {} }\r\n  response(responseName, responseCallback) {\r\n    if(responseCallback) {\r\n      this._responses[responseName] = responseCallback\r\n    } else {\r\n      return this._responses[response]\r\n    }\r\n  }\r\n  request(responseName, requestData) {\r\n    if(this._responses[responseName]) {\r\n      return this._responses[responseName](requestData)\r\n    }\r\n  }\r\n  off(responseName) {\r\n    if(responseName) {\r\n      delete this._responses[responseName]\r\n    } else {\r\n      for(let [responseName] of Object.keys(this._responses)) {\r\n        delete this._responses[responseName]\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Base = class extends MVC.Events {\r\n  constructor(settings, options, configuration) {\r\n    super()\r\n    if(configuration) this._configuration = configuration\r\n    if(options) this._options = options\r\n    if(settings) this._settings = settings\r\n  }\r\n  get _configuration() {\r\n    this.configuration = (this.configuration)\r\n      ? this.configuration\r\n      : {}\r\n    return this.configuration\r\n  }\r\n  set _configuration(configuration) { this.configuration = configuration }\r\n  get _options() {\r\n    this.options = (this.options)\r\n      ? this.options\r\n      : {}\r\n    return this.options\r\n  }\r\n  set _options(options) { this.options = options }\r\n  get _settings() {\r\n    this.settings = (this.settings)\r\n      ? this.settings\r\n      : {}\r\n    return this.settings\r\n  }\r\n  set _settings(settings) { this.settings = settings }\r\n}\r\n","MVC.Observer = class extends MVC.Base {\r\n  constructor() {\r\n    super(...arguments)\r\n    this.addSettings()\r\n    this._observer.observe(this.target, this.options)\r\n  }\r\n  get _context() { return this.context }\r\n  set _context(context) { this.context = context }\r\n  get _target() { return this.target }\r\n  set _target(target) { this.target = target }\r\n  get _options() { return this.options }\r\n  set _options(options) { this.options = options }\r\n  get _observer() {\r\n    this.observer = (this.observer)\r\n      ? this.observer\r\n      : new MutationObserver(this.observerCallback.bind(this))\r\n    return this.observer\r\n  }\r\n  get _mutations() {\r\n    this.mutations = (this.mutations)\r\n      ? this.mutations\r\n      : []\r\n    return this.mutations\r\n  }\r\n  set _mutations(mutations) {\r\n    for(let [mutationSettings, mutationCallback] of Object.entries(mutations)) {\r\n      let mutation\r\n      let mutationData = mutationSettings.split(' ')\r\n      let mutationTarget = MVC.Utils.getObjectFromDotNotationString(\r\n        mutationData[0].replace('@', ''),\r\n        this.context.ui\r\n      )\r\n      let mutationEventName = mutationData[1]\r\n      let mutationEventData = mutationData[2]\r\n      mutationCallback = (mutationCallback.match('@'))\r\n        ? this.context.observerCallbacks[mutationCallback.replace('@', '')]\r\n        : (typeof mutationCallback === 'string')\r\n          ? MVC.Utils.getObjectFromDotNotationString(mutationCallback, window)\r\n          : mutationCallback\r\n      mutation = {\r\n        target: mutationTarget,\r\n        name: mutationEventName,\r\n        callback: mutationCallback,\r\n      }\r\n      if(mutationEventData) mutation.data = mutationEventData\r\n      this._mutations.push(mutation)\r\n    }\r\n  }\r\n  addSettings() {\r\n    if(Object.keys(this._settings).length) {\r\n      this._settings = settings\r\n      if(this._settings.context) this._context = this._settings.context\r\n      if(this._settings.target) this._target = (this._settings.target instanceof NodeList)\r\n      ? this._settings.target[0]\r\n      : this._settings.target\r\n      if(this._settings.options) this._options = this._settings.options\r\n      if(this._settings.mutations) this._mutations = this._settings.mutations\r\n    }\r\n  }\r\n  observerCallback(mutationRecordList, observer) {\r\n    for(let [mutationRecordIndex, mutationRecord] of Object.entries(mutationRecordList)) {\r\n      switch(mutationRecord.type) {\r\n        case 'childList':\r\n          let mutationRecordCategories = ['addedNodes', 'removedNodes']\r\n          for(let mutationRecordCategory of mutationRecordCategories) {\r\n            if(mutationRecord[mutationRecordCategory].length) {\r\n              for(let [nodeIndex, node] of Object.entries(mutationRecord[mutationRecordCategory])) {\r\n                let mutation = this.mutations.filter((_mutation) => _mutation.target === node)[0]\r\n                if(mutation) {\r\n                  mutation.callback({\r\n                    mutation: mutation,\r\n                    mutationRecord: mutationRecord,\r\n                  })\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break\r\n        case 'attributes':\r\n          let mutation = this.mutations.filter((_mutation) => (\r\n            _mutation.name === mutationRecord.type &&\r\n            _mutation.data === mutationRecord.attributeName\r\n          ))[0]\r\n          if(mutation) {\r\n            mutation.callback({\r\n              mutation: mutation,\r\n              mutationRecord: mutationRecord,\r\n            })\r\n          }\r\n          break\r\n      }\r\n    }\r\n  }\r\n}\r\n","MVC.Emitter = class extends MVC.Base {\r\n  constructor() { super(...arguments) }\r\n  get _schema() { return this.schema }\r\n  set _schema(schema) { this.schema = schema }\r\n  validate(data) {\r\n    return MVC.Utils.validateDataSchema(data, this.schema)\r\n  }\r\n}\r\n","MVC.Service = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _defaults() { return this.defaults || {\n    contentType: {'Content-Type': 'application/json'},\n    responseType: 'json',\n  } }\n  get _responseTypes() { return ['', 'arraybuffer', 'blob', 'document', 'json', 'text'] }\n  get _responseType() { return this.responseType }\n  set _responseType(responseType) {\n    this._xhr.responseType = this._responseTypes.find(\n      (responseTypeItem) => responseTypeItem === responseType\n    ) || this._defaults.responseType\n  }\n  get _type() { return this.type }\n  set _type(type) { this.type = type }\n  get _url() { return this.url }\n  set _url(url) { this.url = url }\n  get _headers() { return this.headers || [] }\n  set _headers(headers) {\n    this._headers.length = 0\n    for(let header of headers) {\n      this._xhr.setRequestHeader({header}[0], {header}[1])\n      this._headers.push(header)\n    }\n  }\n  get _xhr() {\n    this.xhr = (this.xhr)\n      ? this.xhr\n      : new XMLHttpRequest()\n    return this.xhr\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.type) this._type = this._settings.type\n      if(this._settings.url) this._url = this._settings.url\n      if(this._settings.data) this._data = this._settings.data || null\n      if(this._settings.headers) this._headers = this._settings.headers || [this._defaults.contentType]\n      if(this._settings.responseType) this._responseType = this._settings.responseType\n    }\n  }\n  newXHR() {\n    return new Promise((resolve, reject) => {\n      if(this._xhr.status === 200) this._xhr.abort()\n      this._xhr.open(this._type, this._url)\n      this._xhr.onload = resolve\n      this._xhr.onerror = reject\n      this._xhr.send(this._data)\n    })\n  }\n}\n","MVC.Model = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _defaults() { return this._defaults }\n  set _defaults(defaults) {\n    this.defaults = defaults\n    this.set(this.defaults)\n  }\n  get _schema() { return this._schema }\n  set _schema(schema) { this.schema = schema }\n  get _histiogram() { return this.histiogram || {\n    length: 1\n  } }\n  set _histiogram(histiogram) {\n    this.histiogram = Object.assign(\n      this._histiogram,\n      histiogram\n    )\n  }\n  get _history() {\n    this.history = (this.history)\n      ? this.history\n      : []\n    return this.history\n  }\n  set _history(data) {\n    if(\n      Object.keys(data).length\n    ) {\n      if(this._histiogram.length) {\n        this._history.unshift(this.parse(data))\n        this._history.splice(this._histiogram.length)\n      }\n    }\n  }\n  get _data() {\n    this.data =  (this.data)\n      ? this.data\n      : {}\n    return this.data\n  }\n  set _dataEvents(dataEvents) {\n    MVC.Utils.bindEventsToTargetObjects(dataEvents, this, this.dataCallbacks)\n  }\n  get _dataCallbacks() {\n    this.dataCallbacks = (this.dataCallbacks)\n      ? this.dataCallbacks\n      : {}\n    return this.dataCallbacks\n  }\n  set _dataCallbacks(dataCallbacks) {\n    this.dataCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      dataCallbacks, this._dataCallbacks\n    )\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.histiogram) this._histiogram = this._settings.histiogram\n      if(this._settings.data) this.set(this._settings.data)\n      if(this._settings.dataCallbacks) this._dataCallbacks = this._settings.dataCallbacks\n      if(this._settings.dataEvents) this._dataEvents = this._settings.dataEvents\n      if(this._settings.schema) this._schema = this._settings.schema\n      if(this._settings.defaults) this._defaults = this._settings.defaults\n    }\n  }\n  get() {\n    let property = arguments[0]\n    return this._data['_'.concat(property)]\n  }\n  set() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 1:\n        for(let [key, value] of Object.entries(arguments[0])) {\n          this.setDataProperty(key, value)\n        }\n        break\n      case 2:\n        var key = arguments[0]\n        var value = arguments[1]\n        this.setDataProperty(key, value)\n        break\n      case 3:\n        var key = arguments[0]\n        var value = arguments[1]\n        var silent = arguments[2]\n        this.setDataProperty(key, value, silent)\n        break\n    }\n  }\n  unset() {\n    this._history = this.parse()\n    switch(arguments.length) {\n      case 0:\n        for(let key of Object.keys(this._data)) {\n          this.unsetDataProperty(key)\n        }\n        break\n      case 1:\n        let key = arguments[0]\n        this.unsetDataProperty(key)\n        break\n    }\n  }\n  setDataProperty(key, value, silent) {\n    if(!this._data['_'.concat(key)]) {\n      let context = this\n      Object.defineProperties(\n        this._data,\n        {\n          ['_'.concat(key)]: {\n            configurable: true,\n            get() { return this[key] },\n            set(value) {\n              this[key] = value\n              let setValueEventName = ['set', ':', key].join('')\n              let setEventName = 'set'\n              if(!silent) {\n                context.emit(\n                  setValueEventName,\n                  {\n                    name: setValueEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n                context.emit(\n                  setEventName,\n                  {\n                    name: setEventName,\n                    data: {\n                      key: key,\n                      value: value,\n                    },\n                  },\n                  context\n                )\n              }\n            }\n          }\n        }\n      )\n    }\n    this._data['_'.concat(key)] = value\n  }\n  unsetDataProperty(key) {\n    let unsetValueEventName = ['unset', ':', key].join('')\n    let unsetEventName = 'unset'\n    let unsetValue = this._data[key]\n    delete this._data['_'.concat(key)]\n    delete this._data[key]\n    this.emit(\n      unsetValueEventName,\n      {\n        name: unsetValueEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n    this.emit(\n      unsetEventName,\n      {\n        name: unsetEventName,\n        data: {\n          key: key,\n          value: unsetValue,\n        }\n      }\n    )\n  }\n  parse(data) {\n    data = data || this._data\n    return JSON.parse(JSON.stringify(Object.assign({}, data))) }\n}\n","MVC.View = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _elementName() { return this._element.tagName }\n  set _elementName(elementName) {\n    if(!this._element) this._element = document.createElement(elementName)\n  }\n  get _element() { return this.element }\n  set _element(element) {\n    if(element instanceof HTMLElement) {\n      this.element = element\n    } else if(typeof element === 'string') {\n      this.element = document.querySelector(element)\n    }\n  }\n  get _attributes() { return this._element.attributes }\n  set _attributes(attributes) {\n    for(let [attributeKey, attributeValue] of Object.entries(attributes)) {\n      if(typeof attributeValue === 'undefined') {\n        this._element.removeAttribute(attributeKey)\n      } else {\n        this._element.setAttribute(attributeKey, attributeValue)\n      }\n    }\n    this.attributes = this._element.attributes\n  }\n  get _ui() {\n    this.ui = (this.ui)\n      ? this.ui\n      : {}\n    return this.ui\n  }\n  set _ui(ui) {\n    this._ui['$'] = this.element\n    for(let [uiKey, uiSelector] of Object.entries(ui)) {\n      if(typeof uiSelector === 'undefined') {\n        delete this._ui[uiKey]\n      } else {\n        this._ui[uiKey] = this._element.querySelectorAll(uiSelector)\n      }\n    }\n  }\n  set _uiEvents(uiEvents) {\n    MVC.Utils.bindEventsToTargetObjects(uiEvents, this.ui, this.uiCallbacks)\n  }\n  get _uiCallbacks() { return this.uiCallbacks || {} }\n  set _uiCallbacks(uiCallbacks) { this.uiCallbacks = uiCallbacks }\n  get _observerCallbacks() { return this.observerCallbacks || {} }\n  set _observerCallbacks(observerCallbacks) { this.observerCallbacks = observerCallbacks }\n  get _uiEmitters() { return this.uiEmitters || {} }\n  set _uiEmitters(uiEmitters) { this.uiEmitters = emitters }\n  get _observers() {\n    this.observers = (this.observers)\n      ? this.observers\n      : {}\n    return this.observers\n  }\n  set _observers(observers) {\n    for(let [observerConfiguration, mutationSettings] of Object.entries(observers)) {\n      let observerConfigurationData = observerConfiguration.split(' ')\n      let observerName = observerConfigurationData[0]\n      let observerTarget = (observerName.match('@', ''))\n        ? MVC.Utils.getObjectFromDotNotationString(\n            observerName.replace('@', ''),\n            this.ui\n          )\n        : document.querySelectorAll(observerName)\n      let observerOptions = (observerConfigurationData[1])\n        ? observerConfigurationData[1]\n          .split(',')\n          .reduce((accumulator, currentValue) => {\n            accumulator[currentValue] = true\n            return accumulator\n          }, {})\n        : {}\n      let observer = new MVC.Observer({\n        context: this,\n        target: observerTarget,\n        options: observerOptions,\n        mutations: mutationSettings\n      })\n      this._observers[observerName] = observer\n    }\n  }\n  set _insert(insert) {\n    if(this.element.parentElement) this.remove()\n    let insertMethod = insert.method\n    let parentElement = document.querySelector(insert.element)\n    parentElement.insertAdjacentElement(insertMethod, this.element)\n  }\n  get _templates() {\n    this.templates = (this.templates)\n      ? this.templates\n      : {}\n    return this.templates\n  }\n  set _templates(templates) {\n    for(let [templateName, templateSettings] of Object.entries(templates)) {\n      this._templates[templateName] = templateSettings\n    }\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this._settings.elementName) this._elementName = this._settings.elementName\n      if(this._settings.element) this._element = this._settings.element\n      if(this._settings.attributes) this._attributes = this._settings.attributes\n      this._ui = this._settings.ui || {}\n      if(this._settings.uiCallbacks) this._uiCallbacks = this._settings.uiCallbacks\n      if(this._settings.observerCallbacks) this._observerCallbacks = this._settings.observerCallbacks\n      if(this._settings.uiEmitters) this._uiEmitters = this._settings.uiEmitters\n      if(this._settings.uiEvents) this._uiEvents = this._settings.uiEvents\n      if(this._settings.observers) this._observers = this._settings.observers\n      if(this._settings.templates) this._templates = this._settings.templates\n      if(this._settings.insert) this._insert = this._settings.insert\n    } else {\n      this._elementName = 'div'\n    }\n  }\n  remove() { this.element.parentElement.removeChild(this.element) }\n}\n","MVC.Controller = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n  }\n  get _emitters() {\n    this.emitters = (this.emitters)\n      ? this.emitters\n      : {}\n    return this.emitters\n  }\n  set _emitters(emitters) {\n    this.emitters = MVC.Utils.addPropertiesToTargetObject(\n      emitters, this._emitters\n    )\n  }\n  get _modelCallbacks() {\n    this.modelCallbacks = (this.modelCallbacks)\n      ? this.modelCallbacks\n      : {}\n    return this.modelCallbacks\n  }\n  set _modelCallbacks(modelCallbacks) {\n    this.modelCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      modelCallbacks, this._modelCallbacks\n    )\n  }\n  get _viewCallbacks() {\n    this.viewCallbacks = (this.viewCallbacks)\n      ? this.viewCallbacks\n      : {}\n    return this.viewCallbacks\n  }\n  set _viewCallbacks(viewCallbacks) {\n    this.viewCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      viewCallbacks, this._viewCallbacks\n    )\n  }\n  get _controllerCallbacks() {\n    this.controllerCallbacks = (this.controllerCallbacks)\n      ? this.controllerCallbacks\n      : {}\n    return this.controllerCallbacks\n  }\n  set _controllerCallbacks(controllerCallbacks) {\n    this.controllerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      controllerCallbacks, this._controllerCallbacks\n    )\n  }\n  get _routerCallbacks() {\n    this.routerCallbacks = (this.routerCallbacks)\n      ? this.routerCallbacks\n      : {}\n    return this.routerCallbacks\n  }\n  set _routerCallbacks(routerCallbacks) {\n    this.routerCallbacks = MVC.Utils.addPropertiesToTargetObject(\n      routerCallbacks, this._routerCallbacks\n    )\n  }\n  get _models() {\n    this.models = (this.models)\n      ? this.models\n      : {}\n    return this.models\n  }\n  set _models(models) {\n    this.models = MVC.Utils.addPropertiesToTargetObject(\n      models, this._models\n    )\n  }\n  get _views() {\n    this.views = (this.views)\n      ? this.views\n      : {}\n    return this.views\n  }\n  set _views(views) {\n    this.views = MVC.Utils.addPropertiesToTargetObject(\n      views, this._views\n    )\n  }\n  get _controllers() {\n    this.controllers = (this.controllers)\n      ? this.controllers\n      : {}\n    return this.controllers\n  }\n  set _controllers(controllers) {\n    this.controllers = MVC.Utils.addPropertiesToTargetObject(\n      controllers, this._controllers\n    )\n  }\n  get _routers() {\n    this.routers = (this.routers)\n      ? this.routers\n      : {}\n    return this.routers\n  }\n  set _routers(routers) {\n    this.routers = MVC.Utils.addPropertiesToTargetObject(\n      routers, this._routers\n    )\n  }\n  set _modelEvents(modelEvents) {\n    MVC.Utils.bindEventsToTargetObjects(modelEvents, this._models, this._modelCallbacks)\n  }\n  set _viewEvents(viewEvents) {\n    MVC.Utils.bindEventsToTargetObjects(viewEvents, this._views, this._viewCallbacks)\n  }\n  set _controllerEvents(controllerEvents) {\n    MVC.Utils.bindEventsToTargetObjects(controllerEvents, this._controllers, this._controllerCallbacks)\n  }\n  addSettings() {\n    if(Object.keys(this._settings).length) {\n      if(this.settings.emitters) this._emitters = this.settings.emitters\n      if(this.settings.modelCallbacks) this._modelCallbacks = this.settings.modelCallbacks\n      if(this.settings.viewCallbacks) this._viewCallbacks = this.settings.viewCallbacks\n      if(this.settings.controllerCallbacks) this._controllerCallbacks = this.settings.controllerCallbacks\n      if(this.settings.routerCallbacks) this._routerCallbacks = this.settings.routerCallbacks\n      if(this.settings.models) this._models = this.settings.models\n      if(this.settings.views) this._views = this.settings.views\n      if(this.settings.controllers) this._controllers = this.settings.controllers\n      if(this.settings.routers) this._routers = this.settings.routers\n      if(this.settings.modelEvents) this._modelEvents = this.settings.modelEvents\n      if(this.settings.viewEvents) this._viewEvents = this.settings.viewEvents\n      if(this.settings.controllerEvents) this._controllerEvents = this.settings.controllerEvents\n    }\n  }\n}\n","MVC.Router = class extends MVC.Base {\n  constructor() {\n    super(...arguments)\n    this.addSettings()\n    this.setRoutes(this.routes, this.controllers)\n    this.setEvents()\n    this.start()\n    if(typeof this.initialize === 'function') this.initialize()\n  }\n  addSettings() {\n    if(this._settings) {\n      if(this._settings.routes) this.routes = this._settings.routes\n      if(this._settings.controllers) this.controllers = this._settings.controllers\n    }\n  }\n  start() {\n    var location = this.getRoute()\n    if(location === '') {\n      this.navigate('/')\n    }else {\n      window.dispatchEvent(new Event('hashchange'))\n    }\n  }\n  setRoutes(routes, controllers) {\n    for(var route in routes) {\n      this.routes[route] = controllers[routes[route]]\n    }\n    return\n  }\n  setEvents() {\n    window.addEventListener('hashchange', this.hashChange.bind(this))\n    return\n  }\n  getRoute() {\n    return String(window.location.hash).split('#').pop()\n  }\n  hashChange(event) {\n    var route = this.getRoute()\n    try {\n      this.routes[route](event)\n      this.emit('navigate', this)\n    } catch(error) {}\n  }\n  navigate(path) {\n    window.location.hash = path\n  }\n}\n"]}